var Re=(s,t,a)=>{if(!t.has(s))throw TypeError("Cannot "+a)};var l=(s,t,a)=>(Re(s,t,"read from private field"),a?a.call(s):t.get(s)),C=(s,t,a)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,a)},H=(s,t,a,r)=>(Re(s,t,"write to private field"),r?r.call(s,a):t.set(s,a),a);var O=(s,t,a)=>(Re(s,t,"access private method"),a);import{c as q,h as Hs,p as ns,i as K,k as Me,l as xe,n as ze,m as Te,o as ls,t as Ps,q as Rs,v as Ds,w as cs,x as bs,r as m,y as Os,z as Se,j as e,d as ys,a as Be,X as V,C as We,V as Q,f as As}from"./index-21136cf3.js";import{B as S}from"./Button-304e586d.js";import{S as Ee,P as _e,A as Ms,a as zs}from"./search-a5a92056.js";import{P as Ge,C as Ts}from"./phone-d5980ef7.js";import{M as Ke}from"./mail-f6f5c0ef.js";import{E as he}from"./eye-715bc848.js";import{a as He,u as Ze,c as vs,d as z,e as ws,b as os,o as ds,I as ee,T as Is}from"./index.esm-d14c9e26.js";import{E as ms}from"./eye-off-1bfd5b3b.js";const $s=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fs=q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Ne=q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),js=q("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),qs=q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ls=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Us=q("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),Vs=q("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),xs=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ns=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Qs=q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Je=q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),ke=q("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Ye=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),De=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var U,j,ue,F,se,ne,Z,J,pe,le,ce,te,ae,Y,oe,re,me,ge,Ie,fe,$e,be,Fe,ye,qe,ve,Le,we,Ue,je,Ve,Ce,ks,fs,Bs=(fs=class extends Hs{constructor(t,a){super();C(this,re);C(this,ge);C(this,fe);C(this,be);C(this,ye);C(this,ve);C(this,we);C(this,je);C(this,Ce);C(this,U,void 0);C(this,j,void 0);C(this,ue,void 0);C(this,F,void 0);C(this,se,void 0);C(this,ne,void 0);C(this,Z,void 0);C(this,J,void 0);C(this,pe,void 0);C(this,le,void 0);C(this,ce,void 0);C(this,te,void 0);C(this,ae,void 0);C(this,Y,void 0);C(this,oe,new Set);this.options=a,H(this,U,t),H(this,J,null),H(this,Z,ns()),this.options.experimental_prefetchInRender||l(this,Z).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(l(this,j).addObserver(this),hs(l(this,j),this.options)?O(this,re,me).call(this):this.updateResult(),O(this,ye,qe).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qe(l(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qe(l(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,O(this,ve,Le).call(this),O(this,we,Ue).call(this),l(this,j).removeObserver(this)}setOptions(t){const a=this.options,r=l(this,j);if(this.options=l(this,U).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof K(this.options.enabled,l(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");O(this,je,Ve).call(this),l(this,j).setOptions(this.options),a._defaulted&&!Me(this.options,a)&&l(this,U).getQueryCache().notify({type:"observerOptionsUpdated",query:l(this,j),observer:this});const i=this.hasListeners();i&&us(l(this,j),r,this.options,a)&&O(this,re,me).call(this),this.updateResult(),i&&(l(this,j)!==r||K(this.options.enabled,l(this,j))!==K(a.enabled,l(this,j))||xe(this.options.staleTime,l(this,j))!==xe(a.staleTime,l(this,j)))&&O(this,ge,Ie).call(this);const n=O(this,fe,$e).call(this);i&&(l(this,j)!==r||K(this.options.enabled,l(this,j))!==K(a.enabled,l(this,j))||n!==l(this,Y))&&O(this,be,Fe).call(this,n)}getOptimisticResult(t){const a=l(this,U).getQueryCache().build(l(this,U),t),r=this.createResult(a,t);return Gs(this,r)&&(H(this,F,r),H(this,ne,this.options),H(this,se,l(this,j).state)),r}getCurrentResult(){return l(this,F)}trackResult(t,a){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),a==null||a(i),Reflect.get(r,i))})}trackProp(t){l(this,oe).add(t)}getCurrentQuery(){return l(this,j)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=l(this,U).defaultQueryOptions(t),r=l(this,U).getQueryCache().build(l(this,U),a);return r.fetch().then(()=>this.createResult(r,a))}fetch(t){return O(this,re,me).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),l(this,F)))}createResult(t,a){var W;const r=l(this,j),i=this.options,n=l(this,F),o=l(this,se),f=l(this,ne),b=t!==r?t.state:l(this,ue),{state:w}=t;let d={...w},v=!1,x;if(a._optimisticResults){const y=this.hasListeners(),M=!y&&hs(t,a),L=y&&us(t,r,a,i);(M||L)&&(d={...d,...Ds(w.data,t.options)}),a._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:N}=d;x=d.data;let R=!1;if(a.placeholderData!==void 0&&x===void 0&&N==="pending"){let y;n!=null&&n.isPlaceholderData&&a.placeholderData===(f==null?void 0:f.placeholderData)?(y=n.data,R=!0):y=typeof a.placeholderData=="function"?a.placeholderData((W=l(this,ce))==null?void 0:W.state.data,l(this,ce)):a.placeholderData,y!==void 0&&(N="success",x=cs(n==null?void 0:n.data,y,a),v=!0)}if(a.select&&x!==void 0&&!R)if(n&&x===(o==null?void 0:o.data)&&a.select===l(this,pe))x=l(this,le);else try{H(this,pe,a.select),x=a.select(x),x=cs(n==null?void 0:n.data,x,a),H(this,le,x),H(this,J,null)}catch(y){H(this,J,y)}l(this,J)&&(h=l(this,J),x=l(this,le),p=Date.now(),N="error");const I=d.fetchStatus==="fetching",T=N==="pending",D=N==="error",g=T&&I,A=x!==void 0,_={status:N,fetchStatus:d.fetchStatus,isPending:T,isSuccess:N==="success",isError:D,isInitialLoading:g,isLoading:g,data:x,dataUpdatedAt:d.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>b.dataUpdateCount||d.errorUpdateCount>b.errorUpdateCount,isFetching:I,isRefetching:I&&!T,isLoadingError:D&&!A,isPaused:d.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:D&&A,isStale:Xe(t,a),refetch:this.refetch,promise:l(this,Z),isEnabled:K(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const y=c=>{_.status==="error"?c.reject(_.error):_.data!==void 0&&c.resolve(_.data)},M=()=>{const c=H(this,Z,_.promise=ns());y(c)},L=l(this,Z);switch(L.status){case"pending":t.queryHash===r.queryHash&&y(L);break;case"fulfilled":(_.status==="error"||_.data!==L.value)&&M();break;case"rejected":(_.status!=="error"||_.error!==L.reason)&&M();break}}return _}updateResult(){const t=l(this,F),a=this.createResult(l(this,j),this.options);if(H(this,se,l(this,j).state),H(this,ne,this.options),l(this,se).data!==void 0&&H(this,ce,l(this,j)),Me(a,t))return;H(this,F,a);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,n=typeof i=="function"?i():i;if(n==="all"||!n&&!l(this,oe).size)return!0;const o=new Set(n??l(this,oe));return this.options.throwOnError&&o.add("error"),Object.keys(l(this,F)).some(f=>{const u=f;return l(this,F)[u]!==t[u]&&o.has(u)})};O(this,Ce,ks).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&O(this,ye,qe).call(this)}},U=new WeakMap,j=new WeakMap,ue=new WeakMap,F=new WeakMap,se=new WeakMap,ne=new WeakMap,Z=new WeakMap,J=new WeakMap,pe=new WeakMap,le=new WeakMap,ce=new WeakMap,te=new WeakMap,ae=new WeakMap,Y=new WeakMap,oe=new WeakMap,re=new WeakSet,me=function(t){O(this,je,Ve).call(this);let a=l(this,j).fetch(this.options,t);return t!=null&&t.throwOnError||(a=a.catch(ze)),a},ge=new WeakSet,Ie=function(){O(this,ve,Le).call(this);const t=xe(this.options.staleTime,l(this,j));if(Te||l(this,F).isStale||!ls(t))return;const r=Ps(l(this,F).dataUpdatedAt,t)+1;H(this,te,setTimeout(()=>{l(this,F).isStale||this.updateResult()},r))},fe=new WeakSet,$e=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(l(this,j)):this.options.refetchInterval)??!1},be=new WeakSet,Fe=function(t){O(this,we,Ue).call(this),H(this,Y,t),!(Te||K(this.options.enabled,l(this,j))===!1||!ls(l(this,Y))||l(this,Y)===0)&&H(this,ae,setInterval(()=>{(this.options.refetchIntervalInBackground||Rs.isFocused())&&O(this,re,me).call(this)},l(this,Y)))},ye=new WeakSet,qe=function(){O(this,ge,Ie).call(this),O(this,be,Fe).call(this,O(this,fe,$e).call(this))},ve=new WeakSet,Le=function(){l(this,te)&&(clearTimeout(l(this,te)),H(this,te,void 0))},we=new WeakSet,Ue=function(){l(this,ae)&&(clearInterval(l(this,ae)),H(this,ae,void 0))},je=new WeakSet,Ve=function(){const t=l(this,U).getQueryCache().build(l(this,U),this.options);if(t===l(this,j))return;const a=l(this,j);H(this,j,t),H(this,ue,t.state),this.hasListeners()&&(a==null||a.removeObserver(this),t.addObserver(this))},Ce=new WeakSet,ks=function(t){bs.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(l(this,F))}),l(this,U).getQueryCache().notify({query:l(this,j),type:"observerResultsUpdated"})})},fs);function Ws(s,t){return K(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function hs(s,t){return Ws(s,t)||s.state.data!==void 0&&Qe(s,t,t.refetchOnMount)}function Qe(s,t,a){if(K(t.enabled,s)!==!1&&xe(t.staleTime,s)!=="static"){const r=typeof a=="function"?a(s):a;return r==="always"||r!==!1&&Xe(s,t)}return!1}function us(s,t,a,r){return(s!==t||K(r.enabled,s)===!1)&&(!a.suspense||s.state.status!=="error")&&Xe(s,a)}function Xe(s,t){return K(t.enabled,s)!==!1&&s.isStaleByTime(xe(t.staleTime,s))}function Gs(s,t){return!Me(s.getCurrentResult(),t)}var _s=m.createContext(!1),Ks=()=>m.useContext(_s);_s.Provider;function Zs(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Js=m.createContext(Zs()),Ys=()=>m.useContext(Js),Xs=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},et=s=>{m.useEffect(()=>{s.clearReset()},[s])},st=({result:s,errorResetBoundary:t,throwOnError:a,query:r,suspense:i})=>s.isError&&!t.isReset()&&!s.isFetching&&r&&(i&&s.data===void 0||Os(a,[s.error,r])),tt=s=>{if(s.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),a=s.staleTime;s.staleTime=typeof a=="function"?(...r)=>t(a(...r)):t(a),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},at=(s,t)=>s.isLoading&&s.isFetching&&!t,rt=(s,t)=>(s==null?void 0:s.suspense)&&t.isPending,ps=(s,t,a)=>t.fetchOptimistic(s).catch(()=>{a.clearReset()});function it(s,t,a){var d,v,x,h,p;const r=Ks(),i=Ys(),n=Se(a),o=n.defaultQueryOptions(s);(v=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||v.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",tt(o),Xs(o,i),et(i);const f=!n.getQueryCache().get(o.queryHash),[u]=m.useState(()=>new t(n,o)),b=u.getOptimisticResult(o),w=!r&&s.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(N=>{const R=w?u.subscribe(bs.batchCalls(N)):ze;return u.updateResult(),R},[u,w]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),m.useEffect(()=>{u.setOptions(o)},[o,u]),rt(o,b))throw ps(o,u,i);if(st({result:b,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw b.error;if((h=(x=n.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||h.call(x,o,b),o.experimental_prefetchInRender&&!Te&&at(b,r)){const N=f?ps(o,u,i):(p=n.getQueryCache().get(o.queryHash))==null?void 0:p.promise;N==null||N.catch(ze).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?b:u.trackResult(b)}function nt(s,t){return it(s,Bs,t)}const Ut=({title:s,value:t,icon:a,iconBgColor:r="bg-gray-100",iconTextColor:i="text-gray-600",isActive:n=!1,onClick:o,className:f=""})=>e.jsx("button",{onClick:o,className:`bg-white rounded-lg p-4 sm:p-5 lg:p-6 shadow-sm border transition-all duration-200 text-left hover:shadow-md ${n?"border-primary-500 ring-2 ring-primary-100 bg-primary-50":"border-gray-200 hover:border-primary-300"} ${f}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:s}),e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mt-1 sm:mt-2",children:typeof t=="number"?t.toLocaleString():t})]}),e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 ${r} rounded-full flex items-center justify-center flex-shrink-0`,children:e.jsx(a,{className:i,size:18})})]})}),Vt=()=>{const s=ys(r=>r.auth.user.name),t=new Date().getHours(),a=()=>t>=5&&t<12?"Good morning":t>=12&&t<17?"Good afternoon":t>=17&&t<21?"Good evening":"Good night";return e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("h1",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900 mb-2",children:[a(),", ",s,". 👋"]}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:"Here is what's happening with your Dashboard today:"})]})},Oe=[{id:"1",name:"Dr. John Smith",email:"john.smith@medical.com",contact:"(907) 555-0102",specialty:"Cardiology",hospital:"Hill Point Hospital",experience:12,status:"active"},{id:"2",name:"Dr. Sarah Wilson",email:"sarah.wilson@hillpoint.com",contact:"(907) 555-0103",specialty:"Neurology",hospital:"Hill Point Hospital",experience:8,status:"busy"},{id:"3",name:"Dr. Michael Brown",email:"michael.brown@cure.com",contact:"(907) 555-0104",specialty:"Orthopedics",hospital:"Cure Hospital",experience:15,status:"active"}],lt=s=>{switch(s){case"active":return"text-green-700 bg-green-100";case"on-leave":return"text-orange-700 bg-orange-100";case"busy":return"text-red-700 bg-red-100";default:return"text-green-700 bg-green-100"}},ct=s=>({Cardiology:"bg-red-100 text-red-700",Neurology:"bg-purple-100 text-purple-700",Orthopedics:"bg-blue-100 text-blue-700",Pediatrics:"bg-pink-100 text-pink-700","Emergency Medicine":"bg-orange-100 text-orange-700",Surgery:"bg-gray-100 text-gray-700"})[s]||"bg-gray-100 text-gray-700",ot=({setActiveFilter:s})=>{const t=Be(),a=r=>{s("patients"),t(`/doctors/${r}`)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Doctors"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative order-2 sm:order-1",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search doctors...",className:"pl-10 pr-4 py-2 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsx(S,{icon:_e,iconPosition:"left",className:"order-1 sm:order-2",children:"Add Doctor"}),e.jsx("div",{className:"hidden sm:flex items-center order-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(ke,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:Oe.length})]})})]})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Doctor Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Specialty"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Hospital"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Oe.map((r,i)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded flex items-center justify-center mr-3 flex-shrink-0",children:e.jsx(ke,{className:"text-red-600",size:16})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:r.name}),r.experience&&e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Fs,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[r.experience," years exp."]})]})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(Ge,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsx("span",{className:"truncate max-w-[120px]",children:r.contact})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ke,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:r.email})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ct(r.specialty)}`,children:r.specialty})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500 truncate max-w-[120px]",children:r.hospital})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${lt(r.status)}`,children:r.status?r.status.charAt(0).toUpperCase()+r.status.slice(1).replace("-"," "):"Active"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(S,{variant:"ghost",size:"sm",icon:he,onClick:()=>a(r.id),className:"text-info-600 hover:text-info-800 hover:bg-info-50 p-2",title:"View Doctor Profile"}),e.jsx(S,{variant:"ghost",size:"sm",icon:Je,className:"text-success-600 hover:text-success-800 hover:bg-success-50 p-2",title:"Edit Doctor"}),e.jsx(S,{variant:"ghost",size:"sm",icon:Ye,className:"text-danger-600 hover:text-danger-800 hover:bg-danger-50 p-2",title:"Remove Doctor"})]})})]},r.id||i))})]}),Oe.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ke,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Doctors Found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Add doctors to your hospital network to get started."})]})]})]})},Ae=[{id:"1",name:"Alice Johnson",email:"alice.johnson@email.com",contact:"(907) 555-0201",condition:"Hypertension",doctor:"Dr. John Smith",age:45,admissionDate:"2024-01-15",status:"active"},{id:"2",name:"Bob Davis",email:"bob.davis@email.com",contact:"(907) 555-0202",condition:"Diabetes",doctor:"Dr. Sarah Wilson",age:52,admissionDate:"2024-01-20",status:"critical"},{id:"3",name:"Carol Miller",email:"carol.miller@email.com",contact:"(907) 555-0203",condition:"Arthritis",doctor:"Dr. Michael Brown",age:38,admissionDate:"2024-01-10",status:"discharged"}],dt=s=>{switch(s){case"active":return"text-blue-700 bg-blue-100";case"discharged":return"text-green-700 bg-green-100";case"critical":return"text-red-700 bg-red-100";default:return"text-blue-700 bg-blue-100"}},mt=s=>({Hypertension:"bg-red-100 text-red-700",Diabetes:"bg-orange-100 text-orange-700",Arthritis:"bg-yellow-100 text-yellow-700","Heart Disease":"bg-red-100 text-red-700",Cancer:"bg-purple-100 text-purple-700",Asthma:"bg-blue-100 text-blue-700"})[s]||"bg-gray-100 text-gray-700",xt=({setActiveFilter:s})=>{const t=Be(),a=r=>{t(`/patients/${r}`)};return console.log("setActiveFilter: ",s),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patients"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative order-2 sm:order-1",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search patients...",className:"pl-10 pr-4 py-2 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsx(S,{icon:_e,iconPosition:"left",className:"order-1 sm:order-2",children:"Add Patient"}),e.jsx("div",{className:"hidden sm:flex items-center order-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(De,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:Ae.length})]})})]})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Patient Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Condition"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Assigned Doctor"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ae.map((r,i)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded flex items-center justify-center mr-3 flex-shrink-0",children:e.jsx(De,{className:"text-yellow-600",size:16})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:r.name}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[r.age&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Age: ",r.age]}),r.admissionDate&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ts,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500",children:r.admissionDate})]})]})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(Ge,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsx("span",{className:"truncate max-w-[120px]",children:r.contact})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ke,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:r.email})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ms,{className:"w-3 h-3 mr-2 text-gray-400"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${mt(r.condition)}`,children:r.condition})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500 truncate max-w-[120px]",children:r.doctor})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${dt(r.status)}`,children:r.status?r.status.charAt(0).toUpperCase()+r.status.slice(1):"Active"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(S,{variant:"ghost",size:"sm",icon:he,onClick:()=>a(r.id),className:"text-info-600 hover:text-info-800 hover:bg-info-50 p-2",title:"View Patient Record"}),e.jsx(S,{variant:"ghost",size:"sm",icon:Je,className:"text-success-600 hover:text-success-800 hover:bg-success-50 p-2",title:"Edit Patient"}),e.jsx(S,{variant:"ghost",size:"sm",icon:Ye,className:"text-danger-600 hover:text-danger-800 hover:bg-danger-50 p-2",title:"Remove Patient"})]})})]},r.id||i))})]}),Ae.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(De,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Patients Found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Patient records will appear here once they are registered."})]})]})]})},ht=({pagination:s,onPageChange:t,isLoading:a=!1,showInfo:r=!0,className:i=""})=>{const{current_page:n,last_page:o,total:f,from:u,to:b,has_more_pages:w}=s,v=(()=>{const x=[];if(o<=7)for(let p=1;p<=o;p++)x.push(p);else if(n<=4){for(let p=1;p<=5;p++)x.push(p);o>6&&(x.push("..."),x.push(o))}else if(n>=o-3){x.push(1),o>6&&x.push("...");for(let p=o-4;p<=o;p++)x.push(p)}else{x.push(1),x.push("...");for(let p=n-1;p<=n+1;p++)x.push(p);x.push("..."),x.push(o)}return x})();return o<=1?null:e.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 ${i}`,children:[r&&e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(u||0).toLocaleString()})," to"," ",e.jsx("span",{className:"font-medium",children:(b||0).toLocaleString()})," of"," ",e.jsx("span",{className:"font-medium",children:f.toLocaleString()})," results"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(S,{variant:"outline",size:"sm",onClick:()=>t(1),disabled:n===1||a,icon:Us,className:"px-2",title:"First page"}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>t(n-1),disabled:n===1||a,icon:qs,className:"px-2",title:"Previous page"}),e.jsx("div",{className:"flex items-center space-x-1",children:v.map((x,h)=>{if(x==="...")return e.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},`ellipsis-${h}`);const p=x===n;return e.jsx(S,{variant:p?"primary":"outline",size:"sm",onClick:()=>t(x),disabled:p||a,className:`min-w-[40px] ${p?"bg-primary-600 text-white border-primary-600":"hover:bg-gray-50"}`,children:x},x)})}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>t(n+1),disabled:!w||a,icon:Ls,className:"px-2",title:"Next page"}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>t(o),disabled:n===o||a,icon:Vs,className:"px-2",title:"Last page"})]}),e.jsxs("div",{className:"sm:hidden text-sm text-gray-500",children:["Page ",n," of ",o]})]})},Cs=({isOpen:s,onClose:t,title:a,children:r,maxWidth:i="lg",closeOnOverlayClick:n=!0,showCloseButton:o=!0,preventBodyScroll:f=!0})=>{if(m.useEffect(()=>{if(f)return s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}},[s,f]),m.useEffect(()=>{const w=d=>{d.key==="Escape"&&s&&t()};if(s)return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s,t]),!s)return null;const u=w=>{w.target===w.currentTarget&&n&&t()},b={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl"};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",onClick:u,children:e.jsxs("div",{className:`
          bg-white rounded-lg shadow-xl transform transition-all w-full ${b[i]} 
          animate-in fade-in duration-200 zoom-in-95
        `,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:w=>w.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[e.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900 flex-1 pr-4",children:a}),o&&e.jsx(S,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 -mr-2","aria-label":"Close modal",children:e.jsx(V,{size:20})})]}),e.jsx("div",{className:"p-4 sm:p-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:r})]})})},ie=({options:s,value:t,onChange:a,placeholder:r="Select an option",disabled:i=!1,className:n="",label:o,error:f,size:u="md"})=>{const[b,w]=m.useState(!1),[d,v]=m.useState(-1),x=m.useRef(null),h=m.useRef(null),p=s.find(g=>g.value===t),N={sm:"px-3 py-2.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-4 py-3 text-base"},R={sm:16,md:18,lg:20};m.useEffect(()=>{const g=A=>{x.current&&!x.current.contains(A.target)&&(w(!1),v(-1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),m.useEffect(()=>{const g=A=>{if(b)switch(A.key){case"ArrowDown":A.preventDefault(),v($=>$<s.length-1?$+1:0);break;case"ArrowUp":A.preventDefault(),v($=>$>0?$-1:s.length-1);break;case"Enter":A.preventDefault(),d>=0&&!s[d].disabled&&(a(s[d].value),w(!1),v(-1));break;case"Escape":w(!1),v(-1);break}};if(b)return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[b,d,s,a]),m.useEffect(()=>{if(d>=0&&h.current){const g=h.current.children[d];g&&g.scrollIntoView({block:"nearest"})}},[d]);const I=()=>{i||(w(!b),v(-1))},T=g=>{g.disabled||(a(g.value),w(!1),v(-1))},D=`
    relative w-full bg-white border rounded-lg shadow-sm transition-all duration-200 cursor-pointer
    focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500
    ${i?"opacity-50 cursor-not-allowed bg-gray-50":"hover:border-gray-400"}
    ${f?"border-red-300 focus-within:ring-red-500 focus-within:border-red-500":"border-gray-300"}
    ${b?"ring-2 ring-blue-500 border-blue-500":""}
  `.trim();return e.jsxs("div",{className:`${n}`,children:[o&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:o}),e.jsxs("div",{ref:x,className:"relative",children:[e.jsx("div",{className:`${D} ${N[u]}`,onClick:I,role:"combobox","aria-expanded":b,"aria-haspopup":"listbox",tabIndex:i?-1:0,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[(p==null?void 0:p.icon)&&e.jsx("span",{className:"mr-2",children:p.icon}),e.jsx("span",{className:`truncate ${p?"text-gray-900":"text-gray-500"}`,children:p?p.label:r})]}),e.jsx(We,{size:R[u],className:`ml-2 flex-shrink-0 text-gray-400 transition-transform duration-200 ${b?"transform rotate-180":""}`})]})}),b&&e.jsx("div",{ref:h,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",role:"listbox",children:s.map((g,A)=>e.jsxs("div",{className:`
                  flex items-center px-4 py-2.5 cursor-pointer transition-colors duration-150
                  ${g.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}
                  ${d===A?"bg-blue-50 text-blue-700":""}
                  ${g.value===t?"bg-blue-600 text-white hover:bg-blue-700":""}
                `.trim(),onClick:()=>T(g),role:"option","aria-selected":g.value===t,children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[g.icon&&e.jsx("span",{className:"mr-3 text-lg",children:g.icon}),e.jsx("span",{className:"truncate",children:g.label})]}),g.value===t&&e.jsx(js,{size:16,className:"ml-2 flex-shrink-0"})]},g.value))})]}),f&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f})]})},gs=({options:s,value:t,onChange:a,placeholder:r="Select an option",searchPlaceholder:i="Search options...",disabled:n=!1,className:o="",label:f,error:u,size:b="md",allowClear:w=!0})=>{const[d,v]=m.useState(!1),[x,h]=m.useState(""),[p,N]=m.useState(-1),R=m.useRef(null),I=m.useRef(null),T=m.useRef(null),D=s.find(c=>c.value===t),g=s.filter(c=>c.label.toLowerCase().includes(x.toLowerCase())),A={sm:"px-3 py-2.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-4 py-3 text-base"},$={sm:16,md:18,lg:20};m.useEffect(()=>{const c=E=>{R.current&&!R.current.contains(E.target)&&(v(!1),N(-1),h(""))};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),m.useEffect(()=>{d&&T.current&&setTimeout(()=>{var c;(c=T.current)==null||c.focus()},50)},[d]),m.useEffect(()=>{const c=E=>{if(d)switch(E.key){case"ArrowDown":E.preventDefault(),N(G=>G<g.length-1?G+1:0);break;case"ArrowUp":E.preventDefault(),N(G=>G>0?G-1:g.length-1);break;case"Enter":E.preventDefault(),p>=0&&!g[p].disabled&&(a(g[p].value),v(!1),N(-1),h(""));break;case"Escape":v(!1),N(-1),h("");break}};if(d)return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[d,p,g,a]),m.useEffect(()=>{if(p>=0&&I.current){const c=I.current.children[p+1];c&&c.scrollIntoView({block:"nearest"})}},[p]);const _=()=>{n||(v(!d),N(-1),d||h(""))},W=c=>{c.disabled||(a(c.value),v(!1),N(-1),h(""))},y=c=>{c.stopPropagation(),a("")},M=c=>{h(c.target.value),N(-1)},L=`
    relative w-full bg-white border rounded-lg shadow-sm transition-all duration-200 cursor-pointer
    focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500
    ${n?"opacity-50 cursor-not-allowed bg-gray-50":"hover:border-gray-400"}
    ${u?"border-red-300 focus-within:ring-red-500 focus-within:border-red-500":"border-gray-300"}
    ${d?"ring-2 ring-blue-500 border-blue-500":""}
  `.trim();return e.jsxs("div",{className:`${o}`,children:[f&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f}),e.jsxs("div",{ref:R,className:"relative",children:[e.jsx("div",{className:`${L} ${A[b]}`,onClick:_,role:"combobox","aria-expanded":d,"aria-haspopup":"listbox",tabIndex:n?-1:0,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[(D==null?void 0:D.icon)&&e.jsx("span",{className:"mr-2",children:D.icon}),e.jsx("span",{className:`truncate ${D?"text-gray-900":"text-gray-500"}`,children:D?D.label:r})]}),e.jsxs("div",{className:"flex items-center ml-2 space-x-1",children:[w&&D&&!n&&e.jsx("button",{type:"button",onClick:y,className:"text-gray-400 hover:text-gray-600 p-0.5",children:e.jsx(V,{size:14})}),e.jsx(We,{size:$[b],className:`flex-shrink-0 text-gray-400 transition-transform duration-200 ${d?"transform rotate-180":""}`})]})]})}),d&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",role:"listbox",children:[e.jsx("div",{className:"p-2 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{ref:T,type:"text",value:x,onChange:M,placeholder:i,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsx("div",{ref:I,className:"max-h-48 overflow-auto",children:g.length===0?e.jsx("div",{className:"px-4 py-2.5 text-sm text-gray-500",children:"No options found"}):g.map((c,E)=>e.jsxs("div",{className:`
                      flex items-center px-4 py-2.5 cursor-pointer transition-colors duration-150
                      ${c.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}
                      ${p===E?"bg-blue-50 text-blue-700":""}
                      ${c.value===t?"bg-blue-600 text-white hover:bg-blue-700":""}
                    `.trim(),onClick:()=>W(c),role:"option","aria-selected":c.value===t,children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[c.icon&&e.jsx("span",{className:"mr-3 text-lg",children:c.icon}),e.jsx("span",{className:"truncate",children:c.label})]}),c.value===t&&e.jsx(js,{size:16,className:"ml-2 flex-shrink-0"})]},c.value))})]})]}),u&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]})},ut=({isOpen:s,onClose:t,onConfirm:a,title:r,message:i,itemName:n,itemType:o="item",isLoading:f=!1,confirmButtonText:u="Delete",cancelButtonText:b="Cancel",description:w,warningText:d})=>{const v=()=>{f||t()},x=r||`Delete ${o}`,h=i||`Are you sure you want to delete ${n?`"${n}"`:`this ${o}`}?`,p=d||"This action cannot be undone.";return e.jsx(Cs,{isOpen:s,onClose:v,title:x,maxWidth:"md",closeOnOverlayClick:!f,showCloseButton:!f,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx($s,{className:"w-6 h-6 text-red-600"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("p",{className:"font-medium mb-2",children:h}),w&&e.jsx("p",{className:"text-gray-600 mb-2",children:w}),e.jsx("p",{className:"text-red-600 text-sm font-medium",children:p})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx(S,{type:"button",variant:"ghost",onClick:v,disabled:f,children:b}),e.jsx(S,{type:"button",variant:"danger",onClick:a,disabled:f,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:e.jsxs("div",{className:"flex items-center",children:[f&&e.jsx(Ns,{className:"animate-spin w-4 h-4 mr-2"}),f?"Deleting...":u]})})]})]})})},de=(s,t)=>{const[a,r]=m.useState(s);return m.useEffect(()=>{const i=setTimeout(()=>{r(s)},t);return()=>{clearTimeout(i)}},[s,t]),a},pt=({filters:s,onFiltersChange:t,onResetFilters:a,isLoading:r=!1})=>{const[i,n]=m.useState(!1),[o,f]=m.useState(s.search||""),[u,b]=m.useState(s.name||""),[w,d]=m.useState(s.location||""),[v,x]=m.useState(s.owner_email||""),[h,p]=m.useState(s.owner_phone||""),N=de(o,500),R=de(u,500),I=de(w,500),T=de(v,500),D=de(h,500);m.useEffect(()=>{t({search:N||void 0})},[N,t]),m.useEffect(()=>{t({name:R||void 0})},[R,t]),m.useEffect(()=>{t({location:I||void 0})},[I,t]),m.useEffect(()=>{t({owner_email:T||void 0})},[T,t]),m.useEffect(()=>{t({owner_phone:D||void 0})},[D,t]),m.useEffect(()=>{f(s.search||""),b(s.name||""),d(s.location||""),x(s.owner_email||""),p(s.owner_phone||"")},[s.search,s.name,s.location,s.owner_email,s.owner_phone]);const g=m.useCallback((c,E)=>{if(c==="has_children")t(E==="true"?{[c]:!0}:E==="false"?{[c]:!1}:{[c]:void 0});else switch(c){case"search":f(E);break;case"name":b(E);break;case"location":d(E);break;case"owner_email":x(E);break;case"owner_phone":p(E);break;default:t({[c]:E===""?void 0:E})}},[t]),A=[{value:"",label:"All Status",icon:"🔘"},{value:"active",label:"Active",icon:"🟢"},{value:"inactive",label:"Inactive",icon:"🔴"}],$=[{value:"name",label:"Name",icon:"📝"},{value:"location",label:"Location",icon:"📍"},{value:"created_at",label:"Created Date",icon:"📅"},{value:"owner_name",label:"Owner Name",icon:"👤"},{value:"owner_email",label:"Owner Email",icon:"📧"}],_=[{value:"asc",label:"A-Z",icon:"⬆️"},{value:"desc",label:"Z-A",icon:"⬇️"}],W=[{value:"10",label:"10 items",icon:"📄"},{value:"15",label:"15 items",icon:"📄"},{value:"25",label:"25 items",icon:"📄"},{value:"50",label:"50 items",icon:"📄"},{value:"100",label:"100 items",icon:"📄"}],y=[{value:"",label:"Any",icon:"🔘"},{value:"true",label:"Yes",icon:"✅"},{value:"false",label:"No",icon:"❌"}],M=[{value:"",label:"Any Type",icon:"🔘"},{value:"null",label:"Main Hospitals Only",icon:"🏛️"}],L=m.useMemo(()=>{const c=(X,B)=>B==null||typeof B=="string"&&B.trim()===""?!0:X==="parent_hospital_id"&&(B===""||B==="null")?B==="":!1,E=Object.entries(s).filter(([X,B])=>["page","per_page","sort_by","sort_direction"].includes(X)?!1:!c(X,B)),G=!!(o!=null&&o.trim()||u!=null&&u.trim()||w!=null&&w.trim()||v!=null&&v.trim()||h!=null&&h.trim());return console.log("hasActiveFilters debug:",{filterValues:E,hasLocalInputs:G,filters:s,localInputs:{searchInput:o==null?void 0:o.trim(),nameInput:u==null?void 0:u.trim(),locationInput:w==null?void 0:w.trim(),ownerEmailInput:v==null?void 0:v.trim(),ownerPhoneInput:h==null?void 0:h.trim()}}),E.length>0||G},[s,o,u,w,v,h]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/80 rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Ee,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",placeholder:"Search hospitals, locations, owners...",value:o,onChange:c=>g("search",c.target.value),className:"block w-full pl-12 pr-4 py-3 sm:text-sm border-0 rounded-xl bg-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:flex-shrink-0",children:[e.jsx(S,{variant:"outline",icon:i?We:xs,iconPosition:"left",onClick:()=>n(!i),className:`px-4 py-3 rounded-xl border-2 transition-all duration-200 ${i?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50"} ${i?"[&_svg]:rotate-180":""}`,disabled:r,children:e.jsx("span",{className:"font-medium",children:"Advanced"})}),L&&e.jsx(S,{variant:"ghost",icon:V,iconPosition:"left",onClick:()=>{f(""),b(""),d(""),x(""),p(""),a()},className:"px-4 py-3 rounded-xl border-2 border-red-200 bg-red-50 text-red-700 hover:border-red-300 hover:bg-red-100 transition-all duration-200",disabled:r,title:"Clear all filters",children:e.jsx("span",{className:"font-medium",children:"Reset"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[e.jsx(ie,{label:"Status",options:A,value:s.status||"",onChange:c=>g("status",c),placeholder:"All Status",disabled:r,size:"sm"}),e.jsx(ie,{label:"Sort By",options:$,value:s.sort_by||"name",onChange:c=>g("sort_by",c),placeholder:"Select sort field",disabled:r,size:"sm"}),e.jsx(ie,{label:"Order",options:_,value:s.sort_direction||"asc",onChange:c=>g("sort_direction",c),placeholder:"Select order",disabled:r,size:"sm"}),e.jsx(ie,{label:"Per Page",options:W,value:String(s.per_page||15),onChange:c=>g("per_page",c),placeholder:"Items per page",disabled:r,size:"sm"})]})]})}),i&&e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced Filters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use these filters to narrow down your search with specific criteria."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"🏥"}),"Hospital Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. City General Hospital",value:u,onChange:c=>g("name",c.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"📍"}),"Location"]}),e.jsx("input",{type:"text",placeholder:"e.g. New York, Los Angeles",value:w,onChange:c=>g("location",c.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-purple-500 mr-2",children:"📧"}),"Owner Email"]}),e.jsx("input",{type:"email",placeholder:"e.g. admin@hospital.com",value:v,onChange:c=>g("owner_email",c.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-orange-500 mr-2",children:"📞"}),"Owner Phone"]}),e.jsx("input",{type:"tel",placeholder:"e.g. +1 (555) 123-4567",value:h,onChange:c=>g("owner_phone",c.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-cyan-500 mr-2",children:"📅"}),"Created From"]}),e.jsx("input",{type:"date",value:s.created_from||"",onChange:c=>g("created_from",c.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-pink-500 mr-2",children:"📅"}),"Created To"]}),e.jsx("input",{type:"date",value:s.created_to||"",onChange:c=>g("created_to",c.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsx(ie,{label:"🏢 Has Branches",options:y,value:s.has_children===!0?"true":s.has_children===!1?"false":"",onChange:c=>g("has_children",c),placeholder:"Any",disabled:r,size:"sm"}),e.jsx(ie,{label:"🏛️ Hospital Type",options:M,value:String(s.parent_hospital_id||""),onChange:c=>g("parent_hospital_id",c),placeholder:"Any Type",disabled:r,size:"sm"})]})]}),L&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 space-y-3",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-700 flex items-center",children:[e.jsx(xs,{className:"h-4 w-4 mr-1"}),"Active Filters:"]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.search||o)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Search: ",s.search||o,e.jsx("button",{onClick:()=>{f(""),t({search:void 0})},className:"ml-1 hover:text-blue-600",disabled:r,children:e.jsx(V,{size:12})})]}),s.status&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",s.status,e.jsx("button",{onClick:()=>g("status",""),className:"ml-1 hover:text-green-600",disabled:r,children:e.jsx(V,{size:12})})]}),(s.location||w)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Location: ",s.location||w,e.jsx("button",{onClick:()=>{d(""),t({location:void 0})},className:"ml-1 hover:text-purple-600",disabled:r,children:e.jsx(V,{size:12})})]}),(s.name||u)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Name: ",s.name||u,e.jsx("button",{onClick:()=>{b(""),t({name:void 0})},className:"ml-1 hover:text-indigo-600",disabled:r,children:e.jsx(V,{size:12})})]}),(s.owner_email||v)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:["Owner Email: ",s.owner_email||v,e.jsx("button",{onClick:()=>{x(""),t({owner_email:void 0})},className:"ml-1 hover:text-pink-600",disabled:r,children:e.jsx(V,{size:12})})]}),(s.owner_phone||h)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:["Owner Phone: ",s.owner_phone||h,e.jsx("button",{onClick:()=>{p(""),t({owner_phone:void 0})},className:"ml-1 hover:text-teal-600",disabled:r,children:e.jsx(V,{size:12})})]}),s.created_from&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["From: ",new Date(s.created_from).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_from:void 0}),className:"ml-1 hover:text-orange-600",disabled:r,children:e.jsx(V,{size:12})})]}),s.created_to&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["To: ",new Date(s.created_to).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_to:void 0}),className:"ml-1 hover:text-red-600",disabled:r,children:e.jsx(V,{size:12})})]}),s.has_children!==void 0&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["Has Children: ",s.has_children?"Yes":"No",e.jsx("button",{onClick:()=>t({has_children:void 0}),className:"ml-1 hover:text-gray-600",disabled:r,children:e.jsx(V,{size:12})})]}),s.parent_hospital_id&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Parent:"," ",s.parent_hospital_id==="null"?"Main Only":`ID ${s.parent_hospital_id}`,e.jsx("button",{onClick:()=>t({parent_hospital_id:void 0}),className:"ml-1 hover:text-yellow-600",disabled:r,children:e.jsx(V,{size:12})})]})]})]})]})},gt=async s=>{const t={};return s&&["name","location","description","parent_hospital_id","sort_by","sort_direction","per_page","page"].forEach(i=>{s[i]!==void 0&&s[i]!==null&&s[i]!==""&&(t[i]=s[i])}),(await He.get("/hospitals/search/advanced",{params:t})).data},Ss=(s,t)=>nt({queryKey:["hospitals","all",s],queryFn:()=>gt(s),enabled:(t==null?void 0:t.enabled)!==!1,staleTime:5*60*1e3,retry:(a,r)=>r&&"status"in r&&typeof r.status=="number"?r.status>=500&&a<3:a<3}),ft=async s=>(await He.post("/hospitals",s)).data,bt=()=>{const s=Se();return Ze({mutationFn:ft,onSuccess:t=>{s.invalidateQueries({queryKey:["hospitals"]}),Q.success(t.message||"Hospital created successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){Q.error(a[0]);return}}Q.error(t.message||"Failed to create hospital")}})},yt=async({id:s,data:t})=>(await He.patch(`/hospitals/${s}`,t)).data,vt=()=>{const s=Se();return Ze({mutationFn:yt,onSuccess:(t,a)=>{s.invalidateQueries({queryKey:["hospitals"]}),s.setQueryData(["hospitals","show",a.id],t),Q.success(t.message||"Hospital updated successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){Q.error(a[0]);return}}Q.error(t.message||"Failed to update hospital")}})},wt=async s=>(await He.delete(`/hospitals/${s}`)).data,jt=()=>{const s=Se();return Ze({mutationFn:wt,onSuccess:t=>{s.invalidateQueries({queryKey:["hospitals"]}),Q.success(t.message||"Hospital deleted successfully!")},onError:t=>{Q.error(t.message||"Failed to delete hospital")}})},Nt=vs({name:z().required("Hospital name is required").max(255,"Hospital name must not exceed 255 characters"),email:z().email("Please enter a valid email address").required("Email is required"),phone:z().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),password:z().min(8,"Password must be at least 8 characters").required("Password is required"),password_confirmation:z().oneOf([ws("password")],"Passwords do not match").required("Password confirmation is required"),location:z().required("Location is required").max(255,"Location must not exceed 255 characters"),description:z().max(1e3,"Description must not exceed 1000 characters").optional(),image_url:z().url("Please enter a valid URL").max(500,"Image URL must not exceed 500 characters").optional(),parent_hospital_id:z().optional(),status:z().oneOf(["active","inactive"],"Status must be either active or inactive").required("Status is required")}),kt=vs({name:z().required("Hospital name is required").max(255,"Hospital name must not exceed 255 characters"),phone:z().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),password:z().min(8,"Password must be at least 8 characters").optional(),password_confirmation:z().when("password",{is:s=>s&&s.length>0,then:s=>s.oneOf([ws("password")],"Passwords do not match").required("Password confirmation is required"),otherwise:s=>s.optional()}),location:z().required("Location is required").max(255,"Location must not exceed 255 characters"),description:z().max(1e3,"Description must not exceed 1000 characters").optional(),image_url:z().url("Please enter a valid URL").max(500,"Image URL must not exceed 500 characters").optional(),parent_hospital_id:z().optional(),status:z().oneOf(["active","inactive"],"Status must be either active or inactive").required("Status is required")}),_t=({isOpen:s,onClose:t,hospital:a,onSuccess:r})=>{var L,c,E,G,X,B,es,ss,ts,as,rs,is;const i=!!a,[n,o]=m.useState(!1),[f,u]=m.useState(!1),b=ys(As),w=(b==null?void 0:b.role)==="hospital-admin",d=(b==null?void 0:b.role)==="admin",v=os({resolver:ds(Nt),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",email:"",phone:"",password:"",password_confirmation:"",location:"",description:"",image_url:"",parent_hospital_id:"",status:"active"}}),x=os({resolver:ds(kt),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",phone:"",password:"",password_confirmation:"",location:"",description:"",image_url:"",parent_hospital_id:"",status:"active"}}),h=i?x:v,p=bt(),N=vt(),{data:R,isLoading:I}=Ss(d&&s?{per_page:100,parent_hospital_id:"null"}:void 0,{enabled:d&&s}),T=w?b==null?void 0:b.hospital_id:null;m.useEffect(()=>{var k;if(s)if(i&&a)h.reset({name:a.name,phone:a.owner.phone||"",password:"",password_confirmation:"",description:a.description||"",location:a.location,image_url:a.image_url||"",parent_hospital_id:((k=a.parent_hospital_id)==null?void 0:k.toString())||"",status:a.owner.status});else{const P={name:"",email:"",phone:"",password:"",password_confirmation:"",description:"",location:"",image_url:"",parent_hospital_id:w&&T?T.toString():"",status:"active"};h.reset(P)}},[s,i,a,h,w,T]);const D=async k=>{try{if(i&&a){const P={name:k.name,description:k.description||void 0,location:k.location,image_url:k.image_url||void 0,phone:k.phone,parent_hospital_id:k.parent_hospital_id?parseInt(k.parent_hospital_id):null,status:k.status};k.password&&(P.password=k.password,P.password_confirmation=k.password_confirmation);const Pe=await N.mutateAsync({id:a.id,data:P});r==null||r(Pe.data)}else{const P=k,Pe={name:P.name,email:P.email,phone:P.phone,password:P.password,password_confirmation:P.password_confirmation,description:P.description||void 0,location:P.location,image_url:P.image_url||void 0,parent_hospital_id:P.parent_hospital_id?parseInt(P.parent_hospital_id):void 0,status:P.status},Es=await p.mutateAsync(Pe);r==null||r(Es.data)}t()}catch(P){console.error("Hospital operation failed:",P)}},g=()=>{p.isPending||N.isPending||t()},A=[{value:"",label:"No Parent Hospital (Main Hospital)"},...((c=(L=R==null?void 0:R.data)==null?void 0:L.filter(k=>!i||k.id!==(a==null?void 0:a.id)))==null?void 0:c.map(k=>({value:k.id.toString(),label:k.name})))||[]],$=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],_=p.isPending||N.isPending,W=k=>h.watch(k)||"",y=(k,P)=>{h.setValue(k,P)},M=k=>h.register(k);return e.jsx(Cs,{isOpen:s,onClose:g,title:i?"Edit Hospital":"Add New Hospital",maxWidth:"2xl",closeOnOverlayClick:!_,children:e.jsxs("form",{onSubmit:h.handleSubmit(D),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ee,{...M("name"),label:"Hospital Name *",type:"text",placeholder:"Enter hospital name",error:(E=h.formState.errors.name)==null?void 0:E.message,disabled:_}),e.jsx(ee,{...M("location"),label:"Location *",type:"text",placeholder:"Enter hospital location",error:(G=h.formState.errors.location)==null?void 0:G.message,disabled:_})]}),e.jsx("div",{className:"mt-4",children:e.jsx(Is,{...M("description"),label:"Description",placeholder:"Enter hospital description (optional)",error:(X=h.formState.errors.description)==null?void 0:X.message,disabled:_,rows:3})}),e.jsx("div",{className:"mt-4",children:e.jsx(ee,{...M("image_url"),label:"Image URL",type:"url",placeholder:"Enter image URL (optional)",error:(B=h.formState.errors.image_url)==null?void 0:B.message,disabled:_})}),d&&e.jsx("div",{className:"mt-4",children:e.jsx(gs,{label:"Parent Hospital",options:A,value:W("parent_hospital_id"),onChange:k=>y("parent_hospital_id",k),placeholder:"Select parent hospital",searchPlaceholder:"Search hospitals...",disabled:_||I,error:(es=h.formState.errors.parent_hospital_id)==null?void 0:es.message})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[!i&&e.jsx(ee,{...M("email"),label:"Email Address *",type:"email",placeholder:"Enter email address",error:(ss=h.formState.errors.email)==null?void 0:ss.message,disabled:_}),e.jsx(ee,{...M("phone"),label:"Phone Number *",type:"tel",placeholder:"Enter phone number",error:(ts=h.formState.errors.phone)==null?void 0:ts.message,disabled:_})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx("div",{className:"relative",children:e.jsx(ee,{...M("password"),label:i?"New Password":"Password *",type:n?"text":"password",placeholder:i?"Leave blank to keep current password":"Enter password",error:(as=h.formState.errors.password)==null?void 0:as.message,disabled:_,rightIcon:n?ms:he,onRightIconClick:()=>o(!n)})}),e.jsx("div",{className:"relative",children:e.jsx(ee,{...M("password_confirmation"),label:i?"Confirm New Password":"Confirm Password *",type:f?"text":"password",placeholder:"Confirm password",error:(rs=h.formState.errors.password_confirmation)==null?void 0:rs.message,disabled:_,rightIcon:f?ms:he,onRightIconClick:()=>u(!f)})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.jsx(gs,{label:"Status *",options:$,value:W("status")||"active",onChange:k=>y("status",k),disabled:_,error:(is=h.formState.errors.status)==null?void 0:is.message,allowClear:!1})}),i&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(zs,{className:"w-4 h-4 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Password Update"}),e.jsx("p",{children:"Leave password fields empty to keep the current password unchanged."})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx(S,{type:"button",variant:"ghost",onClick:g,disabled:_,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:_,children:e.jsxs("div",{className:"flex items-center",children:[_&&e.jsx(Ns,{className:"animate-spin w-4 h-4 mr-2"}),_?i?"Updating...":"Creating...":i?"Update Hospital":"Create Hospital"]})})]})]})})},Ct=s=>({...s,owner:{...s.owner,status:s.is_active===1?"active":"inactive",phone:s.owner.phone||""}}),St=s=>({current_page:s.current_page,per_page:s.per_page,total:s.total,last_page:s.last_page,from:s.from,to:s.to,has_more_pages:s.current_page<s.last_page}),Et=()=>{const[s,t]=m.useState({page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"}),{data:a,isLoading:r,error:i}=Ss(s,{enabled:!0}),n=m.useMemo(()=>a?{hospitals:a.data.map(Ct),pagination:St(a.meta),meta:a.meta,links:a.links}:null,[a]);m.useEffect(()=>{i&&(Q.error("Failed to fetch hospitals"),console.error("Hospital API Error:",i))},[i]);const o=m.useCallback(u=>{t(b=>({...b,...u}))},[]),f=m.useCallback(()=>{t({page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"})},[]);return{hospitals:(n==null?void 0:n.hospitals)||[],pagination:(n==null?void 0:n.pagination)||null,meta:(n==null?void 0:n.meta)||null,links:(n==null?void 0:n.links)||null,isLoading:r,error:i,filters:s,updateFilters:o,resetFilters:f}},Ht=()=>{const[s,t]=m.useState(!1),a=jt(),r=m.useCallback(async o=>{t(!0);try{return await new Promise(f=>setTimeout(f,1e3)),Q.success("Hospital created successfully! (Simulated)"),{success:!0}}catch(f){throw Q.error("Failed to create hospital"),f}finally{t(!1)}},[]),i=m.useCallback(async(o,f)=>{t(!0);try{return await new Promise(u=>setTimeout(u,1e3)),Q.success("Hospital updated successfully! (Simulated)"),{success:!0}}catch(u){throw Q.error("Failed to update hospital"),u}finally{t(!1)}},[]),n=m.useCallback(async o=>{try{return await a.mutateAsync(o),{success:!0}}catch(f){throw f}},[a]);return{createHospital:r,updateHospital:i,deleteHospital:n,isLoading:s||a.isPending}},Pt=s=>{switch(s){case"active":return"text-green-700 bg-green-100";case"inactive":return"text-red-700 bg-red-100";default:return"text-gray-700 bg-gray-100"}},Rt=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Dt=({setActiveFilter:s})=>{const t=Be(),[a,r]=m.useState(!1),[i,n]=m.useState(null),[o,f]=m.useState(!1),[u,b]=m.useState(null),{hospitals:w,pagination:d,isLoading:v,filters:x,updateFilters:h,resetFilters:p}=Et(),{deleteHospital:N,isLoading:R}=Ht(),I=y=>{s("doctors"),t(`/hospitals/${y}`)},T=y=>{n(y),r(!0)},D=y=>{b(y),f(!0)},g=async()=>{u&&(await N(u.id),f(!1),b(null))},A=()=>{R||(f(!1),b(null))},$=()=>{n(null),r(!0)},_=()=>{r(!1),n(null)},W=y=>{console.log("Hospital operation successful:",y)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Hospitals"}),d&&e.jsx("div",{className:"hidden sm:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(Ne,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:d.total})]})})]}),e.jsx(S,{icon:_e,iconPosition:"left",onClick:$,disabled:v,children:"Add Hospital"})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsx(pt,{filters:x,onFiltersChange:h,onResetFilters:p,isLoading:v})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Hospital Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Description"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Email"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"Phone"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Location"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Created Date"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v?Array.from({length:x.per_page||15},(y,M)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded mr-3 flex-shrink-0"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-36"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-200 rounded mr-1 mt-1 flex-shrink-0"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"})]})})]},`skeleton-${M}`)):w.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded flex items-center justify-center mr-3 flex-shrink-0",children:e.jsx(Ne,{className:"text-primary-600",size:16})}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",title:y.name,children:y.name})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-500",children:y.description||"No description available"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",title:y.owner.email,children:y.owner.email})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",title:y.owner.phone||"N/A",children:y.owner.phone||"N/A"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2 mt-1 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-500 leading-tight",title:y.location,children:y.location})]})}),e.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:Rt(y.created_at)}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(y.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Pt(y.owner.status)}`,children:y.owner.status.charAt(0).toUpperCase()+y.owner.status.slice(1)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(S,{variant:"ghost",size:"sm",icon:he,onClick:()=>I(y.id),className:"text-info-600 hover:text-info-800 hover:bg-info-50 p-2",title:"View Details",disabled:v}),e.jsx(S,{variant:"ghost",size:"sm",icon:Je,onClick:()=>T(y),className:"text-success-600 hover:text-success-800 hover:bg-success-50 p-2",title:"Edit Hospital",disabled:v}),e.jsx(S,{variant:"ghost",size:"sm",icon:Ye,onClick:()=>D(y),className:"text-danger-600 hover:text-danger-800 hover:bg-danger-50 p-2",title:"Delete Hospital",disabled:v||R})]})})]},y.id))})]}),!v&&w.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Hospitals Found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base mb-4",children:Object.keys(x).length>2?"No hospitals match your current filters. Try adjusting your search criteria.":"Start by adding your first hospital to the system."}),e.jsx(S,{onClick:$,icon:_e,iconPosition:"left",children:"Add Hospital"})]})]}),d&&d.last_page>1&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:e.jsx(ht,{pagination:d,onPageChange:y=>h({page:y}),isLoading:v})}),e.jsx(_t,{isOpen:a,onClose:_,hospital:i,onSuccess:W}),e.jsx(ut,{isOpen:o,onClose:A,onConfirm:g,title:"Delete Hospital",itemName:u==null?void 0:u.name,itemType:"hospital",isLoading:R,description:"This will permanently delete the hospital and its associated user account.",warningText:"This action cannot be undone."})]})},Ot=(s,t)=>{switch(s){case"doctors":return e.jsx(ot,{setActiveFilter:t});case"patients":return e.jsx(xt,{setActiveFilter:t});default:return e.jsx(Dt,{setActiveFilter:t})}},Qt=({activeFilter:s,setActiveFilter:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:Ot(s,t)})});export{Qt as R,Ut as S,De as U,Vt as W,ke as a};

var He=(s,t,a)=>{if(!t.has(s))throw TypeError("Cannot "+a)};var h=(s,t,a)=>(He(s,t,"read from private field"),a?a.call(s):t.get(s)),A=(s,t,a)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,a)},I=(s,t,a,r)=>(He(s,t,"write to private field"),r?r.call(s,a):t.set(s,a),a);var U=(s,t,a)=>(He(s,t,"access private method"),a);import{c as B,h as Ts,p as ls,i as K,k as Ie,l as ue,n as $e,m as Me,o as os,t as zs,q as Is,v as $s,w as cs,x as ws,r as d,y as Ms,z as ke,j as e,d as vs,X as $,C as De,V,a as Ge,f as qs}from"./index-415c5d8a.js";import{B as D}from"./Button-d045e316.js";import{a as de,u as Pe,c as js,d as R,e as Ns,b as ds,o as ms,I as Z,T as Us}from"./index.esm-d2b2d246.js";import{S as Oe,P as Se,A as Fs}from"./search-a95f6d4b.js";import{U as _s}from"./user-a5d56461.js";import{E as pe}from"./eye-ed8fbc62.js";import{E as xs}from"./eye-off-c8213ed3.js";const Ls=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ae=B("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),ks=B("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Vs=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Qs=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Bs=B("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),Ws=B("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Ce=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ss=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ke=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Gs=B("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Ze=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Te=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var Q,k,ge,L,te,ie,Y,X,be,le,oe,ae,re,ee,ce,ne,he,fe,qe,ye,Ue,we,Fe,ve,Le,je,Ve,Ne,Qe,_e,Be,Ee,Cs,ys,Ks=(ys=class extends Ts{constructor(t,a){super();A(this,ne);A(this,fe);A(this,ye);A(this,we);A(this,ve);A(this,je);A(this,Ne);A(this,_e);A(this,Ee);A(this,Q,void 0);A(this,k,void 0);A(this,ge,void 0);A(this,L,void 0);A(this,te,void 0);A(this,ie,void 0);A(this,Y,void 0);A(this,X,void 0);A(this,be,void 0);A(this,le,void 0);A(this,oe,void 0);A(this,ae,void 0);A(this,re,void 0);A(this,ee,void 0);A(this,ce,new Set);this.options=a,I(this,Q,t),I(this,X,null),I(this,Y,ls()),this.options.experimental_prefetchInRender||h(this,Y).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(h(this,k).addObserver(this),hs(h(this,k),this.options)?U(this,ne,he).call(this):this.updateResult(),U(this,ve,Le).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return We(h(this,k),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return We(h(this,k),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,U(this,je,Ve).call(this),U(this,Ne,Qe).call(this),h(this,k).removeObserver(this)}setOptions(t){const a=this.options,r=h(this,k);if(this.options=h(this,Q).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof K(this.options.enabled,h(this,k))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");U(this,_e,Be).call(this),h(this,k).setOptions(this.options),a._defaulted&&!Ie(this.options,a)&&h(this,Q).getQueryCache().notify({type:"observerOptionsUpdated",query:h(this,k),observer:this});const o=this.hasListeners();o&&us(h(this,k),r,this.options,a)&&U(this,ne,he).call(this),this.updateResult(),o&&(h(this,k)!==r||K(this.options.enabled,h(this,k))!==K(a.enabled,h(this,k))||ue(this.options.staleTime,h(this,k))!==ue(a.staleTime,h(this,k)))&&U(this,fe,qe).call(this);const l=U(this,ye,Ue).call(this);o&&(h(this,k)!==r||K(this.options.enabled,h(this,k))!==K(a.enabled,h(this,k))||l!==h(this,ee))&&U(this,we,Fe).call(this,l)}getOptimisticResult(t){const a=h(this,Q).getQueryCache().build(h(this,Q),t),r=this.createResult(a,t);return Js(this,r)&&(I(this,L,r),I(this,ie,this.options),I(this,te,h(this,k).state)),r}getCurrentResult(){return h(this,L)}trackResult(t,a){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),a==null||a(o),Reflect.get(r,o))})}trackProp(t){h(this,ce).add(t)}getCurrentQuery(){return h(this,k)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=h(this,Q).defaultQueryOptions(t),r=h(this,Q).getQueryCache().build(h(this,Q),a);return r.fetch().then(()=>this.createResult(r,a))}fetch(t){return U(this,ne,he).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),h(this,L)))}createResult(t,a){var F;const r=h(this,k),o=this.options,l=h(this,L),n=h(this,te),x=h(this,ie),g=t!==r?t.state:h(this,ge),{state:w}=t;let p={...w},v=!1,f;if(a._optimisticResults){const b=this.hasListeners(),E=!b&&hs(t,a),q=b&&us(t,r,a,o);(E||q)&&(p={...p,...$s(w.data,t.options)}),a._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:u,errorUpdatedAt:y,status:_}=p;f=p.data;let P=!1;if(a.placeholderData!==void 0&&f===void 0&&_==="pending"){let b;l!=null&&l.isPlaceholderData&&a.placeholderData===(x==null?void 0:x.placeholderData)?(b=l.data,P=!0):b=typeof a.placeholderData=="function"?a.placeholderData((F=h(this,oe))==null?void 0:F.state.data,h(this,oe)):a.placeholderData,b!==void 0&&(_="success",f=cs(l==null?void 0:l.data,b,a),v=!0)}if(a.select&&f!==void 0&&!P)if(l&&f===(n==null?void 0:n.data)&&a.select===h(this,be))f=h(this,le);else try{I(this,be,a.select),f=a.select(f),f=cs(l==null?void 0:l.data,f,a),I(this,le,f),I(this,X,null)}catch(b){I(this,X,b)}h(this,X)&&(u=h(this,X),f=h(this,le),y=Date.now(),_="error");const M=p.fetchStatus==="fetching",z=_==="pending",O=_==="error",i=z&&M,C=f!==void 0,j={status:_,fetchStatus:p.fetchStatus,isPending:z,isSuccess:_==="success",isError:O,isInitialLoading:i,isLoading:i,data:f,dataUpdatedAt:p.dataUpdatedAt,error:u,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>g.dataUpdateCount||p.errorUpdateCount>g.errorUpdateCount,isFetching:M,isRefetching:M&&!z,isLoadingError:O&&!C,isPaused:p.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:O&&C,isStale:Je(t,a),refetch:this.refetch,promise:h(this,Y),isEnabled:K(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const b=m=>{j.status==="error"?m.reject(j.error):j.data!==void 0&&m.resolve(j.data)},E=()=>{const m=I(this,Y,j.promise=ls());b(m)},q=h(this,Y);switch(q.status){case"pending":t.queryHash===r.queryHash&&b(q);break;case"fulfilled":(j.status==="error"||j.data!==q.value)&&E();break;case"rejected":(j.status!=="error"||j.error!==q.reason)&&E();break}}return j}updateResult(){const t=h(this,L),a=this.createResult(h(this,k),this.options);if(I(this,te,h(this,k).state),I(this,ie,this.options),h(this,te).data!==void 0&&I(this,oe,h(this,k)),Ie(a,t))return;I(this,L,a);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!h(this,ce).size)return!0;const n=new Set(l??h(this,ce));return this.options.throwOnError&&n.add("error"),Object.keys(h(this,L)).some(x=>{const c=x;return h(this,L)[c]!==t[c]&&n.has(c)})};U(this,Ee,Cs).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&U(this,ve,Le).call(this)}},Q=new WeakMap,k=new WeakMap,ge=new WeakMap,L=new WeakMap,te=new WeakMap,ie=new WeakMap,Y=new WeakMap,X=new WeakMap,be=new WeakMap,le=new WeakMap,oe=new WeakMap,ae=new WeakMap,re=new WeakMap,ee=new WeakMap,ce=new WeakMap,ne=new WeakSet,he=function(t){U(this,_e,Be).call(this);let a=h(this,k).fetch(this.options,t);return t!=null&&t.throwOnError||(a=a.catch($e)),a},fe=new WeakSet,qe=function(){U(this,je,Ve).call(this);const t=ue(this.options.staleTime,h(this,k));if(Me||h(this,L).isStale||!os(t))return;const r=zs(h(this,L).dataUpdatedAt,t)+1;I(this,ae,setTimeout(()=>{h(this,L).isStale||this.updateResult()},r))},ye=new WeakSet,Ue=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(h(this,k)):this.options.refetchInterval)??!1},we=new WeakSet,Fe=function(t){U(this,Ne,Qe).call(this),I(this,ee,t),!(Me||K(this.options.enabled,h(this,k))===!1||!os(h(this,ee))||h(this,ee)===0)&&I(this,re,setInterval(()=>{(this.options.refetchIntervalInBackground||Is.isFocused())&&U(this,ne,he).call(this)},h(this,ee)))},ve=new WeakSet,Le=function(){U(this,fe,qe).call(this),U(this,we,Fe).call(this,U(this,ye,Ue).call(this))},je=new WeakSet,Ve=function(){h(this,ae)&&(clearTimeout(h(this,ae)),I(this,ae,void 0))},Ne=new WeakSet,Qe=function(){h(this,re)&&(clearInterval(h(this,re)),I(this,re,void 0))},_e=new WeakSet,Be=function(){const t=h(this,Q).getQueryCache().build(h(this,Q),this.options);if(t===h(this,k))return;const a=h(this,k);I(this,k,t),I(this,ge,t.state),this.hasListeners()&&(a==null||a.removeObserver(this),t.addObserver(this))},Ee=new WeakSet,Cs=function(t){ws.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(h(this,L))}),h(this,Q).getQueryCache().notify({query:h(this,k),type:"observerResultsUpdated"})})},ys);function Zs(s,t){return K(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function hs(s,t){return Zs(s,t)||s.state.data!==void 0&&We(s,t,t.refetchOnMount)}function We(s,t,a){if(K(t.enabled,s)!==!1&&ue(t.staleTime,s)!=="static"){const r=typeof a=="function"?a(s):a;return r==="always"||r!==!1&&Je(s,t)}return!1}function us(s,t,a,r){return(s!==t||K(r.enabled,s)===!1)&&(!a.suspense||s.state.status!=="error")&&Je(s,a)}function Je(s,t){return K(t.enabled,s)!==!1&&s.isStaleByTime(ue(t.staleTime,s))}function Js(s,t){return!Ie(s.getCurrentResult(),t)}var Es=d.createContext(!1),Ys=()=>d.useContext(Es);Es.Provider;function Xs(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var et=d.createContext(Xs()),st=()=>d.useContext(et),tt=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},at=s=>{d.useEffect(()=>{s.clearReset()},[s])},rt=({result:s,errorResetBoundary:t,throwOnError:a,query:r,suspense:o})=>s.isError&&!t.isReset()&&!s.isFetching&&r&&(o&&s.data===void 0||Ms(a,[s.error,r])),nt=s=>{if(s.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),a=s.staleTime;s.staleTime=typeof a=="function"?(...r)=>t(a(...r)):t(a),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},it=(s,t)=>s.isLoading&&s.isFetching&&!t,lt=(s,t)=>(s==null?void 0:s.suspense)&&t.isPending,ps=(s,t,a)=>t.fetchOptimistic(s).catch(()=>{a.clearReset()});function ot(s,t,a){var p,v,f,u,y;const r=Ys(),o=st(),l=ke(a),n=l.defaultQueryOptions(s);(v=(p=l.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||v.call(p,n),n._optimisticResults=r?"isRestoring":"optimistic",nt(n),tt(n,o),at(o);const x=!l.getQueryCache().get(n.queryHash),[c]=d.useState(()=>new t(l,n)),g=c.getOptimisticResult(n),w=!r&&s.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(_=>{const P=w?c.subscribe(ws.batchCalls(_)):$e;return c.updateResult(),P},[c,w]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(n)},[n,c]),lt(n,g))throw ps(n,c,o);if(rt({result:g,errorResetBoundary:o,throwOnError:n.throwOnError,query:l.getQueryCache().get(n.queryHash),suspense:n.suspense}))throw g.error;if((u=(f=l.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||u.call(f,n,g),n.experimental_prefetchInRender&&!Me&&it(g,r)){const _=x?ps(n,c,o):(y=l.getQueryCache().get(n.queryHash))==null?void 0:y.promise;_==null||_.catch($e).finally(()=>{c.updateResult()})}return n.notifyOnChangeProps?g:c.trackResult(g)}function Ds(s,t){return ot(s,Ks,t)}const sa=({title:s,value:t,icon:a,iconBgColor:r="bg-gray-100",iconTextColor:o="text-gray-600",isActive:l=!1,onClick:n,className:x=""})=>e.jsx("button",{onClick:n,className:`bg-white rounded-lg p-4 sm:p-5 lg:p-6 shadow-sm border transition-all duration-200 text-left hover:shadow-md ${l?"border-primary-500 ring-2 ring-primary-100 bg-primary-50":"border-gray-200 hover:border-primary-300"} ${x}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:s}),e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mt-1 sm:mt-2",children:typeof t=="number"?t.toLocaleString():t})]}),e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 ${r} rounded-full flex items-center justify-center flex-shrink-0`,children:e.jsx(a,{className:o,size:18})})]})}),ta=()=>{const s=vs(r=>r.auth.user.name),t=new Date().getHours(),a=()=>t>=5&&t<12?"Good morning":t>=12&&t<17?"Good afternoon":t>=17&&t<21?"Good evening":"Good night";return e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("h1",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900 mb-2",children:[a(),", ",s,". 👋"]}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:"Here is what's happening with your Dashboard today:"})]})},Ps=({pagination:s,onPageChange:t,isLoading:a=!1,showInfo:r=!0,className:o=""})=>{const{current_page:l,last_page:n,total:x,from:c,to:g,has_more_pages:w}=s,v=(()=>{const f=[];if(n<=7)for(let y=1;y<=n;y++)f.push(y);else if(l<=4){for(let y=1;y<=5;y++)f.push(y);n>6&&(f.push("..."),f.push(n))}else if(l>=n-3){f.push(1),n>6&&f.push("...");for(let y=n-4;y<=n;y++)f.push(y)}else{f.push(1),f.push("...");for(let y=l-1;y<=l+1;y++)f.push(y);f.push("..."),f.push(n)}return f})();return n<=1?null:e.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 ${o}`,children:[r&&e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(c||0).toLocaleString()})," to"," ",e.jsx("span",{className:"font-medium",children:(g||0).toLocaleString()})," of"," ",e.jsx("span",{className:"font-medium",children:x.toLocaleString()})," results"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:()=>t(1),disabled:l===1||a,icon:Bs,className:"px-2",title:"First page"}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>t(l-1),disabled:l===1||a,icon:Vs,className:"px-2",title:"Previous page"}),e.jsx("div",{className:"flex items-center space-x-1",children:v.map((f,u)=>{if(f==="...")return e.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},`ellipsis-${u}`);const y=f===l;return e.jsx(D,{variant:y?"primary":"outline",size:"sm",onClick:()=>t(f),disabled:y||a,className:`min-w-[40px] ${y?"bg-primary-600 text-white border-primary-600":"hover:bg-gray-50"}`,children:f},f)})}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>t(l+1),disabled:!w||a,icon:Qs,className:"px-2",title:"Next page"}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>t(n),disabled:l===n||a,icon:Ws,className:"px-2",title:"Last page"})]}),e.jsxs("div",{className:"sm:hidden text-sm text-gray-500",children:["Page ",l," of ",n]})]})},Os=({isOpen:s,onClose:t,title:a,children:r,maxWidth:o="lg",closeOnOverlayClick:l=!0,showCloseButton:n=!0,preventBodyScroll:x=!0})=>{if(d.useEffect(()=>{if(x)return s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}},[s,x]),d.useEffect(()=>{const w=p=>{p.key==="Escape"&&s&&t()};if(s)return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s,t]),!s)return null;const c=w=>{w.target===w.currentTarget&&l&&t()},g={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl"};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",onClick:c,children:e.jsxs("div",{className:`
          bg-white rounded-lg shadow-xl transform transition-all w-full ${g[o]} 
          animate-in fade-in duration-200 zoom-in-95
        `,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:w=>w.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[e.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900 flex-1 pr-4",children:a}),n&&e.jsx(D,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 -mr-2","aria-label":"Close modal",children:e.jsx($,{size:20})})]}),e.jsx("div",{className:"p-4 sm:p-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:r})]})})},J=({options:s,value:t,onChange:a,placeholder:r="Select an option",disabled:o=!1,className:l="",label:n,error:x,size:c="md"})=>{const[g,w]=d.useState(!1),[p,v]=d.useState(-1),f=d.useRef(null),u=d.useRef(null),y=s.find(i=>i.value===t),_={sm:"px-3 py-2.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-4 py-3 text-base"},P={sm:16,md:18,lg:20};d.useEffect(()=>{const i=C=>{f.current&&!f.current.contains(C.target)&&(w(!1),v(-1))};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[]),d.useEffect(()=>{const i=C=>{if(g)switch(C.key){case"ArrowDown":C.preventDefault(),v(N=>N<s.length-1?N+1:0);break;case"ArrowUp":C.preventDefault(),v(N=>N>0?N-1:s.length-1);break;case"Enter":C.preventDefault(),p>=0&&!s[p].disabled&&(a(s[p].value),w(!1),v(-1));break;case"Escape":w(!1),v(-1);break}};if(g)return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[g,p,s,a]),d.useEffect(()=>{if(p>=0&&u.current){const i=u.current.children[p];i&&i.scrollIntoView({block:"nearest"})}},[p]);const M=()=>{o||(w(!g),v(-1))},z=i=>{i.disabled||(a(i.value),w(!1),v(-1))},O=`
    relative w-full bg-white border rounded-lg shadow-sm transition-all duration-200 cursor-pointer
    focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500
    ${o?"opacity-50 cursor-not-allowed bg-gray-50":"hover:border-gray-400"}
    ${x?"border-red-300 focus-within:ring-red-500 focus-within:border-red-500":"border-gray-300"}
    ${g?"ring-2 ring-blue-500 border-blue-500":""}
  `.trim();return e.jsxs("div",{className:`${l}`,children:[n&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n}),e.jsxs("div",{ref:f,className:"relative",children:[e.jsx("div",{className:`${O} ${_[c]}`,onClick:M,role:"combobox","aria-expanded":g,"aria-haspopup":"listbox",tabIndex:o?-1:0,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[(y==null?void 0:y.icon)&&e.jsx("span",{className:"mr-2",children:y.icon}),e.jsx("span",{className:`truncate ${y?"text-gray-900":"text-gray-500"}`,children:y?y.label:r})]}),e.jsx(De,{size:P[c],className:`ml-2 flex-shrink-0 text-gray-400 transition-transform duration-200 ${g?"transform rotate-180":""}`})]})}),g&&e.jsx("div",{ref:u,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",role:"listbox",children:s.map((i,C)=>e.jsxs("div",{className:`
                  flex items-center px-4 py-2.5 cursor-pointer transition-colors duration-150
                  ${i.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}
                  ${p===C?"bg-blue-50 text-blue-700":""}
                  ${i.value===t?"bg-blue-600 text-white hover:bg-blue-700":""}
                `.trim(),onClick:()=>z(i),role:"option","aria-selected":i.value===t,children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[i.icon&&e.jsx("span",{className:"mr-3 text-lg",children:i.icon}),e.jsx("span",{className:"truncate",children:i.label})]}),i.value===t&&e.jsx(ks,{size:16,className:"ml-2 flex-shrink-0"})]},i.value))})]}),x&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x})]})},gs=({options:s,value:t,onChange:a,placeholder:r="Select an option",searchPlaceholder:o="Search options...",disabled:l=!1,className:n="",label:x,error:c,size:g="md",allowClear:w=!0})=>{const[p,v]=d.useState(!1),[f,u]=d.useState(""),[y,_]=d.useState(-1),P=d.useRef(null),M=d.useRef(null),z=d.useRef(null),O=s.find(m=>m.value===t),i=s.filter(m=>m.label.toLowerCase().includes(f.toLowerCase())),C={sm:"px-3 py-2.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-4 py-3 text-base"},N={sm:16,md:18,lg:20};d.useEffect(()=>{const m=T=>{P.current&&!P.current.contains(T.target)&&(v(!1),_(-1),u(""))};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),d.useEffect(()=>{p&&z.current&&setTimeout(()=>{var m;(m=z.current)==null||m.focus()},50)},[p]),d.useEffect(()=>{const m=T=>{if(p)switch(T.key){case"ArrowDown":T.preventDefault(),_(G=>G<i.length-1?G+1:0);break;case"ArrowUp":T.preventDefault(),_(G=>G>0?G-1:i.length-1);break;case"Enter":T.preventDefault(),y>=0&&!i[y].disabled&&(a(i[y].value),v(!1),_(-1),u(""));break;case"Escape":v(!1),_(-1),u("");break}};if(p)return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[p,y,i,a]),d.useEffect(()=>{if(y>=0&&M.current){const m=M.current.children[y+1];m&&m.scrollIntoView({block:"nearest"})}},[y]);const j=()=>{l||(v(!p),_(-1),p||u(""))},F=m=>{m.disabled||(a(m.value),v(!1),_(-1),u(""))},b=m=>{m.stopPropagation(),a("")},E=m=>{u(m.target.value),_(-1)},q=`
    relative w-full bg-white border rounded-lg shadow-sm transition-all duration-200 cursor-pointer
    focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500
    ${l?"opacity-50 cursor-not-allowed bg-gray-50":"hover:border-gray-400"}
    ${c?"border-red-300 focus-within:ring-red-500 focus-within:border-red-500":"border-gray-300"}
    ${p?"ring-2 ring-blue-500 border-blue-500":""}
  `.trim();return e.jsxs("div",{className:`${n}`,children:[x&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:x}),e.jsxs("div",{ref:P,className:"relative",children:[e.jsx("div",{className:`${q} ${C[g]}`,onClick:j,role:"combobox","aria-expanded":p,"aria-haspopup":"listbox",tabIndex:l?-1:0,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[(O==null?void 0:O.icon)&&e.jsx("span",{className:"mr-2",children:O.icon}),e.jsx("span",{className:`truncate ${O?"text-gray-900":"text-gray-500"}`,children:O?O.label:r})]}),e.jsxs("div",{className:"flex items-center ml-2 space-x-1",children:[w&&O&&!l&&e.jsx("button",{type:"button",onClick:b,className:"text-gray-400 hover:text-gray-600 p-0.5",children:e.jsx($,{size:14})}),e.jsx(De,{size:N[g],className:`flex-shrink-0 text-gray-400 transition-transform duration-200 ${p?"transform rotate-180":""}`})]})]})}),p&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",role:"listbox",children:[e.jsx("div",{className:"p-2 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{ref:z,type:"text",value:f,onChange:E,placeholder:o,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsx("div",{ref:M,className:"max-h-48 overflow-auto",children:i.length===0?e.jsx("div",{className:"px-4 py-2.5 text-sm text-gray-500",children:"No options found"}):i.map((m,T)=>e.jsxs("div",{className:`
                      flex items-center px-4 py-2.5 cursor-pointer transition-colors duration-150
                      ${m.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}
                      ${y===T?"bg-blue-50 text-blue-700":""}
                      ${m.value===t?"bg-blue-600 text-white hover:bg-blue-700":""}
                    `.trim(),onClick:()=>F(m),role:"option","aria-selected":m.value===t,children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[m.icon&&e.jsx("span",{className:"mr-3 text-lg",children:m.icon}),e.jsx("span",{className:"truncate",children:m.label})]}),m.value===t&&e.jsx(ks,{size:16,className:"ml-2 flex-shrink-0"})]},m.value))})]})]}),c&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c})]})},Rs=({isOpen:s,onClose:t,onConfirm:a,title:r,message:o,itemName:l,itemType:n="item",isLoading:x=!1,confirmButtonText:c="Delete",cancelButtonText:g="Cancel",description:w,warningText:p})=>{const v=()=>{x||t()},f=r||`Delete ${n}`,u=o||`Are you sure you want to delete ${l?`"${l}"`:`this ${n}`}?`,y=p||"This action cannot be undone.";return e.jsx(Os,{isOpen:s,onClose:v,title:f,maxWidth:"md",closeOnOverlayClick:!x,showCloseButton:!x,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Ls,{className:"w-6 h-6 text-red-600"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("p",{className:"font-medium mb-2",children:u}),w&&e.jsx("p",{className:"text-gray-600 mb-2",children:w}),e.jsx("p",{className:"text-red-600 text-sm font-medium",children:y})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx(D,{type:"button",variant:"ghost",onClick:v,disabled:x,children:g}),e.jsx(D,{type:"button",variant:"danger",onClick:a,disabled:x,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:e.jsxs("div",{className:"flex items-center",children:[x&&e.jsx(Ss,{className:"animate-spin w-4 h-4 mr-2"}),x?"Deleting...":c]})})]})]})})},ct=s=>{const t={};return s.global_search&&(t.global_search=s.global_search),s.status&&(t.status=s.status),s.sort_by&&(t.sort_by=s.sort_by),s.sort_direction&&(t.sort_direction=s.sort_direction),s.per_page&&(t.per_page=s.per_page),s.page&&(t.page=s.page),s.name&&(t.name=s.name),s.email&&(t.email=s.email),s.phone&&(t.phone=s.phone),s.created_from&&(t.created_from=s.created_from),s.created_to&&(t.created_to=s.created_to),s.hospital_name&&(t.hospital_name=s.hospital_name),t},dt=async(s={})=>{const t=ct(s);return(await de.get("/doctors/search/advanced",{params:t})).data},mt=(s={})=>Ds({queryKey:["doctors",s],queryFn:()=>dt(s),staleTime:5*60*1e3,gcTime:10*60*1e3}),xt=async s=>(await de.delete(`/doctors/${s}`)).data,ht=()=>{const s=ke();return Pe({mutationFn:xt,onSuccess:t=>{s.invalidateQueries({queryKey:["doctors"]}),V.success(t.message||"Doctor deleted successfully!")},onError:t=>{V.error(t.message||"Failed to delete doctor")}})},ut=()=>{const s=ht();return{deleteDoctor:d.useCallback(async a=>{try{return await s.mutateAsync(a),{success:!0}}catch(r){throw r}},[s]),isLoading:s.isPending}},pt=[{value:"",label:"All Status",icon:"🔘"},{value:"active",label:"Active",icon:"✅"},{value:"inactive",label:"Inactive",icon:"❌"}],gt=[{value:"name",label:"Name",icon:"👤"},{value:"email",label:"Email",icon:"📧"},{value:"phone",label:"Phone",icon:"📞"},{value:"hospital_name",label:"Hospital",icon:"🏥"},{value:"specialization",label:"Specialty",icon:"🩺"},{value:"experience_years",label:"Experience",icon:"🎖️"},{value:"created_at",label:"Created Date",icon:"📅"}],bt=[{value:"asc",label:"Ascending (A-Z)",icon:"⬆️"},{value:"desc",label:"Descending (Z-A)",icon:"⬇️"}],ft=[{value:"10",label:"10 items",icon:"📄"},{value:"15",label:"15 items",icon:"📄"},{value:"25",label:"25 items",icon:"📄"},{value:"50",label:"50 items",icon:"📄"},{value:"100",label:"100 items",icon:"📄"}],bs={page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"},me=(s,t)=>{const[a,r]=d.useState(s);return d.useEffect(()=>{const o=setTimeout(()=>{r(s)},t);return()=>{clearTimeout(o)}},[s,t]),a},yt=({filters:s,onFiltersChange:t,onResetFilters:a,isLoading:r=!1})=>{const[o,l]=d.useState(!1),[n,x]=d.useState(s.global_search||""),[c,g]=d.useState(s.name||""),[w,p]=d.useState(s.email||""),[v,f]=d.useState(s.phone||""),[u,y]=d.useState(s.hospital_name||""),_=me(n,500),P=me(c,500),M=me(w,500),z=me(v,500),O=me(u,500);d.useEffect(()=>{t({global_search:_||void 0})},[_,t]),d.useEffect(()=>{t({name:P||void 0})},[P,t]),d.useEffect(()=>{t({email:M||void 0})},[M,t]),d.useEffect(()=>{t({phone:z||void 0})},[z,t]),d.useEffect(()=>{t({hospital_name:O||void 0})},[O,t]),d.useEffect(()=>{x(s.global_search||""),g(s.name||""),p(s.email||""),f(s.phone||""),y(s.hospital_name||"")},[s.global_search,s.name,s.email,s.phone,s.hospital_name]);const i=d.useCallback((N,j)=>{switch(N){case"global_search":x(j);break;case"name":g(j);break;case"email":p(j);break;case"phone":f(j);break;case"hospital_name":y(j);break;default:t({[N]:j||void 0});break}},[t]),C=d.useMemo(()=>{const N=b=>b==null||typeof b=="string"&&b.trim()==="",j=Object.entries(s).filter(([b,E])=>["page","per_page","sort_by","sort_direction"].includes(b)?!1:!N(E)),F=!!(n!=null&&n.trim()||c!=null&&c.trim()||w!=null&&w.trim()||v!=null&&v.trim()||u!=null&&u.trim());return j.length>0||F},[s,n,c,w,v,u]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/80 rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Oe,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",placeholder:"Search hospitals, locations, owners...",value:n,onChange:N=>i("global_search",N.target.value),className:"block w-full pl-12 pr-4 py-3 sm:text-sm border-0 rounded-xl bg-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:flex-shrink-0",children:[e.jsx(D,{variant:"outline",icon:o?De:Ce,iconPosition:"left",onClick:()=>l(!o),className:`px-4 py-3 rounded-xl border-2 transition-all duration-200 ${o?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50"} ${o?"[&_svg]:rotate-180":""}`,disabled:r,children:e.jsx("span",{className:"font-medium",children:"Advanced"})}),C&&e.jsx(D,{variant:"ghost",icon:$,iconPosition:"left",onClick:()=>{x(""),g(""),p(""),f(""),y(""),a()},className:"px-4 py-3 rounded-xl border-2 border-red-200 bg-red-50 text-red-700 hover:border-red-300 hover:bg-red-100 transition-all duration-200",disabled:r,title:"Clear all filters",children:e.jsx("span",{className:"font-medium",children:"Reset"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[e.jsx(J,{label:"Status",options:pt,value:s.status||"",onChange:N=>i("status",N),placeholder:"All Status",disabled:r,size:"sm"}),e.jsx(J,{label:"Sort By",options:gt,value:s.sort_by||"name",onChange:N=>i("sort_by",N),placeholder:"Select sort field",disabled:r,size:"sm"}),e.jsx(J,{label:"Order",options:bt,value:s.sort_direction||"asc",onChange:N=>i("sort_direction",N),placeholder:"Select order",disabled:r,size:"sm"}),e.jsx(J,{label:"Per Page",options:ft,value:String(s.per_page||15),onChange:N=>i("per_page",N),placeholder:"Items per page",disabled:r,size:"sm"})]})]})}),o&&e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced Filters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use these filters to narrow down your search with specific criteria."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"👤"}),"Doctor Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. Dr. John Smith",value:c,onChange:N=>i("name",N.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-purple-500 mr-2",children:"�"}),"Email"]}),e.jsx("input",{type:"email",placeholder:"e.g. doctor@hospital.com",value:w,onChange:N=>i("email",N.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-orange-500 mr-2",children:"�"}),"Phone"]}),e.jsx("input",{type:"tel",placeholder:"e.g. +1 (555) 123-4567",value:v,onChange:N=>i("phone",N.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"🏥"}),"Hospital Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. City General Hospital",value:u,onChange:N=>i("hospital_name",N.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-cyan-500 mr-2",children:"📅"}),"Created From"]}),e.jsx("input",{type:"date",value:s.created_from||"",onChange:N=>i("created_from",N.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-pink-500 mr-2",children:"📅"}),"Created To"]}),e.jsx("input",{type:"date",value:s.created_to||"",onChange:N=>i("created_to",N.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]})]})]}),C&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 space-y-3",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-700 flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),"Active Filters:"]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.global_search||n)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Search: ",s.global_search||n,e.jsx("button",{onClick:()=>{x(""),t({global_search:void 0})},className:"ml-1 hover:text-blue-600",disabled:r,children:e.jsx($,{size:12})})]}),s.status&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",s.status,e.jsx("button",{onClick:()=>i("status",""),className:"ml-1 hover:text-green-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.name||c)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Name: ",s.name||c,e.jsx("button",{onClick:()=>{g(""),t({name:void 0})},className:"ml-1 hover:text-indigo-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.email||w)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:["Email: ",s.email||w,e.jsx("button",{onClick:()=>{p(""),t({email:void 0})},className:"ml-1 hover:text-pink-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.phone||v)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:["Phone: ",s.phone||v,e.jsx("button",{onClick:()=>{f(""),t({phone:void 0})},className:"ml-1 hover:text-teal-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.hospital_name||u)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Hospital: ",s.hospital_name||u,e.jsx("button",{onClick:()=>{y(""),t({hospital_name:void 0})},className:"ml-1 hover:text-purple-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_from&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["From: ",new Date(s.created_from).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_from:void 0}),className:"ml-1 hover:text-orange-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_to&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["To: ",new Date(s.created_to).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_to:void 0}),className:"ml-1 hover:text-red-600",disabled:r,children:e.jsx($,{size:12})})]})]})]})]})},wt=s=>{switch(s==null?void 0:s.toLowerCase()){case"active":return"bg-green-100 text-green-700";case"inactive":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},vt=s=>{const t=a=>{const r=["bg-red-100 text-red-700","bg-blue-100 text-blue-700","bg-green-100 text-green-700","bg-purple-100 text-purple-700","bg-pink-100 text-pink-700","bg-indigo-100 text-indigo-700","bg-orange-100 text-orange-700","bg-teal-100 text-teal-700","bg-cyan-100 text-cyan-700","bg-yellow-100 text-yellow-700"];let o=0;for(let n=0;n<a.length;n++)o=(o<<5)-o+a.charCodeAt(n)&4294967295;const l=Math.abs(o)%r.length;return r[l]};return!s||s.trim()===""?"bg-gray-100 text-gray-700":t(s.toLowerCase())},fs=s=>!s||s.trim()===""?"N/A":s,jt=s=>!s||s.trim()===""?"N/A":s,Nt=s=>{if(!s||Object.keys(s).length===0)return"N/A";const a=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(n=>s[n]&&s[n].length>=2);if(a.length===0)return"N/A";const r=n=>{if(!n)return"";const[x,c]=n.split(":"),g=parseInt(x),w=g>=12?"PM":"AM";return`${g===0?12:g>12?g-12:g}:${c} ${w}`},o=[];let l=null;return a.forEach(n=>{const x=s[n];if(x&&x.length>=2){const c=`${r(x[0])} - ${r(x[1])}`;l&&l.hours===c?l.days.push(n):(l&&o.push(l),l={days:[n],hours:c})}}),l&&o.push(l),o.map(n=>{const x=n.days.map(g=>g.charAt(0).toUpperCase()+g.slice(1,3));return`${x.length===1?x[0]:x.length===2?x.join(", "):`${x[0]} - ${x[x.length-1]}`}: ${n.hours}`}).join(`
`)},_t=({setActiveFilter:s})=>{const t=Ge(),[a,r]=d.useState(bs),[o,l]=d.useState(null),[n,x]=d.useState(!1),{data:c,isLoading:g,error:w}=mt(a),{deleteDoctor:p,isLoading:v}=ut(),f=d.useCallback(i=>{r(C=>({...C,...i,page:i.page!==void 0?i.page:1}))},[]),u=d.useCallback(()=>{r(bs)},[]),y=d.useCallback(i=>{r(C=>({...C,page:i}))},[]),_=i=>{s("patients"),t(`/doctors/${i}`)},P=i=>{l(i),x(!0)},M=async()=>{o&&(await p(o.id),x(!1),l(null))},z=()=>{v||(x(!1),l(null))},O=()=>g?e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[...Array(5)].map((i,C)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-44"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"}),e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"}),e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]})})]},C))}):w?e.jsx("tbody",{className:"bg-white",children:e.jsx("tr",{children:e.jsxs("td",{colSpan:10,className:"px-6 py-4 text-center text-red-600",children:["Error loading doctors: ",w.message]})})}):!(c!=null&&c.data)||c.data.length===0?e.jsx("tbody",{className:"bg-white",children:e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-4 text-center text-gray-500",children:"No doctors found"})})}):e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.data.map((i,C)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[i.profilePhotoUrl?e.jsx("img",{src:i.profilePhotoUrl,alt:i.name,className:"w-full h-full object-cover",onError:N=>{var F;const j=N.target;j.style.display="none",(F=j.nextElementSibling)==null||F.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center ${i.profilePhotoUrl?"hidden":""}`,children:e.jsx(_s,{className:"text-blue-600",size:16})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:i.name}),i.experience_years&&e.jsx("div",{className:"flex items-center mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[i.experience_years," years exp."]})})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-[200px] truncate",children:i.email})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-[150px] truncate",children:i.phone||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${vt(fs(i.specialization))}`,children:fs(i.specialization)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-[120px] truncate",children:i.hospital.name})})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:["$",i.consultation_fee||"0.00"]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${wt(i.is_active?"active":"inactive")}`,children:i.is_active?"active":"inactive"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-[150px] truncate",children:jt(i.qualification)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:Nt(i.working_hours)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(D,{variant:"ghost",size:"sm",icon:pe,onClick:()=>_(i.id),className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50"}),e.jsx(D,{variant:"ghost",size:"sm",icon:Ke,onClick:()=>console.log("Edit doctor:",i.id),className:"text-green-600 hover:text-green-800 hover:bg-green-50"}),e.jsx(D,{variant:"ghost",size:"sm",icon:Ze,onClick:()=>P(i),className:"text-red-600 hover:text-red-800 hover:bg-red-50"})]})})]},i.id||C))});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Doctors"}),(c==null?void 0:c.meta)&&e.jsx("div",{className:"hidden sm:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(Gs,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:c.meta.total})]})})]}),e.jsx(D,{icon:Se,iconPosition:"left",onClick:()=>console.log("Add new doctor"),disabled:g,children:"Add Doctor"})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsx(yt,{filters:a,onFiltersChange:f,onResetFilters:u,isLoading:g})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Doctor"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Email"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Specialty"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Hospital"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Fee"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Qualification"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[300px]",children:"Working Hours"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),O()]})}),(c==null?void 0:c.meta)&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:e.jsx(Ps,{pagination:{current_page:c.meta.current_page,last_page:c.meta.last_page,per_page:c.meta.per_page,total:c.meta.total,from:c.meta.from,to:c.meta.to,has_more_pages:c.meta.current_page<c.meta.last_page},onPageChange:y,isLoading:g})}),e.jsx(Rs,{isOpen:n,onClose:z,onConfirm:M,title:"Delete Doctor",itemName:o==null?void 0:o.name,isLoading:v,description:"This will permanently delete the doctor and their associated data."})]})},ze=[{id:"1",name:"Alice Johnson",email:"alice.johnson@email.com",contact:"(907) 555-0201",condition:"Hypertension",doctor:"Dr. John Smith",age:45,admissionDate:"2024-01-15",status:"active",avatar:"https://images.unsplash.com/photo-1494790108755-2616b25bd3b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"},{id:"2",name:"Bob Davis",email:"bob.davis@email.com",contact:"(907) 555-0202",condition:"Diabetes",doctor:"Dr. Sarah Wilson",age:52,admissionDate:"2024-01-20",status:"critical",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"},{id:"3",name:"Carol Miller",email:"carol.miller@email.com",contact:"(907) 555-0203",condition:"Arthritis",doctor:"Dr. Michael Brown",age:38,admissionDate:"2024-01-10",status:"discharged"}],kt=s=>{switch(s){case"active":return"text-blue-700 bg-blue-100";case"discharged":return"text-green-700 bg-green-100";case"critical":return"text-red-700 bg-red-100";default:return"text-blue-700 bg-blue-100"}},St=s=>({Hypertension:"bg-red-100 text-red-700",Diabetes:"bg-orange-100 text-orange-700",Arthritis:"bg-yellow-100 text-yellow-700","Heart Disease":"bg-red-100 text-red-700",Cancer:"bg-purple-100 text-purple-700",Asthma:"bg-blue-100 text-blue-700"})[s]||"bg-gray-100 text-gray-700",Ct=({setActiveFilter:s})=>{const t=Ge(),a=r=>{t(`/patients/${r}`)};return console.log("setActiveFilter: ",s),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patients"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative order-2 sm:order-1",children:[e.jsx(Oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search patients...",className:"pl-10 pr-4 py-2 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsx(D,{icon:Se,iconPosition:"left",className:"order-1 sm:order-2",children:"Add Patient"}),e.jsx("div",{className:"hidden sm:flex items-center order-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(Te,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:ze.length})]})})]})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Patient Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Condition"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Assigned Doctor"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ze.map((r,o)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[r.avatar?e.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover",onError:l=>{var x;const n=l.target;n.style.display="none",(x=n.nextElementSibling)==null||x.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center ${r.avatar?"hidden":""}`,children:e.jsx(Te,{className:"text-yellow-600",size:16})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:r.name}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[r.age&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Age: ",r.age]}),r.admissionDate&&e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:r.admissionDate})})]})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("div",{className:"mb-1",children:e.jsx("span",{className:"truncate max-w-[120px]",children:r.contact})}),e.jsx("div",{children:e.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:r.email})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${St(r.condition)}`,children:r.condition})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-500 truncate max-w-[120px]",children:r.doctor})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${kt(r.status)}`,children:r.status?r.status.charAt(0).toUpperCase()+r.status.slice(1):"Active"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(D,{variant:"ghost",size:"sm",icon:pe,onClick:()=>a(r.id),className:"text-info-600 hover:text-info-800 hover:bg-info-50 p-2",title:"View Patient Record"}),e.jsx(D,{variant:"ghost",size:"sm",icon:Ke,className:"text-success-600 hover:text-success-800 hover:bg-success-50 p-2",title:"Edit Patient"}),e.jsx(D,{variant:"ghost",size:"sm",icon:Ze,className:"text-danger-600 hover:text-danger-800 hover:bg-danger-50 p-2",title:"Remove Patient"})]})})]},r.id||o))})]}),ze.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Te,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Patients Found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Patient records will appear here once they are registered."})]})]})]})},xe=(s,t)=>{const[a,r]=d.useState(s);return d.useEffect(()=>{const o=setTimeout(()=>{r(s)},t);return()=>{clearTimeout(o)}},[s,t]),a},Et=({filters:s,onFiltersChange:t,onResetFilters:a,isLoading:r=!1})=>{const[o,l]=d.useState(!1),[n,x]=d.useState(s.search||""),[c,g]=d.useState(s.name||""),[w,p]=d.useState(s.location||""),[v,f]=d.useState(s.owner_email||""),[u,y]=d.useState(s.owner_phone||""),_=xe(n,500),P=xe(c,500),M=xe(w,500),z=xe(v,500),O=xe(u,500);d.useEffect(()=>{t({search:_||void 0})},[_,t]),d.useEffect(()=>{t({name:P||void 0})},[P,t]),d.useEffect(()=>{t({location:M||void 0})},[M,t]),d.useEffect(()=>{t({owner_email:z||void 0})},[z,t]),d.useEffect(()=>{t({owner_phone:O||void 0})},[O,t]),d.useEffect(()=>{x(s.search||""),g(s.name||""),p(s.location||""),f(s.owner_email||""),y(s.owner_phone||"")},[s.search,s.name,s.location,s.owner_email,s.owner_phone]);const i=d.useCallback((m,T)=>{if(m==="has_children")t(T==="true"?{[m]:!0}:T==="false"?{[m]:!1}:{[m]:void 0});else switch(m){case"search":x(T);break;case"name":g(T);break;case"location":p(T);break;case"owner_email":f(T);break;case"owner_phone":y(T);break;default:t({[m]:T===""?void 0:T})}},[t]),C=[{value:"",label:"All Status",icon:"🔘"},{value:"active",label:"Active",icon:"🟢"},{value:"inactive",label:"Inactive",icon:"🔴"}],N=[{value:"name",label:"Name",icon:"📝"},{value:"location",label:"Location",icon:"📍"},{value:"created_at",label:"Created Date",icon:"📅"},{value:"owner_name",label:"Owner Name",icon:"👤"},{value:"owner_email",label:"Owner Email",icon:"📧"}],j=[{value:"asc",label:"A-Z",icon:"⬆️"},{value:"desc",label:"Z-A",icon:"⬇️"}],F=[{value:"10",label:"10 items",icon:"📄"},{value:"15",label:"15 items",icon:"📄"},{value:"25",label:"25 items",icon:"📄"},{value:"50",label:"50 items",icon:"📄"},{value:"100",label:"100 items",icon:"📄"}],b=[{value:"",label:"Any",icon:"🔘"},{value:"true",label:"Yes",icon:"✅"},{value:"false",label:"No",icon:"❌"}],E=[{value:"",label:"Any Type",icon:"🔘"},{value:"null",label:"Main Hospitals Only",icon:"🏛️"}],q=d.useMemo(()=>{const m=(se,W)=>W==null||typeof W=="string"&&W.trim()===""?!0:se==="parent_hospital_id"&&(W===""||W==="null")?W==="":!1,T=Object.entries(s).filter(([se,W])=>["page","per_page","sort_by","sort_direction"].includes(se)?!1:!m(se,W)),G=!!(n!=null&&n.trim()||c!=null&&c.trim()||w!=null&&w.trim()||v!=null&&v.trim()||u!=null&&u.trim());return console.log("hasActiveFilters debug:",{filterValues:T,hasLocalInputs:G,filters:s,localInputs:{searchInput:n==null?void 0:n.trim(),nameInput:c==null?void 0:c.trim(),locationInput:w==null?void 0:w.trim(),ownerEmailInput:v==null?void 0:v.trim(),ownerPhoneInput:u==null?void 0:u.trim()}}),T.length>0||G},[s,n,c,w,v,u]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/80 rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Oe,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",placeholder:"Search hospitals, locations, owners...",value:n,onChange:m=>i("search",m.target.value),className:"block w-full pl-12 pr-4 py-3 sm:text-sm border-0 rounded-xl bg-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:flex-shrink-0",children:[e.jsx(D,{variant:"outline",icon:o?De:Ce,iconPosition:"left",onClick:()=>l(!o),className:`px-4 py-3 rounded-xl border-2 transition-all duration-200 ${o?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50"} ${o?"[&_svg]:rotate-180":""}`,disabled:r,children:e.jsx("span",{className:"font-medium",children:"Advanced"})}),q&&e.jsx(D,{variant:"ghost",icon:$,iconPosition:"left",onClick:()=>{x(""),g(""),p(""),f(""),y(""),a()},className:"px-4 py-3 rounded-xl border-2 border-red-200 bg-red-50 text-red-700 hover:border-red-300 hover:bg-red-100 transition-all duration-200",disabled:r,title:"Clear all filters",children:e.jsx("span",{className:"font-medium",children:"Reset"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[e.jsx(J,{label:"Status",options:C,value:s.status||"",onChange:m=>i("status",m),placeholder:"All Status",disabled:r,size:"sm"}),e.jsx(J,{label:"Sort By",options:N,value:s.sort_by||"name",onChange:m=>i("sort_by",m),placeholder:"Select sort field",disabled:r,size:"sm"}),e.jsx(J,{label:"Order",options:j,value:s.sort_direction||"asc",onChange:m=>i("sort_direction",m),placeholder:"Select order",disabled:r,size:"sm"}),e.jsx(J,{label:"Per Page",options:F,value:String(s.per_page||15),onChange:m=>i("per_page",m),placeholder:"Items per page",disabled:r,size:"sm"})]})]})}),o&&e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced Filters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use these filters to narrow down your search with specific criteria."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"🏥"}),"Hospital Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. City General Hospital",value:c,onChange:m=>i("name",m.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"📍"}),"Location"]}),e.jsx("input",{type:"text",placeholder:"e.g. New York, Los Angeles",value:w,onChange:m=>i("location",m.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-purple-500 mr-2",children:"📧"}),"Owner Email"]}),e.jsx("input",{type:"email",placeholder:"e.g. admin@hospital.com",value:v,onChange:m=>i("owner_email",m.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-orange-500 mr-2",children:"📞"}),"Owner Phone"]}),e.jsx("input",{type:"tel",placeholder:"e.g. +1 (555) 123-4567",value:u,onChange:m=>i("owner_phone",m.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-cyan-500 mr-2",children:"📅"}),"Created From"]}),e.jsx("input",{type:"date",value:s.created_from||"",onChange:m=>i("created_from",m.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-pink-500 mr-2",children:"📅"}),"Created To"]}),e.jsx("input",{type:"date",value:s.created_to||"",onChange:m=>i("created_to",m.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsx(J,{label:"🏢 Has Branches",options:b,value:s.has_children===!0?"true":s.has_children===!1?"false":"",onChange:m=>i("has_children",m),placeholder:"Any",disabled:r,size:"sm"}),e.jsx(J,{label:"🏛️ Hospital Type",options:E,value:String(s.parent_hospital_id||""),onChange:m=>i("parent_hospital_id",m),placeholder:"Any Type",disabled:r,size:"sm"})]})]}),q&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 space-y-3",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-700 flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),"Active Filters:"]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.search||n)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Search: ",s.search||n,e.jsx("button",{onClick:()=>{x(""),t({search:void 0})},className:"ml-1 hover:text-blue-600",disabled:r,children:e.jsx($,{size:12})})]}),s.status&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",s.status,e.jsx("button",{onClick:()=>i("status",""),className:"ml-1 hover:text-green-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.location||w)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Location: ",s.location||w,e.jsx("button",{onClick:()=>{p(""),t({location:void 0})},className:"ml-1 hover:text-purple-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.name||c)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Name: ",s.name||c,e.jsx("button",{onClick:()=>{g(""),t({name:void 0})},className:"ml-1 hover:text-indigo-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.owner_email||v)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:["Owner Email: ",s.owner_email||v,e.jsx("button",{onClick:()=>{f(""),t({owner_email:void 0})},className:"ml-1 hover:text-pink-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.owner_phone||u)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:["Owner Phone: ",s.owner_phone||u,e.jsx("button",{onClick:()=>{y(""),t({owner_phone:void 0})},className:"ml-1 hover:text-teal-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_from&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["From: ",new Date(s.created_from).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_from:void 0}),className:"ml-1 hover:text-orange-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_to&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["To: ",new Date(s.created_to).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_to:void 0}),className:"ml-1 hover:text-red-600",disabled:r,children:e.jsx($,{size:12})})]}),s.has_children!==void 0&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["Has Children: ",s.has_children?"Yes":"No",e.jsx("button",{onClick:()=>t({has_children:void 0}),className:"ml-1 hover:text-gray-600",disabled:r,children:e.jsx($,{size:12})})]}),s.parent_hospital_id&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Parent:"," ",s.parent_hospital_id==="null"?"Main Only":`ID ${s.parent_hospital_id}`,e.jsx("button",{onClick:()=>t({parent_hospital_id:void 0}),className:"ml-1 hover:text-yellow-600",disabled:r,children:e.jsx($,{size:12})})]})]})]})]})},Dt=async s=>{const t={};return s&&(s.search&&(t.global_search=s.search),s.name&&(t.hospital_name=s.name),s.status&&(t.status=s.status),s.location&&(t.location=s.location),s.owner_email&&(t.owner_email=s.owner_email),s.owner_phone&&(t.owner_phone=s.owner_phone),s.created_from&&(t.created_from=s.created_from),s.created_to&&(t.created_to=s.created_to),s.has_children!==void 0&&(t.has_branches=s.has_children),s.parent_hospital_id!==void 0&&(t.hospital_type=s.parent_hospital_id),s.sort_by&&(t.sort_by=s.sort_by),s.sort_direction&&(t.sort_direction=s.sort_direction),s.per_page&&(t.per_page=s.per_page),s.page&&(t.page=s.page)),(await de.get("/hospitals/search/advanced",{params:t})).data},Hs=(s,t)=>Ds({queryKey:["hospitals","all",s],queryFn:()=>Dt(s),enabled:(t==null?void 0:t.enabled)!==!1,staleTime:5*60*1e3,retry:(a,r)=>r&&"status"in r&&typeof r.status=="number"?r.status>=500&&a<3:a<3}),Pt=async s=>(await de.post("/hospitals",s)).data,Ot=()=>{const s=ke();return Pe({mutationFn:Pt,onSuccess:t=>{s.invalidateQueries({queryKey:["hospitals"]}),V.success(t.message||"Hospital created successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){V.error(a[0]);return}}V.error(t.message||"Failed to create hospital")}})},Rt=async({id:s,data:t})=>(await de.patch(`/hospitals/${s}`,t)).data,Ht=()=>{const s=ke();return Pe({mutationFn:Rt,onSuccess:(t,a)=>{s.invalidateQueries({queryKey:["hospitals"]}),s.setQueryData(["hospitals","show",a.id],t),V.success(t.message||"Hospital updated successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){V.error(a[0]);return}}V.error(t.message||"Failed to update hospital")}})},At=async s=>(await de.delete(`/hospitals/${s}`)).data,Tt=()=>{const s=ke();return Pe({mutationFn:At,onSuccess:t=>{s.invalidateQueries({queryKey:["hospitals"]}),V.success(t.message||"Hospital deleted successfully!")},onError:t=>{V.error(t.message||"Failed to delete hospital")}})},zt=js({owner_image_url:R().url("Please enter a valid URL").nullable().notRequired(),name:R().required("Hospital name is required").max(255,"Hospital name must not exceed 255 characters"),email:R().email("Please enter a valid email address").required("Email is required"),owner_name:R().required("Owner name is required"),phone:R().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),hospital_phone:R().required("Hospital phone number is required").max(20,"Hospital phone number must not exceed 20 characters"),password:R().min(8,"Password must be at least 8 characters").required("Password is required"),password_confirmation:R().oneOf([Ns("password")],"Passwords do not match").required("Password confirmation is required"),location:R().required("Location is required").max(255,"Location must not exceed 255 characters"),description:R().max(1e3,"Description must not exceed 1000 characters").optional(),image_url:R().url("Please enter a valid URL").max(500,"Image URL must not exceed 500 characters").optional(),parent_hospital_id:R().optional(),status:R().oneOf(["active","inactive"],"Status must be either active or inactive").required("Status is required")}),It=js({owner_image_url:R().url("Please enter a valid URL").nullable().notRequired(),name:R().required("Hospital name is required").max(255,"Hospital name must not exceed 255 characters"),email:R().email("Please enter a valid email address").optional(),owner_name:R().required("Owner name is required"),phone:R().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),hospital_phone:R().required("Hospital phone number is required").max(20,"Hospital phone number must not exceed 20 characters"),password:R().nullable().transform(s=>s===""?null:s).test("min-length","Password must be at least 8 characters",s=>!s||s.length>=8).optional(),password_confirmation:R().nullable().transform(s=>s===""?null:s).when("password",{is:s=>s&&s.length>0,then:s=>s.oneOf([Ns("password")],"Passwords do not match").required("Password confirmation is required"),otherwise:s=>s.optional()}),location:R().required("Location is required").max(255,"Location must not exceed 255 characters"),description:R().max(1e3,"Description must not exceed 1000 characters").optional(),image_url:R().url("Please enter a valid URL").max(500,"Image URL must not exceed 500 characters").optional(),parent_hospital_id:R().optional(),status:R().oneOf(["active","inactive"],"Status must be either active or inactive").required("Status is required")}),$t=({isOpen:s,onClose:t,hospital:a,onSuccess:r})=>{var q,m,T,G,se,W,Ye,Xe,es,ss,ts,as,rs,ns,is;const o=!!a,[l,n]=d.useState(!1),[x,c]=d.useState(!1),g=vs(qs),w=(g==null?void 0:g.role)==="hospital-admin",p=(g==null?void 0:g.role)==="admin",v=ds({resolver:ms(zt),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",email:"",owner_name:"",owner_image_url:"",phone:"",hospital_phone:"",password:"",password_confirmation:"",location:"",description:"",image_url:"",parent_hospital_id:"",status:"active"}}),f=ds({resolver:ms(It),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",email:"",phone:"",hospital_phone:"",password:"",password_confirmation:"",location:"",description:"",image_url:"",parent_hospital_id:"",status:"active"}}),u=o?f:v,y=Ot(),_=Ht(),{data:P,isLoading:M}=Hs(p&&s?{per_page:100,parent_hospital_id:"null"}:void 0,{enabled:p&&s}),z=w?g==null?void 0:g.hospital_id:null;d.useEffect(()=>{var S;if(s)if(o&&a)u.reset({name:a.name,email:a.owner.email||"",owner_name:a.owner.name||"",owner_image_url:a.owner_image_url||"",phone:a.owner.phone||"",hospital_phone:a.hospital_phone||"",password:"",password_confirmation:"",description:a.description||"",location:a.location,image_url:a.image_url||"",parent_hospital_id:((S=a.parent_hospital_id)==null?void 0:S.toString())||"",status:a.owner.status});else{const H={name:"",email:"",owner_name:"",owner_image_url:"",phone:"",hospital_phone:"",password:"",password_confirmation:"",description:"",location:"",image_url:"",parent_hospital_id:w&&z?z.toString():"",status:"active"};u.reset(H)}},[s,o,a,u,w,z]);const O=async S=>{try{if(o&&a){const H={name:S.name,description:S.description||void 0,location:S.location,image_url:S.image_url||void 0,phone:S.phone,hospital_phone:S.hospital_phone,parent_hospital_id:S.parent_hospital_id?parseInt(S.parent_hospital_id):null,is_active:S.status==="active"?1:0};S.password&&(H.password=S.password,H.password_confirmation=S.password_confirmation);const Re=await _.mutateAsync({id:a.id,data:H});r==null||r(Re.data)}else{const H=S,Re={name:H.name,email:H.email,owner_name:H.owner_name,owner_image_url:H.owner_image_url,phone:H.phone,hospital_phone:H.hospital_phone,password:H.password,password_confirmation:H.password_confirmation,description:H.description||void 0,location:H.location,image_url:H.image_url||void 0,parent_hospital_id:H.parent_hospital_id?parseInt(H.parent_hospital_id):void 0,is_active:H.status==="active"?1:0},As=await y.mutateAsync(Re);r==null||r(As.data)}t()}catch(H){console.error("Hospital operation failed:",H)}},i=()=>{y.isPending||_.isPending||t()},C=[{value:"",label:"No Parent Hospital (Main Hospital)"},...((m=(q=P==null?void 0:P.data)==null?void 0:q.filter(S=>!o||S.id!==(a==null?void 0:a.id)))==null?void 0:m.map(S=>({value:S.id.toString(),label:S.name})))||[]],N=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],j=y.isPending||_.isPending,F=S=>u.watch(S)||"",b=(S,H)=>{u.setValue(S,H)},E=S=>u.register(S);return e.jsx(Os,{isOpen:s,onClose:i,title:o?"Edit Hospital":"Add New Hospital",maxWidth:"2xl",closeOnOverlayClick:!j,children:e.jsxs("form",{onSubmit:u.handleSubmit(O),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Z,{...E("name"),label:"Hospital Name *",type:"text",placeholder:"Enter hospital name",error:(T=u.formState.errors.name)==null?void 0:T.message,disabled:j}),e.jsx(Z,{...E("owner_name"),label:"Owner Name *",type:"text",placeholder:"Enter owner name",error:(G=u.formState.errors.owner_name)==null?void 0:G.message,disabled:j})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(Z,{...E("hospital_phone"),label:"Hospital Phone *",type:"tel",placeholder:"Enter hospital phone number",error:(se=u.formState.errors.hospital_phone)==null?void 0:se.message,disabled:j}),e.jsx(Z,{...E("phone"),label:"Owner Phone *",type:"tel",placeholder:"Enter owner phone number",error:(W=u.formState.errors.phone)==null?void 0:W.message,disabled:j})]}),e.jsx("div",{className:"mt-4",children:e.jsx(Z,{...E("email"),label:"Email Address *",type:"email",placeholder:"Enter email address",error:(Ye=u.formState.errors.email)==null?void 0:Ye.message,disabled:j||o})}),e.jsx("div",{className:"mt-4",children:e.jsx(Z,{...E("location"),label:"Location *",type:"text",placeholder:"Enter hospital location",error:(Xe=u.formState.errors.location)==null?void 0:Xe.message,disabled:j})}),e.jsx("div",{className:"mt-4",children:e.jsx(Us,{...E("description"),label:"Description",placeholder:"Enter hospital description (optional)",error:(es=u.formState.errors.description)==null?void 0:es.message,disabled:j,rows:3})}),p&&e.jsx("div",{className:"mt-4",children:e.jsx(gs,{label:"Parent Hospital",options:C,value:F("parent_hospital_id"),onChange:S=>b("parent_hospital_id",S),placeholder:"Select parent hospital",searchPlaceholder:"Search hospitals...",disabled:j||M,error:(ss=u.formState.errors.parent_hospital_id)==null?void 0:ss.message})}),e.jsx("div",{className:"mt-4",children:e.jsx(Z,{...E("image_url"),label:"Hospital Image URL",type:"url",placeholder:"Enter hospital image URL (optional)",error:(ts=u.formState.errors.image_url)==null?void 0:ts.message,disabled:j})}),e.jsx("div",{className:"mt-4",children:e.jsx(Z,{...E("owner_image_url"),label:"Owner Image URL",type:"url",placeholder:"Enter owner image URL (optional)",error:(as=u.formState.errors.owner_image_url)==null?void 0:as.message,disabled:j})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx("div",{className:"relative",children:e.jsx(Z,{...E("password"),label:o?"New Password":"Password *",type:l?"text":"password",placeholder:o?"Leave blank to keep current password":"Enter password",error:(rs=u.formState.errors.password)==null?void 0:rs.message,disabled:j,rightIcon:l?xs:pe,onRightIconClick:()=>n(!l)})}),e.jsx("div",{className:"relative",children:e.jsx(Z,{...E("password_confirmation"),label:o?"Confirm New Password":"Confirm Password *",type:x?"text":"password",placeholder:"Confirm password",error:(ns=u.formState.errors.password_confirmation)==null?void 0:ns.message,disabled:j,rightIcon:x?xs:pe,onRightIconClick:()=>c(!x)})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.jsx(gs,{label:"Status *",options:N,value:F("status")||"active",onChange:S=>b("status",S),disabled:j,error:(is=u.formState.errors.status)==null?void 0:is.message,allowClear:!1})}),o&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(Fs,{className:"w-4 h-4 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Password Update"}),e.jsx("p",{children:"Leave password fields empty to keep the current password unchanged."})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx(D,{type:"button",variant:"ghost",onClick:i,disabled:j,children:"Cancel"}),e.jsx(D,{type:"submit",disabled:j,children:e.jsxs("div",{className:"flex items-center",children:[j&&e.jsx(Ss,{className:"animate-spin w-4 h-4 mr-2"}),j?o?"Updating...":"Creating...":o?"Update Hospital":"Create Hospital"]})})]})]})})},Mt=s=>({...s,owner:{...s.owner,status:s.is_active===1?"active":"inactive",phone:s.owner.phone||""}}),qt=s=>({current_page:s.current_page,per_page:s.per_page,total:s.total,last_page:s.last_page,from:s.from,to:s.to,has_more_pages:s.current_page<s.last_page}),Ut=()=>{const[s,t]=d.useState({page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"}),{data:a,isLoading:r,error:o}=Hs(s,{enabled:!0}),l=d.useMemo(()=>a?{hospitals:a.data.map(Mt),pagination:qt(a.meta),meta:a.meta,links:a.links}:null,[a]);d.useEffect(()=>{o&&(V.error("Failed to fetch hospitals"),console.error("Hospital API Error:",o))},[o]);const n=d.useCallback(c=>{t(g=>({...g,...c}))},[]),x=d.useCallback(()=>{t({page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"})},[]);return{hospitals:(l==null?void 0:l.hospitals)||[],pagination:(l==null?void 0:l.pagination)||null,meta:(l==null?void 0:l.meta)||null,links:(l==null?void 0:l.links)||null,isLoading:r,error:o,filters:s,updateFilters:n,resetFilters:x}},Ft=()=>{const[s,t]=d.useState(!1),a=Tt(),r=d.useCallback(async n=>{t(!0);try{return await new Promise(x=>setTimeout(x,1e3)),V.success("Hospital created successfully! (Simulated)"),{success:!0}}catch(x){throw V.error("Failed to create hospital"),x}finally{t(!1)}},[]),o=d.useCallback(async(n,x)=>{t(!0);try{return await new Promise(c=>setTimeout(c,1e3)),V.success("Hospital updated successfully! (Simulated)"),{success:!0}}catch(c){throw V.error("Failed to update hospital"),c}finally{t(!1)}},[]),l=d.useCallback(async n=>{try{return await a.mutateAsync(n),{success:!0}}catch(x){throw x}},[a]);return{createHospital:r,updateHospital:o,deleteHospital:l,isLoading:s||a.isPending}},Lt=s=>{switch(s){case"active":return"text-green-700 bg-green-100";case"inactive":return"text-red-700 bg-red-100";default:return"text-gray-700 bg-gray-100"}},Vt=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Qt=({setActiveFilter:s})=>{const t=Ge(),[a,r]=d.useState(!1),[o,l]=d.useState(null),[n,x]=d.useState(!1),[c,g]=d.useState(null),{hospitals:w,pagination:p,isLoading:v,filters:f,updateFilters:u,resetFilters:y}=Ut(),{deleteHospital:_,isLoading:P}=Ft(),M=b=>{s("doctors"),t(`/hospitals/${b}`)},z=b=>{l(b),r(!0)},O=b=>{g(b),x(!0)},i=async()=>{c&&(await _(c.id),x(!1),g(null))},C=()=>{P||(x(!1),g(null))},N=()=>{l(null),r(!0)},j=()=>{r(!1),l(null)},F=b=>{console.log("Hospital operation successful:",b)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Hospitals"}),p&&e.jsx("div",{className:"hidden sm:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(Ae,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:p.total})]})})]}),e.jsx(D,{icon:Se,iconPosition:"left",onClick:N,disabled:v,children:"Add Hospital"})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsx(Et,{filters:f,onFiltersChange:u,onResetFilters:y,isLoading:v})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Hospital Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Description"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Email"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"Hospital Phone"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Owner Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"Owner Phone"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Location"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Created On"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v?Array.from({length:f.per_page||15},(b,E)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded mr-3 flex-shrink-0"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-36"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"})]})})]},`skeleton-${E}`)):w.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[b.image_url?e.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-full object-cover",onError:E=>{var m;const q=E.target;q.style.display="none",(m=q.nextElementSibling)==null||m.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center ${b.image_url?"hidden":""}`,children:e.jsx(Ae,{className:"text-primary-600",size:16})})]}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",title:b.name,children:b.name})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-500",children:b.description||"No description available"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",title:b.owner.email,children:b.owner.email})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",title:b.hospital_phone||"N/A",children:b.hospital_phone||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[b.owner_image_url?e.jsx("img",{src:b.owner_image_url,alt:b.owner.name,className:"w-full h-full object-cover",onError:E=>{var m;const q=E.target;q.style.display="none",(m=q.nextElementSibling)==null||m.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center ${b.owner_image_url?"hidden":""}`,children:e.jsx(_s,{className:"text-blue-600",size:16})})]}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.owner.name})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",title:b.owner.phone||"N/A",children:b.owner.phone||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-500 leading-tight",title:b.location,children:b.location})}),e.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:Vt(b.created_at)}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(b.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Lt(b.owner.status)}`,children:b.owner.status.charAt(0).toUpperCase()+b.owner.status.slice(1)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(D,{variant:"ghost",size:"sm",icon:pe,onClick:()=>M(b.id),className:"text-info-600 hover:text-info-800 hover:bg-info-50 p-2",title:"View Details",disabled:v}),e.jsx(D,{variant:"ghost",size:"sm",icon:Ke,onClick:()=>z(b),className:"text-success-600 hover:text-success-800 hover:bg-success-50 p-2",title:"Edit Hospital",disabled:v}),e.jsx(D,{variant:"ghost",size:"sm",icon:Ze,onClick:()=>O(b),className:"text-danger-600 hover:text-danger-800 hover:bg-danger-50 p-2",title:"Delete Hospital",disabled:v||P})]})})]},b.id))})]}),!v&&w.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ae,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Hospitals Found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base mb-4",children:Object.keys(f).length>2?"No hospitals match your current filters. Try adjusting your search criteria.":"Start by adding your first hospital to the system."}),e.jsx(D,{onClick:N,icon:Se,iconPosition:"left",children:"Add Hospital"})]})]}),p&&p.last_page>1&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:e.jsx(Ps,{pagination:p,onPageChange:b=>u({page:b}),isLoading:v})}),e.jsx($t,{isOpen:a,onClose:j,hospital:o,onSuccess:F}),e.jsx(Rs,{isOpen:n,onClose:C,onConfirm:i,title:"Delete Hospital",itemName:c==null?void 0:c.name,itemType:"hospital",isLoading:P,description:"This will permanently delete the hospital and its associated user account.",warningText:"This action cannot be undone."})]})},Bt=(s,t)=>{switch(s){case"doctors":return e.jsx(_t,{setActiveFilter:t});case"patients":return e.jsx(Ct,{setActiveFilter:t});default:return e.jsx(Qt,{setActiveFilter:t})}},aa=({activeFilter:s,setActiveFilter:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:Bt(s,t)})});export{aa as R,sa as S,Te as U,ta as W,Gs as a};

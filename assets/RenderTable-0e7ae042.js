var Ke=(s,t,a)=>{if(!t.has(s))throw TypeError("Cannot "+a)};var N=(s,t,a)=>(Ke(s,t,"read from private field"),a?a.call(s):t.get(s)),V=(s,t,a)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,a)},B=(s,t,a,r)=>(Ke(s,t,"write to private field"),r?r.call(s,a):t.set(s,a),a);var W=(s,t,a)=>(Ke(s,t,"access private method"),a);import{c as J,h as $s,p as js,i as ee,k as Ye,l as Ee,n as Je,m as Xe,o as ws,t as Us,q as Fs,v as Vs,w as vs,x as Ds,r as d,y as Qs,z as se,j as e,d as Os,X as $,C as Fe,V as L,a as os,f as Bs}from"./index-df97e514.js";import{B as M,a as X,I as z,c as ye,b as S,d as cs,e as As,f as qs,g as Y,T as ds}from"./index.esm-1d84754a.js";import{u as re,a as Pe,o as De}from"./yup-c510eba1.js";import{S as Be,P as Oe,c as Ls,u as Ws,A as Gs}from"./default-7783fc06.js";import{E as je}from"./eye-off-10d7a2b2.js";import{E as ae}from"./eye-cdf81ffa.js";import{U as Ve}from"./user-a2ae2ecd.js";const Ks=J("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ze=J("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Rs=J("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Zs=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ys=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Js=J("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),Xs=J("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),we=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ts=J("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ms=J("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),et=J("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),us=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Pa=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var Z,T,qe,K,de,he,le,oe,Re,ge,be,me,ue,ce,fe,pe,Ce,Te,es,ze,ss,He,ts,Ie,as,Me,rs,$e,ns,Ue,is,Qe,zs,Ps,st=(Ps=class extends $s{constructor(t,a){super();V(this,pe);V(this,Te);V(this,ze);V(this,He);V(this,Ie);V(this,Me);V(this,$e);V(this,Ue);V(this,Qe);V(this,Z,void 0);V(this,T,void 0);V(this,qe,void 0);V(this,K,void 0);V(this,de,void 0);V(this,he,void 0);V(this,le,void 0);V(this,oe,void 0);V(this,Re,void 0);V(this,ge,void 0);V(this,be,void 0);V(this,me,void 0);V(this,ue,void 0);V(this,ce,void 0);V(this,fe,new Set);this.options=a,B(this,Z,t),B(this,oe,null),B(this,le,js()),this.options.experimental_prefetchInRender||N(this,le).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,T).addObserver(this),Ns(N(this,T),this.options)?W(this,pe,Ce).call(this):this.updateResult(),W(this,Ie,as).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ls(N(this,T),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ls(N(this,T),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,W(this,Me,rs).call(this),W(this,$e,ns).call(this),N(this,T).removeObserver(this)}setOptions(t){const a=this.options,r=N(this,T);if(this.options=N(this,Z).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ee(this.options.enabled,N(this,T))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");W(this,Ue,is).call(this),N(this,T).setOptions(this.options),a._defaulted&&!Ye(this.options,a)&&N(this,Z).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,T),observer:this});const o=this.hasListeners();o&&_s(N(this,T),r,this.options,a)&&W(this,pe,Ce).call(this),this.updateResult(),o&&(N(this,T)!==r||ee(this.options.enabled,N(this,T))!==ee(a.enabled,N(this,T))||Ee(this.options.staleTime,N(this,T))!==Ee(a.staleTime,N(this,T)))&&W(this,Te,es).call(this);const l=W(this,ze,ss).call(this);o&&(N(this,T)!==r||ee(this.options.enabled,N(this,T))!==ee(a.enabled,N(this,T))||l!==N(this,ce))&&W(this,He,ts).call(this,l)}getOptimisticResult(t){const a=N(this,Z).getQueryCache().build(N(this,Z),t),r=this.createResult(a,t);return at(this,r)&&(B(this,K,r),B(this,he,this.options),B(this,de,N(this,T).state)),r}getCurrentResult(){return N(this,K)}trackResult(t,a){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),a==null||a(o),Reflect.get(r,o))})}trackProp(t){N(this,fe).add(t)}getCurrentQuery(){return N(this,T)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=N(this,Z).defaultQueryOptions(t),r=N(this,Z).getQueryCache().build(N(this,Z),a);return r.fetch().then(()=>this.createResult(r,a))}fetch(t){return W(this,pe,Ce).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,K)))}createResult(t,a){var F;const r=N(this,T),o=this.options,l=N(this,K),i=N(this,de),m=N(this,he),h=t!==r?t.state:N(this,qe),{state:f}=t;let x={...f},n=!1,c;if(a._optimisticResults){const w=this.hasListeners(),_=!w&&Ns(t,a),b=w&&_s(t,r,a,o);(_||b)&&(x={...x,...Vs(f.data,t.options)}),a._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:C}=x;c=x.data;let P=!1;if(a.placeholderData!==void 0&&c===void 0&&C==="pending"){let w;l!=null&&l.isPlaceholderData&&a.placeholderData===(m==null?void 0:m.placeholderData)?(w=l.data,P=!0):w=typeof a.placeholderData=="function"?a.placeholderData((F=N(this,be))==null?void 0:F.state.data,N(this,be)):a.placeholderData,w!==void 0&&(C="success",c=vs(l==null?void 0:l.data,w,a),n=!0)}if(a.select&&c!==void 0&&!P)if(l&&c===(i==null?void 0:i.data)&&a.select===N(this,Re))c=N(this,ge);else try{B(this,Re,a.select),c=a.select(c),c=vs(l==null?void 0:l.data,c,a),B(this,ge,c),B(this,oe,null)}catch(w){B(this,oe,w)}N(this,oe)&&(g=N(this,oe),c=N(this,ge),v=Date.now(),C="error");const U=x.fetchStatus==="fetching",q=C==="pending",D=C==="error",y=q&&U,R=c!==void 0,j={status:C,fetchStatus:x.fetchStatus,isPending:q,isSuccess:C==="success",isError:D,isInitialLoading:y,isLoading:y,data:c,dataUpdatedAt:x.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>h.dataUpdateCount||x.errorUpdateCount>h.errorUpdateCount,isFetching:U,isRefetching:U&&!q,isLoadingError:D&&!R,isPaused:x.fetchStatus==="paused",isPlaceholderData:n,isRefetchError:D&&R,isStale:ps(t,a),refetch:this.refetch,promise:N(this,le),isEnabled:ee(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const w=u=>{j.status==="error"?u.reject(j.error):j.data!==void 0&&u.resolve(j.data)},_=()=>{const u=B(this,le,j.promise=js());w(u)},b=N(this,le);switch(b.status){case"pending":t.queryHash===r.queryHash&&w(b);break;case"fulfilled":(j.status==="error"||j.data!==b.value)&&_();break;case"rejected":(j.status!=="error"||j.error!==b.reason)&&_();break}}return j}updateResult(){const t=N(this,K),a=this.createResult(N(this,T),this.options);if(B(this,de,N(this,T).state),B(this,he,this.options),N(this,de).data!==void 0&&B(this,be,N(this,T)),Ye(a,t))return;B(this,K,a);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!N(this,fe).size)return!0;const i=new Set(l??N(this,fe));return this.options.throwOnError&&i.add("error"),Object.keys(N(this,K)).some(m=>{const p=m;return N(this,K)[p]!==t[p]&&i.has(p)})};W(this,Qe,zs).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&W(this,Ie,as).call(this)}},Z=new WeakMap,T=new WeakMap,qe=new WeakMap,K=new WeakMap,de=new WeakMap,he=new WeakMap,le=new WeakMap,oe=new WeakMap,Re=new WeakMap,ge=new WeakMap,be=new WeakMap,me=new WeakMap,ue=new WeakMap,ce=new WeakMap,fe=new WeakMap,pe=new WeakSet,Ce=function(t){W(this,Ue,is).call(this);let a=N(this,T).fetch(this.options,t);return t!=null&&t.throwOnError||(a=a.catch(Je)),a},Te=new WeakSet,es=function(){W(this,Me,rs).call(this);const t=Ee(this.options.staleTime,N(this,T));if(Xe||N(this,K).isStale||!ws(t))return;const r=Us(N(this,K).dataUpdatedAt,t)+1;B(this,me,setTimeout(()=>{N(this,K).isStale||this.updateResult()},r))},ze=new WeakSet,ss=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,T)):this.options.refetchInterval)??!1},He=new WeakSet,ts=function(t){W(this,$e,ns).call(this),B(this,ce,t),!(Xe||ee(this.options.enabled,N(this,T))===!1||!ws(N(this,ce))||N(this,ce)===0)&&B(this,ue,setInterval(()=>{(this.options.refetchIntervalInBackground||Fs.isFocused())&&W(this,pe,Ce).call(this)},N(this,ce)))},Ie=new WeakSet,as=function(){W(this,Te,es).call(this),W(this,He,ts).call(this,W(this,ze,ss).call(this))},Me=new WeakSet,rs=function(){N(this,me)&&(clearTimeout(N(this,me)),B(this,me,void 0))},$e=new WeakSet,ns=function(){N(this,ue)&&(clearInterval(N(this,ue)),B(this,ue,void 0))},Ue=new WeakSet,is=function(){const t=N(this,Z).getQueryCache().build(N(this,Z),this.options);if(t===N(this,T))return;const a=N(this,T);B(this,T,t),B(this,qe,t.state),this.hasListeners()&&(a==null||a.removeObserver(this),t.addObserver(this))},Qe=new WeakSet,zs=function(t){Ds.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(N(this,K))}),N(this,Z).getQueryCache().notify({query:N(this,T),type:"observerResultsUpdated"})})},Ps);function tt(s,t){return ee(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Ns(s,t){return tt(s,t)||s.state.data!==void 0&&ls(s,t,t.refetchOnMount)}function ls(s,t,a){if(ee(t.enabled,s)!==!1&&Ee(t.staleTime,s)!=="static"){const r=typeof a=="function"?a(s):a;return r==="always"||r!==!1&&ps(s,t)}return!1}function _s(s,t,a,r){return(s!==t||ee(r.enabled,s)===!1)&&(!a.suspense||s.state.status!=="error")&&ps(s,a)}function ps(s,t){return ee(t.enabled,s)!==!1&&s.isStaleByTime(Ee(t.staleTime,s))}function at(s,t){return!Ye(s.getCurrentResult(),t)}var Hs=d.createContext(!1),rt=()=>d.useContext(Hs);Hs.Provider;function nt(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var it=d.createContext(nt()),lt=()=>d.useContext(it),ot=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},ct=s=>{d.useEffect(()=>{s.clearReset()},[s])},dt=({result:s,errorResetBoundary:t,throwOnError:a,query:r,suspense:o})=>s.isError&&!t.isReset()&&!s.isFetching&&r&&(o&&s.data===void 0||Qs(a,[s.error,r])),mt=s=>{if(s.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),a=s.staleTime;s.staleTime=typeof a=="function"?(...r)=>t(a(...r)):t(a),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},ut=(s,t)=>s.isLoading&&s.isFetching&&!t,pt=(s,t)=>(s==null?void 0:s.suspense)&&t.isPending,Ss=(s,t,a)=>t.fetchOptimistic(s).catch(()=>{a.clearReset()});function xt(s,t,a){var x,n,c,g,v;const r=rt(),o=lt(),l=se(a),i=l.defaultQueryOptions(s);(n=(x=l.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||n.call(x,i),i._optimisticResults=r?"isRestoring":"optimistic",mt(i),ot(i,o),ct(o);const m=!l.getQueryCache().get(i.queryHash),[p]=d.useState(()=>new t(l,i)),h=p.getOptimisticResult(i),f=!r&&s.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(C=>{const P=f?p.subscribe(Ds.batchCalls(C)):Je;return p.updateResult(),P},[p,f]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),d.useEffect(()=>{p.setOptions(i)},[i,p]),pt(i,h))throw Ss(i,p,o);if(dt({result:h,errorResetBoundary:o,throwOnError:i.throwOnError,query:l.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw h.error;if((g=(c=l.getDefaultOptions().queries)==null?void 0:c._experimental_afterQuery)==null||g.call(c,i,h),i.experimental_prefetchInRender&&!Xe&&ut(h,r)){const C=m?Ss(i,p,o):(v=l.getQueryCache().get(i.queryHash))==null?void 0:v.promise;C==null||C.catch(Je).finally(()=>{p.updateResult()})}return i.notifyOnChangeProps?h:p.trackResult(h)}function xs(s,t){return xt(s,st,t)}const Da=({title:s,value:t,icon:a,iconBgColor:r="bg-gray-100",iconTextColor:o="text-gray-600",isActive:l=!1,onClick:i,className:m=""})=>e.jsx("button",{onClick:i,className:`bg-white rounded-lg p-4 sm:p-5 lg:p-6 shadow-sm border transition-all duration-200 text-left hover:shadow-md ${l?"border-primary-500 ring-2 ring-primary-100 bg-primary-50":"border-gray-200 hover:border-primary-300"} ${m}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:s}),e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mt-1 sm:mt-2",children:typeof t=="number"?t.toLocaleString():t})]}),e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 ${r} rounded-full flex items-center justify-center flex-shrink-0`,children:e.jsx(a,{className:o,size:18})})]})}),Oa=()=>{const s=Os(r=>r.auth.user.name),t=new Date().getHours(),a=()=>t>=5&&t<12?"Good morning":t>=12&&t<17?"Good afternoon":t>=17&&t<21?"Good evening":"Good night";return e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("h1",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900 mb-2",children:[a(),", ",s,". ðŸ‘‹"]}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:"Here is what's happening with your Dashboard today:"})]})},hs=({pagination:s,onPageChange:t,isLoading:a=!1,showInfo:r=!0,className:o=""})=>{const{current_page:l,last_page:i,total:m,from:p,to:h,has_more_pages:f}=s,n=(()=>{const c=[];if(i<=7)for(let v=1;v<=i;v++)c.push(v);else if(l<=4){for(let v=1;v<=5;v++)c.push(v);i>6&&(c.push("..."),c.push(i))}else if(l>=i-3){c.push(1),i>6&&c.push("...");for(let v=i-4;v<=i;v++)c.push(v)}else{c.push(1),c.push("...");for(let v=l-1;v<=l+1;v++)c.push(v);c.push("..."),c.push(i)}return c})();return i<=1?null:e.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 ${o}`,children:[r&&e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(p||0).toLocaleString()})," to"," ",e.jsx("span",{className:"font-medium",children:(h||0).toLocaleString()})," of"," ",e.jsx("span",{className:"font-medium",children:m.toLocaleString()})," results"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>t(1),disabled:l===1||a,icon:Js,className:"px-2",title:"First page"}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>t(l-1),disabled:l===1||a,icon:Zs,className:"px-2",title:"Previous page"}),e.jsx("div",{className:"flex items-center space-x-1",children:n.map((c,g)=>{if(c==="...")return e.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},`ellipsis-${g}`);const v=c===l;return e.jsx(M,{variant:v?"primary":"outline",size:"sm",onClick:()=>t(c),disabled:v||a,className:`min-w-[40px] ${v?"bg-primary-600 text-white border-primary-600":"hover:bg-gray-50"}`,children:c},c)})}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>t(l+1),disabled:!f||a,icon:Ys,className:"px-2",title:"Next page"}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>t(i),disabled:l===i||a,icon:Xs,className:"px-2",title:"Last page"})]}),e.jsxs("div",{className:"sm:hidden text-sm text-gray-500",children:["Page ",l," of ",i]})]})},Le=({isOpen:s,onClose:t,title:a,children:r,maxWidth:o="lg",closeOnOverlayClick:l=!0,showCloseButton:i=!0,preventBodyScroll:m=!0})=>{if(d.useEffect(()=>{if(m)return s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}},[s,m]),d.useEffect(()=>{const f=x=>{x.key==="Escape"&&s&&t()};if(s)return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[s,t]),!s)return null;const p=f=>{f.target===f.currentTarget&&l&&t()},h={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl"};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",onClick:p,children:e.jsxs("div",{className:`
          bg-white rounded-lg shadow-xl transform transition-all w-full ${h[o]} 
          animate-in fade-in duration-200 zoom-in-95
        `,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[e.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900 flex-1 pr-4",children:a}),i&&e.jsx(M,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 -mr-2","aria-label":"Close modal",children:e.jsx($,{size:20})})]}),e.jsx("div",{className:"p-4 sm:p-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:r})]})})},G=({options:s,value:t,onChange:a,placeholder:r="Select an option",disabled:o=!1,className:l="",label:i,error:m,size:p="md"})=>{const[h,f]=d.useState(!1),[x,n]=d.useState(-1),c=d.useRef(null),g=d.useRef(null),v=s.find(y=>y.value===t),C={sm:"px-3 py-2.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-4 py-3 text-base"},P={sm:16,md:18,lg:20};d.useEffect(()=>{const y=R=>{c.current&&!c.current.contains(R.target)&&(f(!1),n(-1))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),d.useEffect(()=>{const y=R=>{if(h)switch(R.key){case"ArrowDown":R.preventDefault(),n(k=>k<s.length-1?k+1:0);break;case"ArrowUp":R.preventDefault(),n(k=>k>0?k-1:s.length-1);break;case"Enter":R.preventDefault(),x>=0&&!s[x].disabled&&(a(s[x].value),f(!1),n(-1));break;case"Escape":f(!1),n(-1);break}};if(h)return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[h,x,s,a]),d.useEffect(()=>{if(x>=0&&g.current){const y=g.current.children[x];y&&y.scrollIntoView({block:"nearest"})}},[x]);const U=()=>{o||(f(!h),n(-1))},q=y=>{y.disabled||(a(y.value),f(!1),n(-1))},D=`
    relative w-full bg-white border rounded-lg shadow-sm transition-all duration-200 cursor-pointer
    focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500
    ${o?"opacity-50 cursor-not-allowed bg-gray-50":"hover:border-gray-400"}
    ${m?"border-red-300 focus-within:ring-red-500 focus-within:border-red-500":"border-gray-300"}
    ${h?"ring-2 ring-blue-500 border-blue-500":""}
  `.trim();return e.jsxs("div",{className:`${l}`,children:[i&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),e.jsxs("div",{ref:c,className:"relative",children:[e.jsx("div",{className:`${D} ${C[p]}`,onClick:U,role:"combobox","aria-expanded":h,"aria-haspopup":"listbox",tabIndex:o?-1:0,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[(v==null?void 0:v.icon)&&e.jsx("span",{className:"mr-2",children:v.icon}),e.jsx("span",{className:`truncate ${v?"text-gray-900":"text-gray-500"}`,children:v?v.label:r})]}),e.jsx(Fe,{size:P[p],className:`ml-2 flex-shrink-0 text-gray-400 transition-transform duration-200 ${h?"transform rotate-180":""}`})]})}),h&&e.jsx("div",{ref:g,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",role:"listbox",children:s.map((y,R)=>e.jsxs("div",{className:`
                  flex items-center px-4 py-2.5 cursor-pointer transition-colors duration-150
                  ${y.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}
                  ${x===R?"bg-blue-50 text-blue-700":""}
                  ${y.value===t?"bg-blue-600 text-white hover:bg-blue-700":""}
                `.trim(),onClick:()=>q(y),role:"option","aria-selected":y.value===t,children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[y.icon&&e.jsx("span",{className:"mr-3 text-lg",children:y.icon}),e.jsx("span",{className:"truncate",children:y.label})]}),y.value===t&&e.jsx(Rs,{size:16,className:"ml-2 flex-shrink-0"})]},y.value))})]}),m&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m})]})},Ae=({options:s,value:t,onChange:a,placeholder:r="Select an option",searchPlaceholder:o="Search options...",disabled:l=!1,className:i="",label:m,error:p,size:h="md",allowClear:f=!0})=>{const[x,n]=d.useState(!1),[c,g]=d.useState(""),[v,C]=d.useState(-1),P=d.useRef(null),U=d.useRef(null),q=d.useRef(null),D=s.find(u=>u.value===t),y=s.filter(u=>u.label.toLowerCase().includes(c.toLowerCase())),R={sm:"px-3 py-2.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-4 py-3 text-base"},k={sm:16,md:18,lg:20};d.useEffect(()=>{const u=O=>{P.current&&!P.current.contains(O.target)&&(n(!1),C(-1),g(""))};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),d.useEffect(()=>{x&&q.current&&setTimeout(()=>{var u;(u=q.current)==null||u.focus()},50)},[x]),d.useEffect(()=>{const u=O=>{if(x)switch(O.key){case"ArrowDown":O.preventDefault(),C(H=>H<y.length-1?H+1:0);break;case"ArrowUp":O.preventDefault(),C(H=>H>0?H-1:y.length-1);break;case"Enter":O.preventDefault(),v>=0&&!y[v].disabled&&(a(y[v].value),n(!1),C(-1),g(""));break;case"Escape":n(!1),C(-1),g("");break}};if(x)return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[x,v,y,a]),d.useEffect(()=>{if(v>=0&&U.current){const u=U.current.children[v+1];u&&u.scrollIntoView({block:"nearest"})}},[v]);const j=()=>{l||(n(!x),C(-1),x||g(""))},F=u=>{u.disabled||(a(u.value),n(!1),C(-1),g(""))},w=u=>{u.stopPropagation(),a("")},_=u=>{g(u.target.value),C(-1)},b=`
    relative w-full bg-white border rounded-lg shadow-sm transition-all duration-200 cursor-pointer
    focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500
    ${l?"opacity-50 cursor-not-allowed bg-gray-50":"hover:border-gray-400"}
    ${p?"border-red-300 focus-within:ring-red-500 focus-within:border-red-500":"border-gray-300"}
    ${x?"ring-2 ring-blue-500 border-blue-500":""}
  `.trim();return e.jsxs("div",{className:`${i}`,children:[m&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m}),e.jsxs("div",{ref:P,className:"relative",children:[e.jsx("div",{className:`${b} ${R[h]}`,onClick:j,role:"combobox","aria-expanded":x,"aria-haspopup":"listbox",tabIndex:l?-1:0,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[(D==null?void 0:D.icon)&&e.jsx("span",{className:"mr-2",children:D.icon}),e.jsx("span",{className:`truncate ${D?"text-gray-900":"text-gray-500"}`,children:D?D.label:r})]}),e.jsxs("div",{className:"flex items-center ml-2 space-x-1",children:[f&&D&&!l&&e.jsx("button",{type:"button",onClick:w,className:"text-gray-400 hover:text-gray-600 p-0.5",children:e.jsx($,{size:14})}),e.jsx(Fe,{size:k[h],className:`flex-shrink-0 text-gray-400 transition-transform duration-200 ${x?"transform rotate-180":""}`})]})]})}),x&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",role:"listbox",children:[e.jsx("div",{className:"p-2 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{ref:q,type:"text",value:c,onChange:_,placeholder:o,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsx("div",{ref:U,className:"max-h-48 overflow-auto",children:y.length===0?e.jsx("div",{className:"px-4 py-2.5 text-sm text-gray-500",children:"No options found"}):y.map((u,O)=>e.jsxs("div",{className:`
                      flex items-center px-4 py-2.5 cursor-pointer transition-colors duration-150
                      ${u.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}
                      ${v===O?"bg-blue-50 text-blue-700":""}
                      ${u.value===t?"bg-blue-600 text-white hover:bg-blue-700":""}
                    `.trim(),onClick:()=>F(u),role:"option","aria-selected":u.value===t,children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[u.icon&&e.jsx("span",{className:"mr-3 text-lg",children:u.icon}),e.jsx("span",{className:"truncate",children:u.label})]}),u.value===t&&e.jsx(Rs,{size:16,className:"ml-2 flex-shrink-0"})]},u.value))})]})]}),p&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p})]})},gs=({isOpen:s,onClose:t,onConfirm:a,title:r,message:o,itemName:l,itemType:i="item",isLoading:m=!1,confirmButtonText:p="Delete",cancelButtonText:h="Cancel",description:f,warningText:x})=>{const n=()=>{m||t()},c=r||`Delete ${i}`,g=o||`Are you sure you want to delete ${l?`"${l}"`:`this ${i}`}?`,v=x||"This action cannot be undone.";return e.jsx(Le,{isOpen:s,onClose:n,title:c,maxWidth:"md",closeOnOverlayClick:!m,showCloseButton:!m,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Ks,{className:"w-6 h-6 text-red-600"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("p",{className:"font-medium mb-2",children:g}),f&&e.jsx("p",{className:"text-gray-600 mb-2",children:f}),e.jsx("p",{className:"text-red-600 text-sm font-medium",children:v})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx(M,{type:"button",variant:"ghost",onClick:n,disabled:m,children:h}),e.jsx(M,{type:"button",variant:"danger",onClick:a,disabled:m,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:e.jsxs("div",{className:"flex items-center",children:[m&&e.jsx(Ts,{className:"animate-spin w-4 h-4 mr-2"}),m?"Deleting...":p]})})]})]})})},ht=s=>{const t={};return s.global_search&&(t.global_search=s.global_search),s.status&&(t.status=s.status),s.sort_by&&(t.sort_by=s.sort_by),s.sort_direction&&(t.sort_direction=s.sort_direction),s.per_page&&(t.per_page=s.per_page),s.page&&(t.page=s.page),s.name&&(t.name=s.name),s.email&&(t.email=s.email),s.phone&&(t.phone=s.phone),s.created_from&&(t.created_from=s.created_from),s.created_to&&(t.created_to=s.created_to),s.hospital_name&&(t.hospital_name=s.hospital_name),t},gt=async(s={})=>{const t=ht(s);return(await X.get("/doctors/search/advanced",{params:t})).data},bt=(s={})=>xs({queryKey:["doctors",s],queryFn:()=>gt(s),staleTime:5*60*1e3,gcTime:10*60*1e3}),ft=async s=>(await X.post("/doctors",s)).data,yt=()=>{const s=se();return re({mutationFn:ft,onSuccess:t=>{s.invalidateQueries({queryKey:["doctors"]}),L.success(t.message||"Doctor created successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){L.error(a[0]);return}}L.error(t.message||"Failed to create doctor")}})},jt=async s=>(await X.delete(`/doctors/${s}`)).data,wt=()=>{const s=se();return re({mutationFn:jt,onSuccess:t=>{s.invalidateQueries({queryKey:["doctors"]}),L.success(t.message||"Doctor deleted successfully!")},onError:t=>{L.error(t.message||"Failed to delete doctor")}})},vt=async({id:s,data:t})=>(await X.patch(`/doctors/${s}`,t)).data,Nt=()=>{const s=se();return re({mutationFn:vt,onSuccess:(t,a)=>{s.invalidateQueries({queryKey:["doctors"]}),s.setQueryData(["doctors","show",a.id],t),L.success(t.message||"Doctor updated successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){L.error(a[0]);return}}L.error(t.message||"Failed to update doctor")}})},_t=async s=>{const t={};return s&&(s.search&&(t.global_search=s.search),s.name&&(t.hospital_name=s.name),s.status&&(t.status=s.status),s.location&&(t.location=s.location),s.owner_email&&(t.owner_email=s.owner_email),s.owner_phone&&(t.owner_phone=s.owner_phone),s.created_from&&(t.created_from=s.created_from),s.created_to&&(t.created_to=s.created_to),s.has_children!==void 0&&(t.has_branches=s.has_children),s.parent_hospital_id!==void 0&&(t.hospital_type=s.parent_hospital_id),s.sort_by&&(t.sort_by=s.sort_by),s.sort_direction&&(t.sort_direction=s.sort_direction),s.per_page&&(t.per_page=s.per_page),s.page&&(t.page=s.page)),(await X.get("/hospitals/search/advanced",{params:t})).data},We=(s,t)=>xs({queryKey:["hospitals","all",s],queryFn:()=>_t(s),enabled:(t==null?void 0:t.enabled)!==!1,staleTime:5*60*1e3,retry:(a,r)=>r&&"status"in r&&typeof r.status=="number"?r.status>=500&&a<3:a<3}),St=()=>{const s=wt(),t=yt(),a=Nt(),r=d.useCallback(async i=>{try{return await t.mutateAsync(i),{success:!0}}catch(m){throw m}},[t]),o=d.useCallback(async(i,m)=>{try{return await a.mutateAsync({id:i,data:m}),{success:!0}}catch(p){throw p}},[a]),l=d.useCallback(async i=>{try{return await s.mutateAsync(i),{success:!0}}catch(m){throw m}},[s]);return{createDoctor:r,updateDoctor:o,deleteDoctor:l,isLoading:s.isPending||t.isPending||a.isPending}},kt=[{value:"",label:"All Status",icon:"ðŸ”˜"},{value:"active",label:"Active",icon:"âœ…"},{value:"inactive",label:"Inactive",icon:"âŒ"}],Ct=[{value:"name",label:"Name",icon:"ðŸ‘¤"},{value:"email",label:"Email",icon:"ðŸ“§"},{value:"phone",label:"Phone",icon:"ðŸ“ž"},{value:"hospital_name",label:"Hospital",icon:"ðŸ¥"},{value:"specialization",label:"Specialty",icon:"ðŸ©º"},{value:"experience_years",label:"Experience",icon:"ðŸŽ–ï¸"},{value:"created_at",label:"Created Date",icon:"ðŸ“…"}],Et=[{value:"asc",label:"Ascending (A-Z)",icon:"â¬†ï¸"},{value:"desc",label:"Descending (Z-A)",icon:"â¬‡ï¸"}],Pt=[{value:"10",label:"10 items",icon:"ðŸ“„"},{value:"15",label:"15 items",icon:"ðŸ“„"},{value:"25",label:"25 items",icon:"ðŸ“„"},{value:"50",label:"50 items",icon:"ðŸ“„"},{value:"100",label:"100 items",icon:"ðŸ“„"}],ks={page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"},Se=(s,t)=>{const[a,r]=d.useState(s);return d.useEffect(()=>{const o=setTimeout(()=>{r(s)},t);return()=>{clearTimeout(o)}},[s,t]),a},Dt=({filters:s,onFiltersChange:t,onResetFilters:a,isLoading:r=!1})=>{const[o,l]=d.useState(!1),[i,m]=d.useState(s.global_search||""),[p,h]=d.useState(s.name||""),[f,x]=d.useState(s.email||""),[n,c]=d.useState(s.phone||""),[g,v]=d.useState(s.hospital_name||""),C=Se(i,500),P=Se(p,500),U=Se(f,500),q=Se(n,500),D=Se(g,500);d.useEffect(()=>{t({global_search:C||void 0})},[C,t]),d.useEffect(()=>{t({name:P||void 0})},[P,t]),d.useEffect(()=>{t({email:U||void 0})},[U,t]),d.useEffect(()=>{t({phone:q||void 0})},[q,t]),d.useEffect(()=>{t({hospital_name:D||void 0})},[D,t]),d.useEffect(()=>{m(s.global_search||""),h(s.name||""),x(s.email||""),c(s.phone||""),v(s.hospital_name||"")},[s.global_search,s.name,s.email,s.phone,s.hospital_name]);const y=d.useCallback((k,j)=>{switch(k){case"global_search":m(j);break;case"name":h(j);break;case"email":x(j);break;case"phone":c(j);break;case"hospital_name":v(j);break;default:t({[k]:j||void 0});break}},[t]),R=d.useMemo(()=>{const k=w=>w==null||typeof w=="string"&&w.trim()==="",j=Object.entries(s).filter(([w,_])=>["page","per_page","sort_by","sort_direction"].includes(w)?!1:!k(_)),F=!!(i!=null&&i.trim()||p!=null&&p.trim()||f!=null&&f.trim()||n!=null&&n.trim()||g!=null&&g.trim());return j.length>0||F},[s,i,p,f,n,g]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/80 rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Be,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",placeholder:"Search hospitals, locations, owners...",value:i,onChange:k=>y("global_search",k.target.value),className:"block w-full pl-12 pr-4 py-3 sm:text-sm border-0 rounded-xl bg-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:flex-shrink-0",children:[e.jsx(M,{variant:"outline",icon:o?Fe:we,iconPosition:"left",onClick:()=>l(!o),className:`px-4 py-3 rounded-xl border-2 transition-all duration-200 ${o?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50"} ${o?"[&_svg]:rotate-180":""}`,disabled:r,children:e.jsx("span",{className:"font-medium",children:"Advanced"})}),R&&e.jsx(M,{variant:"ghost",icon:$,iconPosition:"left",onClick:()=>{m(""),h(""),x(""),c(""),v(""),a()},className:"px-4 py-3 rounded-xl border-2 border-red-200 bg-red-50 text-red-700 hover:border-red-300 hover:bg-red-100 transition-all duration-200",disabled:r,title:"Clear all filters",children:e.jsx("span",{className:"font-medium",children:"Reset"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[e.jsx(G,{label:"Status",options:kt,value:s.status||"",onChange:k=>y("status",k),placeholder:"All Status",disabled:r,size:"sm"}),e.jsx(G,{label:"Sort By",options:Ct,value:s.sort_by||"name",onChange:k=>y("sort_by",k),placeholder:"Select sort field",disabled:r,size:"sm"}),e.jsx(G,{label:"Order",options:Et,value:s.sort_direction||"asc",onChange:k=>y("sort_direction",k),placeholder:"Select order",disabled:r,size:"sm"}),e.jsx(G,{label:"Per Page",options:Pt,value:String(s.per_page||15),onChange:k=>y("per_page",k),placeholder:"Items per page",disabled:r,size:"sm"})]})]})}),o&&e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced Filters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use these filters to narrow down your search with specific criteria."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"ðŸ‘¤"}),"Doctor Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. Dr. John Smith",value:p,onChange:k=>y("name",k.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-purple-500 mr-2",children:"ï¿½"}),"Email"]}),e.jsx("input",{type:"email",placeholder:"e.g. doctor@hospital.com",value:f,onChange:k=>y("email",k.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-orange-500 mr-2",children:"ï¿½"}),"Phone"]}),e.jsx("input",{type:"tel",placeholder:"e.g. +1 (555) 123-4567",value:n,onChange:k=>y("phone",k.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"ðŸ¥"}),"Hospital Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. City General Hospital",value:g,onChange:k=>y("hospital_name",k.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-cyan-500 mr-2",children:"ðŸ“…"}),"Created From"]}),e.jsx("input",{type:"date",value:s.created_from||"",onChange:k=>y("created_from",k.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-pink-500 mr-2",children:"ðŸ“…"}),"Created To"]}),e.jsx("input",{type:"date",value:s.created_to||"",onChange:k=>y("created_to",k.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]})]})]}),R&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 space-y-3",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-700 flex items-center",children:[e.jsx(we,{className:"h-4 w-4 mr-1"}),"Active Filters:"]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.global_search||i)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Search: ",s.global_search||i,e.jsx("button",{onClick:()=>{m(""),t({global_search:void 0})},className:"ml-1 hover:text-blue-600",disabled:r,children:e.jsx($,{size:12})})]}),s.status&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",s.status,e.jsx("button",{onClick:()=>y("status",""),className:"ml-1 hover:text-green-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.name||p)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Name: ",s.name||p,e.jsx("button",{onClick:()=>{h(""),t({name:void 0})},className:"ml-1 hover:text-indigo-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.email||f)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:["Email: ",s.email||f,e.jsx("button",{onClick:()=>{x(""),t({email:void 0})},className:"ml-1 hover:text-pink-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.phone||n)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:["Phone: ",s.phone||n,e.jsx("button",{onClick:()=>{c(""),t({phone:void 0})},className:"ml-1 hover:text-teal-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.hospital_name||g)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Hospital: ",s.hospital_name||g,e.jsx("button",{onClick:()=>{v(""),t({hospital_name:void 0})},className:"ml-1 hover:text-purple-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_from&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["From: ",new Date(s.created_from).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_from:void 0}),className:"ml-1 hover:text-orange-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_to&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["To: ",new Date(s.created_to).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_to:void 0}),className:"ml-1 hover:text-red-600",disabled:r,children:e.jsx($,{size:12})})]})]})]})]})},Ot=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}],At=({value:s={},onChange:t,error:a})=>{const r=(l,i,m)=>{const p={...s};p[l]||(p[l]=["",""]),p[l][i]=m,!p[l][0]&&!p[l][1]&&delete p[l],t(p)},o=(l,i)=>{const m={...s};i?m[l]=["09:00","17:00"]:delete m[l],t(m)};return e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Working Hours"}),e.jsx("div",{className:"space-y-2",children:Ot.map(({key:l,label:i})=>{const m=s[l]&&s[l].length>=2,p=m?s[l][0]:"",h=m?s[l][1]:"";return e.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`${l}-enabled`,checked:m,onChange:f=>o(l,f.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:`${l}-enabled`,className:"ml-2 text-sm font-medium text-gray-700 w-20",children:i})]}),m&&e.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[e.jsx(z,{type:"time",value:p,onChange:f=>r(l,0,f.target.value),className:"flex-1",placeholder:"Start time"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx(z,{type:"time",value:h,onChange:f=>r(l,1,f.target.value),className:"flex-1",placeholder:"End time"})]}),!m&&e.jsx("div",{className:"flex-1 text-sm text-gray-400 italic",children:"Not working"})]},l)})}),a&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:a})]})},qt=ye({name:S().required("Doctor name is required").max(255,"Doctor name must not exceed 255 characters"),email:S().email("Please enter a valid email address").required("Email is required"),phone:S().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),hospital_id:S().required("Hospital is required"),password:S().min(8,"Password must be at least 8 characters").required("Password is required"),password_confirmation:S().oneOf([cs("password")],"Passwords do not match").required("Password confirmation is required"),specialization:S().required("Specialization is required").max(255,"Specialization must not exceed 255 characters"),license_number:S().required("License number is required").max(100,"License number must not exceed 100 characters"),experience_years:As().required("Experience years is required").min(0,"Experience years must be at least 0").max(99,"Experience years must not exceed 99").test("decimal-places","Experience years can have at most 1 decimal place",s=>{if(s==null)return!0;const t=s.toString().split(".")[1];return!t||t.length<=1}).typeError("Experience years must be a valid number"),qualification:S().required("Qualification is required").max(500,"Qualification must not exceed 500 characters"),bio:S().required("Bio is required").max(1e3,"Bio must not exceed 1000 characters"),consultation_fee:S().required("Consultation fee is required").matches(/^\d+(\.\d{1,2})?$/,"Consultation fee must be a valid amount"),is_active:qs().required("Status is required"),image_url:S().url("Please enter a valid URL").optional(),working_hours:ye().shape({monday:Y().of(S()).optional(),tuesday:Y().of(S()).optional(),wednesday:Y().of(S()).optional(),thursday:Y().of(S()).optional(),friday:Y().of(S()).optional(),saturday:Y().of(S()).optional(),sunday:Y().of(S()).optional()}).optional()}),Rt=ye({name:S().required("Doctor name is required").max(255,"Doctor name must not exceed 255 characters"),phone:S().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),hospital_id:S().required("Hospital is required"),password:S().optional().test("min-length","Password must be at least 8 characters",s=>!s||s===""?!0:s.length>=8),password_confirmation:S().optional().test("passwords-match","Passwords do not match",function(s){const t=this.parent.password;return!t||t===""?!0:s===t}),specialization:S().required("Specialization is required").max(255,"Specialization must not exceed 255 characters"),license_number:S().required("License number is required").max(100,"License number must not exceed 100 characters"),experience_years:As().required("Experience years is required").min(0,"Experience years must be at least 0").max(99,"Experience years must not exceed 99").test("decimal-places","Experience years can have at most 1 decimal place",s=>{if(s==null)return!0;const t=s.toString().split(".")[1];return!t||t.length<=1}).typeError("Experience years must be a valid number"),qualification:S().required("Qualification is required").max(500,"Qualification must not exceed 500 characters"),bio:S().required("Bio is required").max(1e3,"Bio must not exceed 1000 characters"),consultation_fee:S().required("Consultation fee is required").matches(/^\d+(\.\d{1,2})?$/,"Consultation fee must be a valid amount"),is_active:qs().required("Status is required"),image_url:S().url("Please enter a valid URL").optional(),working_hours:ye().shape({monday:Y().of(S()).optional(),tuesday:Y().of(S()).optional(),wednesday:Y().of(S()).optional(),thursday:Y().of(S()).optional(),friday:Y().of(S()).optional(),saturday:Y().of(S()).optional(),sunday:Y().of(S()).optional()}).optional()}),Tt=({isOpen:s,onClose:t,hospitals:a,doctor:r,isLoading:o=!1,onSubmit:l})=>{var v,C,P,U,q,D,y,R,k,j,F,w,_,b,u,O;const i=!!r,[m,p]=d.useState(!1),[h,f]=d.useState(!1),x=Pe({resolver:De(qt),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",email:"",phone:"",hospital_id:"",password:"",password_confirmation:"",specialization:"",license_number:"",experience_years:0,consultation_fee:"",is_active:!0,qualification:"",bio:"",image_url:"",working_hours:{monday:["09:00","17:00"],tuesday:["09:00","17:00"],wednesday:["09:00","17:00"],thursday:["09:00","17:00"],friday:["09:00","15:00"]}}}),n=Pe({resolver:De(Rt),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",phone:"",hospital_id:"",password:"",password_confirmation:"",specialization:"",license_number:"",experience_years:0,consultation_fee:"",is_active:!0,qualification:"",bio:"",image_url:"",working_hours:{}}}),c=i?n:x;d.useEffect(()=>{if(s)if(i&&r)c.reset({name:r.name,phone:r.phone||"",hospital_id:r.hospital.id.toString(),password:"",password_confirmation:"",specialization:r.specialization,license_number:r.license_number||"",experience_years:r.experience_years||0,consultation_fee:r.consultation_fee||"",is_active:r.is_active,qualification:r.qualification||"",bio:r.bio||"",image_url:r.profilePhotoUrl||"",working_hours:r.working_hours||{}});else{const H={name:"",email:"",phone:"",hospital_id:"",password:"",password_confirmation:"",specialization:"",license_number:"",experience_years:0,consultation_fee:"",is_active:!0,qualification:"",bio:"",image_url:"",working_hours:{monday:["09:00","17:00"],tuesday:["09:00","17:00"],wednesday:["09:00","17:00"],thursday:["09:00","17:00"],friday:["09:00","15:00"]}};c.reset(H)}},[s,i,r,c]);const g=async H=>{await l(H)};return e.jsx(Le,{isOpen:s,onClose:t,title:i?"Edit Doctor":"Create Doctor",maxWidth:"2xl",children:e.jsxs("form",{onSubmit:c.handleSubmit(g),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(z,{label:"Name *",placeholder:"Enter doctor name",error:(v=c.formState.errors.name)==null?void 0:v.message,...c.register("name")}),e.jsx(z,{label:"Specialization *",placeholder:"Enter specialization",error:(C=c.formState.errors.specialization)==null?void 0:C.message,...c.register("specialization")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i?e.jsx(z,{label:"Email *",type:"email",value:r==null?void 0:r.email,disabled:!0,className:"bg-gray-100"}):e.jsx(z,{label:"Email *",type:"email",placeholder:"Enter email address",error:(P=c.formState.errors.email)==null?void 0:P.message,...c.register("email")}),e.jsx(z,{label:"Phone *",placeholder:"Enter phone number",error:(U=c.formState.errors.phone)==null?void 0:U.message,...c.register("phone")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(z,{label:"Qualification *",placeholder:"Enter qualifications",error:(q=c.formState.errors.qualification)==null?void 0:q.message,...c.register("qualification")}),e.jsx(z,{label:"License Number *",placeholder:"Enter license number",error:(D=c.formState.errors.license_number)==null?void 0:D.message,...c.register("license_number")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(z,{label:"Years of Experience *",type:"number",placeholder:"Enter years of experience",error:(y=c.formState.errors.experience_years)==null?void 0:y.message,...c.register("experience_years",{setValueAs:H=>{const E=parseFloat(H);return isNaN(E)?0:E}}),style:{appearance:"textfield",MozAppearance:"textfield",WebkitAppearance:"textfield"},onWheel:H=>{H.currentTarget.blur()},step:"0.1",min:"0",max:"99.9"}),e.jsx(z,{label:"Consultation Fee *",placeholder:"Enter consultation fee",error:(R=c.formState.errors.consultation_fee)==null?void 0:R.message,...c.register("consultation_fee")})]}),e.jsx(ds,{label:"Bio *",placeholder:"Enter bio",error:(k=c.formState.errors.bio)==null?void 0:k.message,...c.register("bio")}),e.jsx(Ae,{label:"Hospital *",placeholder:"Select hospital",options:a.map(H=>({value:H.id.toString(),label:H.name})),value:c.watch("hospital_id")||"",onChange:H=>c.setValue("hospital_id",H),error:(j=c.formState.errors.hospital_id)==null?void 0:j.message}),e.jsx(At,{value:c.watch("working_hours"),onChange:H=>c.setValue("working_hours",H),error:(F=c.formState.errors.working_hours)==null?void 0:F.message}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(z,{label:i?"Password (leave empty to keep current)":"Password *",type:m?"text":"password",placeholder:i?"Enter new password (optional)":"Enter password",error:(w=c.formState.errors.password)==null?void 0:w.message,...c.register("password")}),e.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-3 bottom-0 top-[26px] flex items-center justify-center text-gray-400 hover:text-gray-600",children:m?e.jsx(je,{size:20}):e.jsx(ae,{size:20})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{label:i?"Confirm Password":"Confirm Password *",type:h?"text":"password",placeholder:i?"Confirm new password":"Confirm password",error:(_=c.formState.errors.password_confirmation)==null?void 0:_.message,...c.register("password_confirmation")}),e.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 bottom-0 top-[26px] flex items-center justify-center text-gray-400 hover:text-gray-600",children:h?e.jsx(je,{size:20}):e.jsx(ae,{size:20})})]})]}),e.jsx(z,{label:"Image URL",placeholder:"Enter image URL (optional)",error:(b=c.formState.errors.image_url)==null?void 0:b.message,...c.register("image_url")}),e.jsx(G,{label:"Status *",value:((u=c.watch("is_active"))==null?void 0:u.toString())||"",onChange:H=>c.setValue("is_active",H==="true"),error:(O=c.formState.errors.is_active)==null?void 0:O.message,options:[{value:"true",label:"Active"},{value:"false",label:"Inactive"}]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[e.jsx(M,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),e.jsx(M,{type:"submit",disabled:c.formState.isSubmitting||o,children:c.formState.isSubmitting||o?i?"Updating...":"Creating...":i?"Update Doctor":"Create Doctor"})]})]})})},zt=s=>{switch(s==null?void 0:s.toLowerCase()){case"active":return"bg-green-100 text-green-700";case"inactive":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},Ht=s=>{const t=a=>{const r=["bg-red-100 text-red-700","bg-blue-100 text-blue-700","bg-green-100 text-green-700","bg-purple-100 text-purple-700","bg-pink-100 text-pink-700","bg-indigo-100 text-indigo-700","bg-orange-100 text-orange-700","bg-teal-100 text-teal-700","bg-cyan-100 text-cyan-700","bg-yellow-100 text-yellow-700"];let o=0;for(let i=0;i<a.length;i++)o=(o<<5)-o+a.charCodeAt(i)&4294967295;const l=Math.abs(o)%r.length;return r[l]};return!s||s.trim()===""?"bg-gray-100 text-gray-700":t(s.toLowerCase())},Cs=s=>!s||s.trim()===""?"N/A":s,It=s=>!s||s.trim()===""?"N/A":s,Mt=s=>{if(!s||Object.keys(s).length===0)return"N/A";const a=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(i=>s[i]&&s[i].length>=2);if(a.length===0)return"N/A";const r=i=>{if(!i)return"";const[m,p]=i.split(":"),h=parseInt(m),f=h>=12?"PM":"AM";return`${h===0?12:h>12?h-12:h}:${p} ${f}`},o=[];let l=null;return a.forEach(i=>{const m=s[i];if(m&&m.length>=2){const p=`${r(m[0])} - ${r(m[1])}`;l&&l.hours===p?l.days.push(i):(l&&o.push(l),l={days:[i],hours:p})}}),l&&o.push(l),o.map(i=>{const m=i.days.map(h=>h.charAt(0).toUpperCase()+h.slice(1,3));return`${m.length===1?m[0]:m.length===2?m.join(", "):`${m[0]} - ${m[m.length-1]}`}: ${i.hours}`}).join(`
`)},$t=({setActiveFilter:s})=>{const t=os(),[a,r]=d.useState(ks),[o,l]=d.useState(null),[i,m]=d.useState(!1),[p,h]=d.useState(!1),[f,x]=d.useState(null),{data:n,isLoading:c,error:g}=bt(a),{data:v}=We({},{enabled:p}),{deleteDoctor:C,createDoctor:P,updateDoctor:U,isLoading:q}=St(),D=d.useCallback(E=>{r(A=>({...A,...E,page:E.page!==void 0?E.page:1}))},[]),y=d.useCallback(()=>{r(ks)},[]),R=d.useCallback(E=>{r(A=>({...A,page:E}))},[]),k=E=>{s("patients"),t(`/doctors/${E}`)},j=E=>{l(E),m(!0)},F=async()=>{o&&(await C(o.id),m(!1),l(null))},w=()=>{q||(m(!1),l(null))},_=()=>{x(null),h(!0)},b=E=>{x(E),h(!0)},u=()=>{h(!1),x(null)},O=async E=>{try{f?await U(f.id,E):await P(E),h(!1),x(null)}catch(A){console.error("Doctor operation failed:",A)}},H=()=>c?e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[...Array(5)].map((E,A)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-4/5"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/5"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-44"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"}),e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"}),e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]})})]},A))}):g?e.jsx("tbody",{className:"bg-white",children:e.jsx("tr",{children:e.jsxs("td",{colSpan:10,className:"px-6 py-4 text-center text-red-600",children:["Error loading doctors: ",g.message]})})}):!(n!=null&&n.data)||n.data.length===0?e.jsx("tbody",{className:"bg-white",children:e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-6 py-4 text-center text-gray-500",children:"No doctors found"})})}):e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.data.map((E,A)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[E.profilePhotoUrl?e.jsx("img",{src:E.profilePhotoUrl,alt:E.name,className:"w-full h-full object-cover",onError:te=>{var ie;const ne=te.target;ne.style.display="none",(ie=ne.nextElementSibling)==null||ie.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center ${E.profilePhotoUrl?"hidden":""}`,children:e.jsx(Ve,{className:"text-blue-600",size:16})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:E.name}),E.experience_years&&e.jsx("div",{className:"flex items-center mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[E.experience_years," years exp."]})})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-[250px]",children:e.jsx("p",{className:"leading-relaxed",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:"1.4em",maxHeight:"4.2em"},children:E.bio||"No bio available"})})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-[200px] truncate",children:E.email})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-[150px] truncate",children:E.phone||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${Ht(Cs(E.specialization))}`,children:Cs(E.specialization)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-[120px] truncate",children:E.hospital.name})})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:["$",E.consultation_fee||"0.00"]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${zt(E.is_active?"active":"inactive")}`,children:E.is_active?"active":"inactive"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-[150px] truncate",children:It(E.qualification)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:Mt(E.working_hours)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(M,{variant:"ghost",size:"sm",icon:ae,onClick:()=>k(E.id),className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50"}),e.jsx(M,{variant:"ghost",size:"sm",icon:ms,onClick:()=>b(E),className:"text-green-600 hover:text-green-800 hover:bg-green-50"}),e.jsx(M,{variant:"ghost",size:"sm",icon:us,onClick:()=>j(E),className:"text-red-600 hover:text-red-800 hover:bg-red-50"})]})})]},E.id||A))});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Doctors"}),(n==null?void 0:n.meta)&&e.jsx("div",{className:"hidden sm:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(et,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:n.meta.total})]})})]}),e.jsx(M,{icon:Oe,iconPosition:"left",onClick:_,disabled:c,children:"Add Doctor"})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsx(Dt,{filters:a,onFiltersChange:D,onResetFilters:y,isLoading:c})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Doctor"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Bio"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Email"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Specialty"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Hospital"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Fee"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Qualification"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[300px]",children:"Working Hours"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),H()]})}),(n==null?void 0:n.meta)&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:e.jsx(hs,{pagination:{current_page:n.meta.current_page,last_page:n.meta.last_page,per_page:n.meta.per_page,total:n.meta.total,from:n.meta.from,to:n.meta.to,has_more_pages:n.meta.current_page<n.meta.last_page},onPageChange:R,isLoading:c})}),e.jsx(gs,{isOpen:i,onClose:w,onConfirm:F,title:"Delete Doctor",itemName:o==null?void 0:o.name,isLoading:q,description:"This will permanently delete the doctor and their associated data."}),e.jsx(Tt,{isOpen:p,onClose:u,onSubmit:O,hospitals:(v==null?void 0:v.data)||[],doctor:f||void 0})]})},Ut=[{value:"",label:"All Status",icon:"ðŸ”˜"},{value:"active",label:"Active",icon:"âœ…"},{value:"inactive",label:"Inactive",icon:"âŒ"}],Ft=[{value:"name",label:"Name",icon:"ðŸ‘¤"},{value:"email",label:"Email",icon:"ðŸ“§"},{value:"phone",label:"Phone",icon:"ðŸ“ž"},{value:"age",label:"Age",icon:"ðŸŽ‚"},{value:"hospital_name",label:"Hospital",icon:"ðŸ¥"},{value:"doctor_name",label:"Doctor",icon:"ðŸ©º"},{value:"created_at",label:"Created Date",icon:"ðŸ“…"}],Vt=[{value:"asc",label:"Ascending (A-Z)",icon:"â¬†ï¸"},{value:"desc",label:"Descending (Z-A)",icon:"â¬‡ï¸"}],Qt=[{value:"5",label:"5 items",icon:"ðŸ“„"},{value:"10",label:"10 items",icon:"ðŸ“„"},{value:"15",label:"15 items",icon:"ðŸ“„"},{value:"25",label:"25 items",icon:"ðŸ“„"},{value:"50",label:"50 items",icon:"ðŸ“„"}],Es={sort_by:"created_at",sort_direction:"desc",per_page:15,page:1},xe=(s,t)=>{const[a,r]=d.useState(s);return d.useEffect(()=>{const o=setTimeout(()=>{r(s)},t);return()=>{clearTimeout(o)}},[s,t]),a},Bt=({filters:s,onFiltersChange:t,onReset:a,isLoading:r=!1})=>{const[o,l]=d.useState(!1),[i,m]=d.useState(s.global_search||""),[p,h]=d.useState(s.name||""),[f,x]=d.useState(s.email||""),[n,c]=d.useState(s.phone||""),[g,v]=d.useState(s.hospital_name||""),[C,P]=d.useState(s.doctor_name||""),U=xe(i,500),q=xe(p,500),D=xe(f,500),y=xe(n,500),R=xe(g,500),k=xe(C,500);d.useEffect(()=>{t({global_search:U||void 0})},[U,t]),d.useEffect(()=>{t({name:q||void 0})},[q,t]),d.useEffect(()=>{t({email:D||void 0})},[D,t]),d.useEffect(()=>{t({phone:y||void 0})},[y,t]),d.useEffect(()=>{t({hospital_name:R||void 0})},[R,t]),d.useEffect(()=>{t({doctor_name:k||void 0})},[k,t]),d.useEffect(()=>{m(s.global_search||""),h(s.name||""),x(s.email||""),c(s.phone||""),v(s.hospital_name||""),P(s.doctor_name||"")},[s.global_search,s.name,s.email,s.phone,s.hospital_name,s.doctor_name]);const j=d.useCallback((_,b)=>{switch(_){case"global_search":m(b);break;case"name":h(b);break;case"email":x(b);break;case"phone":c(b);break;case"hospital_name":v(b);break;case"doctor_name":P(b);break;default:let u=b;_==="per_page"?u=parseInt(b)||15:_==="age"?u=b?parseInt(b):void 0:b===""&&(u=void 0),t({...s,[_]:u,page:1});break}},[s,t]),F=d.useMemo(()=>{const _=O=>O==null||typeof O=="string"&&O.trim()==="",b=Object.entries(s).filter(([O,H])=>["page","per_page","sort_by","sort_direction"].includes(O)?!1:!_(H)),u=!!(i!=null&&i.trim()||p!=null&&p.trim()||f!=null&&f.trim()||n!=null&&n.trim()||g!=null&&g.trim()||C!=null&&C.trim());return b.length>0||u},[s,i,p,f,n,g,C]),w=d.useCallback(()=>{m(""),h(""),x(""),c(""),v(""),P(""),a()},[a]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/80 rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Be,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",placeholder:"Search patients, hospitals, doctors...",value:i,onChange:_=>j("global_search",_.target.value),className:"block w-full pl-12 pr-4 py-3 sm:text-sm border-0 rounded-xl bg-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:flex-shrink-0",children:[e.jsx(M,{variant:"outline",icon:o?Fe:we,iconPosition:"left",onClick:()=>l(!o),className:`px-4 py-3 rounded-xl border-2 transition-all duration-200 ${o?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50"} ${o?"[&_svg]:rotate-180":""}`,disabled:r,children:e.jsx("span",{className:"font-medium",children:"Advanced"})}),F&&e.jsx(M,{variant:"ghost",icon:$,iconPosition:"left",onClick:w,className:"px-4 py-3 rounded-xl border-2 border-red-200 bg-red-50 text-red-700 hover:border-red-300 hover:bg-red-100 transition-all duration-200",disabled:r,title:"Clear all filters",children:e.jsx("span",{className:"font-medium",children:"Reset"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[e.jsx(G,{label:"Status",options:[...Ut],value:s.status||"",onChange:_=>j("status",_),placeholder:"All Status",disabled:r,size:"sm"}),e.jsx(G,{label:"Sort By",options:[...Ft],value:s.sort_by||"created_at",onChange:_=>j("sort_by",_),placeholder:"Select sort field",disabled:r,size:"sm"}),e.jsx(G,{label:"Order",options:Vt,value:s.sort_direction||"desc",onChange:_=>j("sort_direction",_),placeholder:"Select order",disabled:r,size:"sm"}),e.jsx(G,{label:"Per Page",options:Qt,value:String(s.per_page||15),onChange:_=>j("per_page",_),placeholder:"Items per page",disabled:r,size:"sm"})]})]})}),o&&e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced Filters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use these filters to narrow down your search with specific patient criteria."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"ðŸ‘¤"}),"Patient Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. John Doe",value:p,onChange:_=>{h(_.target.value),j("name",_.target.value)},className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-purple-500 mr-2",children:"ï¿½"}),"Email"]}),e.jsx("input",{type:"email",placeholder:"e.g. patient@email.com",value:f,onChange:_=>{x(_.target.value),j("email",_.target.value)},className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-orange-500 mr-2",children:"ï¿½"}),"Phone"]}),e.jsx("input",{type:"tel",placeholder:"e.g. +1 (555) 123-4567",value:n,onChange:_=>{c(_.target.value),j("phone",_.target.value)},className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"ðŸŽ‚"}),"Age"]}),e.jsx("input",{type:"number",placeholder:"e.g. 25",min:"0",max:"150",value:s.age||"",onChange:_=>j("age",_.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"ðŸ¥"}),"Hospital Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. City General Hospital",value:g,onChange:_=>{v(_.target.value),j("hospital_name",_.target.value)},className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-teal-500 mr-2",children:"ðŸ©º"}),"Doctor Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. Dr. Smith",value:C,onChange:_=>{P(_.target.value),j("doctor_name",_.target.value)},className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-cyan-500 mr-2",children:"ðŸ“…"}),"Created From"]}),e.jsx("input",{type:"date",value:s.created_from||"",onChange:_=>j("created_from",_.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-pink-500 mr-2",children:"ðŸ“…"}),"Created To"]}),e.jsx("input",{type:"date",value:s.created_to||"",onChange:_=>j("created_to",_.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]})]})]}),F&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 space-y-3",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-700 flex items-center",children:[e.jsx(we,{className:"h-4 w-4 mr-1"}),"Active Filters:"]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.global_search||i)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Search: ",s.global_search||i,e.jsx("button",{onClick:()=>{m(""),j("global_search","")},className:"ml-1 hover:text-blue-600",disabled:r,children:e.jsx($,{size:12})})]}),s.status&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",s.status,e.jsx("button",{onClick:()=>j("status",""),className:"ml-1 hover:text-green-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.name||p)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Name: ",s.name||p,e.jsx("button",{onClick:()=>{h(""),j("name","")},className:"ml-1 hover:text-purple-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.email||f)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Email: ",s.email||f,e.jsx("button",{onClick:()=>{x(""),j("email","")},className:"ml-1 hover:text-indigo-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.phone||n)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:["Phone: ",s.phone||n,e.jsx("button",{onClick:()=>{c(""),j("phone","")},className:"ml-1 hover:text-pink-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.hospital_name||g)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["Hospital: ",s.hospital_name||g,e.jsx("button",{onClick:()=>{v(""),j("hospital_name","")},className:"ml-1 hover:text-red-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.doctor_name||C)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:["Doctor: ",s.doctor_name||C,e.jsx("button",{onClick:()=>{P(""),j("doctor_name","")},className:"ml-1 hover:text-teal-600",disabled:r,children:e.jsx($,{size:12})})]}),s.age&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Age: ",s.age,e.jsx("button",{onClick:()=>j("age",""),className:"ml-1 hover:text-green-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_from&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["From: ",new Date(s.created_from).toLocaleDateString(),e.jsx("button",{onClick:()=>j("created_from",""),className:"ml-1 hover:text-orange-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_to&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["To: ",new Date(s.created_to).toLocaleDateString(),e.jsx("button",{onClick:()=>j("created_to",""),className:"ml-1 hover:text-yellow-600",disabled:r,children:e.jsx($,{size:12})})]})]})]})]})},Lt=async s=>{const t={};return s&&(s.global_search&&(t.global_search=s.global_search),s.status&&(t.status=s.status),s.name&&(t.name=s.name),s.email&&(t.email=s.email),s.phone&&(t.phone=s.phone),s.created_from&&(t.created_from=s.created_from),s.created_to&&(t.created_to=s.created_to),s.hospital_name&&(t.hospital_name=s.hospital_name),s.doctor_name&&(t.doctor_name=s.doctor_name),s.age&&(t.age=s.age),s.sort_by&&(t.sort_by=s.sort_by),s.sort_direction&&(t.sort_direction=s.sort_direction),s.per_page&&(t.per_page=s.per_page),s.page&&(t.page=s.page)),t.device_name="web",(await X.get("/patients/search/advanced",{params:t})).data},Wt=(s,t)=>xs({queryKey:["patients","all",s],queryFn:()=>Lt(s),enabled:(t==null?void 0:t.enabled)!==!1,staleTime:5*60*1e3,retry:(a,r)=>r&&"status"in r&&typeof r.status=="number"?r.status>=500&&a<3:a<3}),Gt=async s=>{const t={...s,device_name:"web"};return(await X.post("/patients",t)).data.patient},Kt=()=>{const s=se();return re({mutationFn:Gt,onSuccess:()=>{s.invalidateQueries({queryKey:["patients","all"]}),L.success("Patient created successfully!")},onError:t=>{const a=t.message||"Failed to create patient. Please try again.";L.error(a)}})},Zt=async({id:s,data:t})=>{const a={...t,device_name:"web"};return(await X.put(`/patients/${s}`,a)).data.patient},Yt=()=>{const s=se();return re({mutationFn:Zt,onSuccess:()=>{s.invalidateQueries({queryKey:["patients","all"]}),s.invalidateQueries({queryKey:["patients"]}),L.success("Patient updated successfully!")},onError:t=>{const a=t.message||"Failed to update patient. Please try again.";L.error(a)}})},Jt=async s=>(await X.delete(`/patients/${s}`,{data:{device_name:"web"}})).data,Xt=()=>{const s=se();return re({mutationFn:Jt,onSuccess:()=>{s.invalidateQueries({queryKey:["patients","all"]}),s.invalidateQueries({queryKey:["patients"]}),L.success("Patient deleted successfully!")},onError:t=>{const a=t.message||"Failed to delete patient. Please try again.";L.error(a)}})},ea=async s=>(await X.post("/hospitals",s)).data,Is=()=>{const s=se();return re({mutationFn:ea,onSuccess:t=>{s.invalidateQueries({queryKey:["hospitals"]}),L.success(t.message||"Hospital created successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){L.error(a[0]);return}}L.error(t.message||"Failed to create hospital")}})},sa=async({id:s,data:t})=>(await X.patch(`/hospitals/${s}`,t)).data,ta=()=>{const s=se();return re({mutationFn:sa,onSuccess:(t,a)=>{s.invalidateQueries({queryKey:["hospitals"]}),s.setQueryData(["hospitals","show",a.id],t),L.success(t.message||"Hospital updated successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){L.error(a[0]);return}}L.error(t.message||"Failed to update hospital")}})},aa=async s=>(await X.delete(`/hospitals/${s}`)).data,ra=()=>{const s=se();return re({mutationFn:aa,onSuccess:t=>{s.invalidateQueries({queryKey:["hospitals"]}),L.success(t.message||"Hospital deleted successfully!")},onError:t=>{L.error(t.message||"Failed to delete hospital")}})},na=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}],ia=({isOpen:s,onClose:t,patient:a,mode:r})=>{var P,U,q,D,y,R,k,j,F,w,_,b,u,O,H,E;const o=r==="edit",[l,i]=d.useState(!1),[m,p]=d.useState(!1),h=Kt(),f=Yt(),{data:x}=We({},{enabled:s}),n=Pe({resolver:De(r==="create"?Ls:Ws),mode:"onSubmit",reValidateMode:"onChange"});d.useEffect(()=>{var A,te,ne,ie,ve,Ne,_e;s&&(o&&a?n.reset({name:a.user.name||"",email:a.user.email||"",phone:a.user.phone||"",date_of_birth:a.date_of_birth||"",gender:a.gender||"",blood_type:a.blood_type||"",hospital_id:((te=(A=a.hospital)==null?void 0:A.id)==null?void 0:te.toString())||"",doctor_id:((ie=(ne=a.doctor)==null?void 0:ne.id)==null?void 0:ie.toString())||"",address:"",emergency_contact_name:((ve=a.emergency_contact)==null?void 0:ve.name)||"",emergency_contact_phone:((Ne=a.emergency_contact)==null?void 0:Ne.phone)||"",emergency_contact_relationship:((_e=a.emergency_contact)==null?void 0:_e.relationship)||"",password:"",password_confirmation:""}):n.reset({name:"",email:"",phone:"",date_of_birth:"",gender:"",blood_type:"",hospital_id:"",doctor_id:"",password:"",password_confirmation:"",address:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:""}))},[s,o,a,n]);const c=async A=>{try{r==="create"?await h.mutateAsync(A):r==="edit"&&a&&await f.mutateAsync({id:a.id,data:A}),t()}catch(te){console.error("Form submission error:",te)}},g=h.isPending||f.isPending,v=((P=x==null?void 0:x.data)==null?void 0:P.map(A=>({value:A.id.toString(),label:A.name})))||[],C=[];return e.jsx(Le,{isOpen:s,onClose:t,title:o?"Edit Patient":"Create Patient",maxWidth:"2xl",children:e.jsxs("form",{onSubmit:n.handleSubmit(c),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(z,{label:"Patient Name *",placeholder:"Enter patient name",error:(U=n.formState.errors.name)==null?void 0:U.message,...n.register("name")}),o?e.jsx(z,{label:"Email *",type:"email",value:(q=a==null?void 0:a.user)==null?void 0:q.email,disabled:!0,className:"bg-gray-100"}):e.jsx(z,{label:"Email *",type:"email",placeholder:"Enter email address",error:(D=n.formState.errors.email)==null?void 0:D.message,...n.register("email")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(z,{label:"Phone *",placeholder:"Enter phone number",error:(y=n.formState.errors.phone)==null?void 0:y.message,...n.register("phone")}),e.jsx(z,{label:"Date of Birth",type:"date",error:(R=n.formState.errors.date_of_birth)==null?void 0:R.message,...n.register("date_of_birth")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(G,{label:"Gender",value:n.watch("gender")||"",onChange:A=>n.setValue("gender",A),placeholder:"Select gender",options:na,error:(k=n.formState.errors.gender)==null?void 0:k.message}),e.jsx(z,{label:"Blood Type",placeholder:"Enter blood type (e.g. O+)",error:(j=n.formState.errors.blood_type)==null?void 0:j.message,...n.register("blood_type")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Ae,{label:"Hospital",placeholder:"Select hospital",options:v,value:n.watch("hospital_id")||"",onChange:A=>n.setValue("hospital_id",A),error:(F=n.formState.errors.hospital_id)==null?void 0:F.message}),e.jsx(Ae,{label:"Doctor",placeholder:"Select doctor",options:C,value:n.watch("doctor_id")||"",onChange:A=>n.setValue("doctor_id",A),error:(w=n.formState.errors.doctor_id)==null?void 0:w.message})]}),e.jsx(ds,{label:"Address",placeholder:"Enter patient address",rows:3,error:(_=n.formState.errors.address)==null?void 0:_.message,...n.register("address")}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Emergency Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(z,{label:"Emergency Contact Name",placeholder:"Enter emergency contact name",error:(b=n.formState.errors.emergency_contact_name)==null?void 0:b.message,...n.register("emergency_contact_name")}),e.jsx(z,{label:"Emergency Contact Phone",type:"tel",placeholder:"Enter emergency contact phone",error:(u=n.formState.errors.emergency_contact_phone)==null?void 0:u.message,...n.register("emergency_contact_phone")})]}),e.jsx(z,{label:"Emergency Contact Relationship",placeholder:"Enter relationship (e.g. Wife, Brother)",error:(O=n.formState.errors.emergency_contact_relationship)==null?void 0:O.message,...n.register("emergency_contact_relationship")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(z,{label:o?"Password (leave empty to keep current)":"Password *",type:l?"text":"password",placeholder:o?"Enter new password (optional)":"Enter password",error:(H=n.formState.errors.password)==null?void 0:H.message,...n.register("password")}),e.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 bottom-0 top-[26px] flex items-center justify-center text-gray-400 hover:text-gray-600",children:l?e.jsx(je,{size:20}):e.jsx(ae,{size:20})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{label:o?"Confirm Password":"Confirm Password *",type:m?"text":"password",placeholder:o?"Confirm new password":"Confirm password",error:(E=n.formState.errors.password_confirmation)==null?void 0:E.message,...n.register("password_confirmation")}),e.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-3 bottom-0 top-[26px] flex items-center justify-center text-gray-400 hover:text-gray-600",children:m?e.jsx(je,{size:20}):e.jsx(ae,{size:20})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[e.jsx(M,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),e.jsx(M,{type:"submit",disabled:n.formState.isSubmitting||g,children:n.formState.isSubmitting||g?o?"Updating...":"Creating...":o?"Update Patient":"Create Patient"})]})]})})},la=(s,t)=>Wt(s,t),oa=({setActiveFilter:s})=>{const t=os(),[a,r]=d.useState(!1),[o,l]=d.useState(null),[i,m]=d.useState(!1),[p,h]=d.useState(null),[f,x]=d.useState(Es),{data:n,isLoading:c}=la(f),g=Xt(),v=b=>{s("patients"),t(`/patients/${b}`)},C=b=>{l(b),r(!0)},P=b=>{h(b),m(!0)},U=async()=>{p&&(await g.mutateAsync(p.id),m(!1),h(null))},q=()=>{g.isPending||(m(!1),h(null))},D=()=>{l(null),r(!0)},y=()=>{r(!1),l(null)},R=d.useCallback(b=>{x(u=>({...u,...b,page:b.page!==void 0?b.page:1}))},[]),k=()=>{x(Es)},j=b=>{x(u=>({...u,page:b}))},F=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),w=b=>b||"N/A",_=b=>e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b?"Active":"Inactive"});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patients"}),(n==null?void 0:n.meta)&&e.jsx("div",{className:"hidden sm:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(Ve,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:n.meta.total})]})})]}),e.jsx(M,{icon:Oe,iconPosition:"left",onClick:D,disabled:c,children:"Add Patient"})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsx(Bt,{filters:f,onFiltersChange:R,onReset:k})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Patient"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Email"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"Phone"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Gender"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[80px]",children:"Age"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Blood Group"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"BMI"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Hospital"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Doctor"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Created On"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c?Array.from({length:f.per_page||15},(b,u)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full mr-3 flex-shrink-0"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-36"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-5 w-16 bg-gray-200 rounded-full"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"}),e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"}),e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]})})]},`skeleton-${u}`)):(n==null?void 0:n.data.length)===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-6 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ve,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No patients"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new patient."}),e.jsx("div",{className:"mt-6",children:e.jsx(M,{onClick:D,icon:Oe,children:"Add Patient"})})]})})}):n==null?void 0:n.data.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 font-medium text-sm",children:b.user.name.charAt(0).toUpperCase()})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.user.name})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 break-words",children:b.user.email})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w(b.user.phone)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:b.gender||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:b.age?`${b.age}`:"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:b.blood_type||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:b.bmi?b.bmi.toFixed(1):"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:b.hospital?e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:b.hospital.name}),b.hospital.location&&e.jsx("div",{className:"text-xs text-gray-500 truncate max-w-32",children:b.hospital.location})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"No hospital assigned"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:b.doctor?e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:b.doctor.user.name}),e.jsx("div",{className:"text-xs text-gray-500",children:b.doctor.specialization||"No specialization"})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"No doctor assigned"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:_(b.is_active)}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F(b.created_at)}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(M,{variant:"ghost",size:"sm",icon:ae,onClick:()=>v(b.id),className:"text-gray-400 hover:text-blue-600 p-1 h-8 w-8 flex items-center justify-center",title:"View patient details"}),e.jsx(M,{variant:"ghost",size:"sm",icon:ms,onClick:()=>C(b),className:"text-gray-400 hover:text-green-600 p-1 h-8 w-8 flex items-center justify-center",title:"Edit patient"}),e.jsx(M,{variant:"ghost",size:"sm",icon:us,onClick:()=>P(b),className:"text-gray-400 hover:text-red-600 p-1 h-8 w-8 flex items-center justify-center",title:"Delete patient"})]})})]},b.id))})]})}),(n==null?void 0:n.meta)&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:e.jsx(hs,{pagination:{current_page:n.meta.current_page,last_page:n.meta.last_page,per_page:n.meta.per_page,total:n.meta.total,from:n.meta.from,to:n.meta.to,has_more_pages:n.meta.current_page<n.meta.last_page},onPageChange:j,isLoading:c})}),e.jsx(ia,{isOpen:a,onClose:y,patient:o,mode:o?"edit":"create"}),e.jsx(gs,{isOpen:i,onClose:q,onConfirm:U,title:"Delete Patient",message:p?`Are you sure you want to delete ${p.user.name}? This action cannot be undone.`:"",isLoading:g.isPending})]})},ke=(s,t)=>{const[a,r]=d.useState(s);return d.useEffect(()=>{const o=setTimeout(()=>{r(s)},t);return()=>{clearTimeout(o)}},[s,t]),a},ca=({filters:s,onFiltersChange:t,onResetFilters:a,isLoading:r=!1})=>{const[o,l]=d.useState(!1),[i,m]=d.useState(s.search||""),[p,h]=d.useState(s.name||""),[f,x]=d.useState(s.location||""),[n,c]=d.useState(s.owner_email||""),[g,v]=d.useState(s.owner_phone||""),C=ke(i,500),P=ke(p,500),U=ke(f,500),q=ke(n,500),D=ke(g,500);d.useEffect(()=>{t({search:C||void 0})},[C,t]),d.useEffect(()=>{t({name:P||void 0})},[P,t]),d.useEffect(()=>{t({location:U||void 0})},[U,t]),d.useEffect(()=>{t({owner_email:q||void 0})},[q,t]),d.useEffect(()=>{t({owner_phone:D||void 0})},[D,t]),d.useEffect(()=>{m(s.search||""),h(s.name||""),x(s.location||""),c(s.owner_email||""),v(s.owner_phone||"")},[s.search,s.name,s.location,s.owner_email,s.owner_phone]);const y=d.useCallback((u,O)=>{if(u==="has_children")t(O==="true"?{[u]:!0}:O==="false"?{[u]:!1}:{[u]:void 0});else switch(u){case"search":m(O);break;case"name":h(O);break;case"location":x(O);break;case"owner_email":c(O);break;case"owner_phone":v(O);break;default:t({[u]:O===""?void 0:O})}},[t]),R=[{value:"",label:"All Status",icon:"ðŸ”˜"},{value:"active",label:"Active",icon:"ðŸŸ¢"},{value:"inactive",label:"Inactive",icon:"ðŸ”´"}],k=[{value:"name",label:"Name",icon:"ðŸ“"},{value:"location",label:"Location",icon:"ðŸ“"},{value:"created_at",label:"Created Date",icon:"ðŸ“…"},{value:"owner_name",label:"Owner Name",icon:"ðŸ‘¤"},{value:"owner_email",label:"Owner Email",icon:"ðŸ“§"}],j=[{value:"asc",label:"A-Z",icon:"â¬†ï¸"},{value:"desc",label:"Z-A",icon:"â¬‡ï¸"}],F=[{value:"10",label:"10 items",icon:"ðŸ“„"},{value:"15",label:"15 items",icon:"ðŸ“„"},{value:"25",label:"25 items",icon:"ðŸ“„"},{value:"50",label:"50 items",icon:"ðŸ“„"},{value:"100",label:"100 items",icon:"ðŸ“„"}],w=[{value:"",label:"Any",icon:"ðŸ”˜"},{value:"true",label:"Yes",icon:"âœ…"},{value:"false",label:"No",icon:"âŒ"}],_=[{value:"",label:"Any Type",icon:"ðŸ”˜"},{value:"null",label:"Main Hospitals Only",icon:"ðŸ›ï¸"}],b=d.useMemo(()=>{const u=(E,A)=>A==null||typeof A=="string"&&A.trim()===""?!0:E==="parent_hospital_id"&&(A===""||A==="null")?A==="":!1,O=Object.entries(s).filter(([E,A])=>["page","per_page","sort_by","sort_direction"].includes(E)?!1:!u(E,A)),H=!!(i!=null&&i.trim()||p!=null&&p.trim()||f!=null&&f.trim()||n!=null&&n.trim()||g!=null&&g.trim());return O.length>0||H},[s,i,p,f,n,g]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/80 rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Be,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",placeholder:"Search hospitals, locations, owners...",value:i,onChange:u=>y("search",u.target.value),className:"block w-full pl-12 pr-4 py-3 sm:text-sm border-0 rounded-xl bg-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:flex-shrink-0",children:[e.jsx(M,{variant:"outline",icon:o?Fe:we,iconPosition:"left",onClick:()=>l(!o),className:`px-4 py-3 rounded-xl border-2 transition-all duration-200 ${o?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50"} ${o?"[&_svg]:rotate-180":""}`,disabled:r,children:e.jsx("span",{className:"font-medium",children:"Advanced"})}),b&&e.jsx(M,{variant:"ghost",icon:$,iconPosition:"left",onClick:()=>{m(""),h(""),x(""),c(""),v(""),a()},className:"px-4 py-3 rounded-xl border-2 border-red-200 bg-red-50 text-red-700 hover:border-red-300 hover:bg-red-100 transition-all duration-200",disabled:r,title:"Clear all filters",children:e.jsx("span",{className:"font-medium",children:"Reset"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[e.jsx(G,{label:"Status",options:R,value:s.status||"",onChange:u=>y("status",u),placeholder:"All Status",disabled:r,size:"sm"}),e.jsx(G,{label:"Sort By",options:k,value:s.sort_by||"name",onChange:u=>y("sort_by",u),placeholder:"Select sort field",disabled:r,size:"sm"}),e.jsx(G,{label:"Order",options:j,value:s.sort_direction||"asc",onChange:u=>y("sort_direction",u),placeholder:"Select order",disabled:r,size:"sm"}),e.jsx(G,{label:"Per Page",options:F,value:String(s.per_page||15),onChange:u=>y("per_page",u),placeholder:"Items per page",disabled:r,size:"sm"})]})]})}),o&&e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced Filters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use these filters to narrow down your search with specific criteria."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"ðŸ¥"}),"Hospital Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. City General Hospital",value:p,onChange:u=>y("name",u.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"ðŸ“"}),"Location"]}),e.jsx("input",{type:"text",placeholder:"e.g. New York, Los Angeles",value:f,onChange:u=>y("location",u.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-purple-500 mr-2",children:"ðŸ“§"}),"Owner Email"]}),e.jsx("input",{type:"email",placeholder:"e.g. admin@hospital.com",value:n,onChange:u=>y("owner_email",u.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-orange-500 mr-2",children:"ðŸ“ž"}),"Owner Phone"]}),e.jsx("input",{type:"tel",placeholder:"e.g. +1 (555) 123-4567",value:g,onChange:u=>y("owner_phone",u.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-cyan-500 mr-2",children:"ðŸ“…"}),"Created From"]}),e.jsx("input",{type:"date",value:s.created_from||"",onChange:u=>y("created_from",u.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-pink-500 mr-2",children:"ðŸ“…"}),"Created To"]}),e.jsx("input",{type:"date",value:s.created_to||"",onChange:u=>y("created_to",u.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsx(G,{label:"ðŸ¢ Has Branches",options:w,value:s.has_children===!0?"true":s.has_children===!1?"false":"",onChange:u=>y("has_children",u),placeholder:"Any",disabled:r,size:"sm"}),e.jsx(G,{label:"ðŸ›ï¸ Hospital Type",options:_,value:String(s.parent_hospital_id||""),onChange:u=>y("parent_hospital_id",u),placeholder:"Any Type",disabled:r,size:"sm"})]})]}),b&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 space-y-3",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-700 flex items-center",children:[e.jsx(we,{className:"h-4 w-4 mr-1"}),"Active Filters:"]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.search||i)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Search: ",s.search||i,e.jsx("button",{onClick:()=>{m(""),t({search:void 0})},className:"ml-1 hover:text-blue-600",disabled:r,children:e.jsx($,{size:12})})]}),s.status&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",s.status,e.jsx("button",{onClick:()=>y("status",""),className:"ml-1 hover:text-green-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.location||f)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Location: ",s.location||f,e.jsx("button",{onClick:()=>{x(""),t({location:void 0})},className:"ml-1 hover:text-purple-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.name||p)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Name: ",s.name||p,e.jsx("button",{onClick:()=>{h(""),t({name:void 0})},className:"ml-1 hover:text-indigo-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.owner_email||n)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:["Owner Email: ",s.owner_email||n,e.jsx("button",{onClick:()=>{c(""),t({owner_email:void 0})},className:"ml-1 hover:text-pink-600",disabled:r,children:e.jsx($,{size:12})})]}),(s.owner_phone||g)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:["Owner Phone: ",s.owner_phone||g,e.jsx("button",{onClick:()=>{v(""),t({owner_phone:void 0})},className:"ml-1 hover:text-teal-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_from&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["From: ",new Date(s.created_from).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_from:void 0}),className:"ml-1 hover:text-orange-600",disabled:r,children:e.jsx($,{size:12})})]}),s.created_to&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["To: ",new Date(s.created_to).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_to:void 0}),className:"ml-1 hover:text-red-600",disabled:r,children:e.jsx($,{size:12})})]}),s.has_children!==void 0&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["Has Children: ",s.has_children?"Yes":"No",e.jsx("button",{onClick:()=>t({has_children:void 0}),className:"ml-1 hover:text-gray-600",disabled:r,children:e.jsx($,{size:12})})]}),s.parent_hospital_id&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Parent:"," ",s.parent_hospital_id==="null"?"Main Only":`ID ${s.parent_hospital_id}`,e.jsx("button",{onClick:()=>t({parent_hospital_id:void 0}),className:"ml-1 hover:text-yellow-600",disabled:r,children:e.jsx($,{size:12})})]})]})]})]})},da=ye({owner_image_url:S().url("Please enter a valid URL").nullable().notRequired(),name:S().required("Hospital name is required").max(255,"Hospital name must not exceed 255 characters"),email:S().email("Please enter a valid email address").required("Email is required"),owner_name:S().required("Owner name is required"),phone:S().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),hospital_phone:S().required("Hospital phone number is required").max(20,"Hospital phone number must not exceed 20 characters"),password:S().min(8,"Password must be at least 8 characters").required("Password is required"),password_confirmation:S().oneOf([cs("password")],"Passwords do not match").required("Password confirmation is required"),location:S().required("Location is required").max(255,"Location must not exceed 255 characters"),description:S().max(1e3,"Description must not exceed 1000 characters").optional(),image_url:S().url("Please enter a valid URL").max(500,"Image URL must not exceed 500 characters").optional(),parent_hospital_id:S().optional(),status:S().oneOf(["active","inactive"],"Status must be either active or inactive").required("Status is required")}),ma=ye({owner_image_url:S().url("Please enter a valid URL").nullable().notRequired(),name:S().required("Hospital name is required").max(255,"Hospital name must not exceed 255 characters"),email:S().email("Please enter a valid email address").optional(),owner_name:S().required("Owner name is required"),phone:S().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),hospital_phone:S().required("Hospital phone number is required").max(20,"Hospital phone number must not exceed 20 characters"),password:S().nullable().transform(s=>s===""?null:s).test("min-length","Password must be at least 8 characters",s=>!s||s.length>=8).optional(),password_confirmation:S().nullable().transform(s=>s===""?null:s).when("password",{is:s=>s&&s.length>0,then:s=>s.oneOf([cs("password")],"Passwords do not match").required("Password confirmation is required"),otherwise:s=>s.optional()}),location:S().required("Location is required").max(255,"Location must not exceed 255 characters"),description:S().max(1e3,"Description must not exceed 1000 characters").optional(),image_url:S().url("Please enter a valid URL").max(500,"Image URL must not exceed 500 characters").optional(),parent_hospital_id:S().optional(),status:S().oneOf(["active","inactive"],"Status must be either active or inactive").required("Status is required")}),ua=({isOpen:s,onClose:t,hospital:a,onSuccess:r})=>{var b,u,O,H,E,A,te,ne,ie,ve,Ne,_e,bs,fs,ys;const o=!!a,[l,i]=d.useState(!1),[m,p]=d.useState(!1),h=Os(Bs),f=(h==null?void 0:h.role)==="hospital-admin",x=(h==null?void 0:h.role)==="admin",n=Pe({resolver:De(da),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",email:"",owner_name:"",owner_image_url:"",phone:"",hospital_phone:"",password:"",password_confirmation:"",location:"",description:"",image_url:"",parent_hospital_id:"",status:"active"}}),c=Pe({resolver:De(ma),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",email:"",phone:"",hospital_phone:"",password:"",password_confirmation:"",location:"",description:"",image_url:"",parent_hospital_id:"",status:"active"}}),g=o?c:n,v=Is(),C=ta(),{data:P,isLoading:U}=We(x&&s?{per_page:100,parent_hospital_id:"null"}:void 0,{enabled:x&&s}),q=f?h==null?void 0:h.hospital_id:null;d.useEffect(()=>{var I;if(s)if(o&&a)g.reset({name:a.name,email:a.owner.email||"",owner_name:a.owner.name||"",owner_image_url:a.owner_image_url||"",phone:a.owner.phone||"",hospital_phone:a.hospital_phone||"",password:"",password_confirmation:"",description:a.description||"",location:a.location,image_url:a.image_url||"",parent_hospital_id:((I=a.parent_hospital_id)==null?void 0:I.toString())||"",status:a.owner.status});else{const Q={name:"",email:"",owner_name:"",owner_image_url:"",phone:"",hospital_phone:"",password:"",password_confirmation:"",description:"",location:"",image_url:"",parent_hospital_id:f&&q?q.toString():"",status:"active"};g.reset(Q)}},[s,o,a,g,f,q]);const D=async I=>{try{if(o&&a){const Q={name:I.name,description:I.description||void 0,location:I.location,image_url:I.image_url||void 0,phone:I.phone,hospital_phone:I.hospital_phone,parent_hospital_id:I.parent_hospital_id?parseInt(I.parent_hospital_id):null,is_active:I.status==="active"?1:0};I.password&&(Q.password=I.password,Q.password_confirmation=I.password_confirmation);const Ge=await C.mutateAsync({id:a.id,data:Q});r==null||r(Ge.data)}else{const Q=I,Ge={name:Q.name,email:Q.email,owner_name:Q.owner_name,owner_image_url:Q.owner_image_url,phone:Q.phone,hospital_phone:Q.hospital_phone,password:Q.password,password_confirmation:Q.password_confirmation,description:Q.description||void 0,location:Q.location,image_url:Q.image_url||void 0,parent_hospital_id:Q.parent_hospital_id?parseInt(Q.parent_hospital_id):void 0,is_active:Q.status==="active"?1:0},Ms=await v.mutateAsync(Ge);r==null||r(Ms.data)}t()}catch{}},y=()=>{v.isPending||C.isPending||t()},R=[{value:"",label:"No Parent Hospital (Main Hospital)"},...((u=(b=P==null?void 0:P.data)==null?void 0:b.filter(I=>!o||I.id!==(a==null?void 0:a.id)))==null?void 0:u.map(I=>({value:I.id.toString(),label:I.name})))||[]],k=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],j=v.isPending||C.isPending,F=I=>g.watch(I)||"",w=(I,Q)=>{g.setValue(I,Q)},_=I=>g.register(I);return e.jsx(Le,{isOpen:s,onClose:y,title:o?"Edit Hospital":"Add New Hospital",maxWidth:"2xl",closeOnOverlayClick:!j,children:e.jsxs("form",{onSubmit:g.handleSubmit(D),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(z,{..._("name"),label:"Hospital Name *",type:"text",placeholder:"Enter hospital name",error:(O=g.formState.errors.name)==null?void 0:O.message,disabled:j}),e.jsx(z,{..._("owner_name"),label:"Owner Name *",type:"text",placeholder:"Enter owner name",error:(H=g.formState.errors.owner_name)==null?void 0:H.message,disabled:j})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(z,{..._("hospital_phone"),label:"Hospital Phone *",type:"tel",placeholder:"Enter hospital phone number",error:(E=g.formState.errors.hospital_phone)==null?void 0:E.message,disabled:j}),e.jsx(z,{..._("phone"),label:"Owner Phone *",type:"tel",placeholder:"Enter owner phone number",error:(A=g.formState.errors.phone)==null?void 0:A.message,disabled:j})]}),e.jsx("div",{className:"mt-4",children:e.jsx(z,{..._("email"),label:"Email Address *",type:"email",placeholder:"Enter email address",error:(te=g.formState.errors.email)==null?void 0:te.message,disabled:j||o})}),e.jsx("div",{className:"mt-4",children:e.jsx(z,{..._("location"),label:"Location *",type:"text",placeholder:"Enter hospital location",error:(ne=g.formState.errors.location)==null?void 0:ne.message,disabled:j})}),e.jsx("div",{className:"mt-4",children:e.jsx(ds,{..._("description"),label:"Description",placeholder:"Enter hospital description (optional)",error:(ie=g.formState.errors.description)==null?void 0:ie.message,disabled:j,rows:3})}),x&&e.jsx("div",{className:"mt-4",children:e.jsx(Ae,{label:"Parent Hospital",options:R,value:F("parent_hospital_id"),onChange:I=>w("parent_hospital_id",I),placeholder:"Select parent hospital",searchPlaceholder:"Search hospitals...",disabled:j||U,error:(ve=g.formState.errors.parent_hospital_id)==null?void 0:ve.message})}),e.jsx("div",{className:"mt-4",children:e.jsx(z,{..._("image_url"),label:"Hospital Image URL",type:"url",placeholder:"Enter hospital image URL (optional)",error:(Ne=g.formState.errors.image_url)==null?void 0:Ne.message,disabled:j})}),e.jsx("div",{className:"mt-4",children:e.jsx(z,{..._("owner_image_url"),label:"Owner Image URL",type:"url",placeholder:"Enter owner image URL (optional)",error:(_e=g.formState.errors.owner_image_url)==null?void 0:_e.message,disabled:j})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx("div",{className:"relative",children:e.jsx(z,{..._("password"),label:o?"New Password":"Password *",type:l?"text":"password",placeholder:o?"Leave blank to keep current password":"Enter password",error:(bs=g.formState.errors.password)==null?void 0:bs.message,disabled:j,rightIcon:l?je:ae,onRightIconClick:()=>i(!l)})}),e.jsx("div",{className:"relative",children:e.jsx(z,{..._("password_confirmation"),label:o?"Confirm New Password":"Confirm Password *",type:m?"text":"password",placeholder:"Confirm password",error:(fs=g.formState.errors.password_confirmation)==null?void 0:fs.message,disabled:j,rightIcon:m?je:ae,onRightIconClick:()=>p(!m)})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.jsx(Ae,{label:"Status *",options:k,value:F("status")||"active",onChange:I=>w("status",I),disabled:j,error:(ys=g.formState.errors.status)==null?void 0:ys.message,allowClear:!1})}),o&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(Gs,{className:"w-4 h-4 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Password Update"}),e.jsx("p",{children:"Leave password fields empty to keep the current password unchanged."})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx(M,{type:"button",variant:"ghost",onClick:y,disabled:j,children:"Cancel"}),e.jsx(M,{type:"submit",disabled:j,children:e.jsxs("div",{className:"flex items-center",children:[j&&e.jsx(Ts,{className:"animate-spin w-4 h-4 mr-2"}),j?o?"Updating...":"Creating...":o?"Update Hospital":"Create Hospital"]})})]})]})})},pa=s=>({...s,owner:{...s.owner,status:s.is_active===1?"active":"inactive",phone:s.owner.phone||""}}),xa=s=>({current_page:s.current_page,per_page:s.per_page,total:s.total,last_page:s.last_page,from:s.from,to:s.to,has_more_pages:s.current_page<s.last_page}),ha=()=>{const[s,t]=d.useState({page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"}),{data:a,isLoading:r,error:o}=We(s,{enabled:!0}),l=d.useMemo(()=>a?{hospitals:a.data.map(pa),pagination:xa(a.meta),meta:a.meta,links:a.links}:null,[a]);d.useEffect(()=>{o&&L.error("Failed to fetch hospitals")},[o]);const i=d.useCallback(p=>{t(h=>({...h,...p}))},[]),m=d.useCallback(()=>{t({page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"})},[]);return{hospitals:(l==null?void 0:l.hospitals)||[],pagination:(l==null?void 0:l.pagination)||null,meta:(l==null?void 0:l.meta)||null,links:(l==null?void 0:l.links)||null,isLoading:r,error:o,filters:s,updateFilters:i,resetFilters:m}},ga=()=>{const s=ra(),t=Is(),a=d.useCallback(async o=>{try{return await t.mutateAsync(o),{success:!0}}catch(l){throw l}},[t]),r=d.useCallback(async o=>{try{return await s.mutateAsync(o),{success:!0}}catch(l){throw l}},[s]);return{createHospital:a,deleteHospital:r,isLoading:s.isPending||t.isPending}},ba=s=>{switch(s){case"active":return"text-green-700 bg-green-100";case"inactive":return"text-red-700 bg-red-100";default:return"text-gray-700 bg-gray-100"}},fa=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ya=({setActiveFilter:s})=>{const t=os(),[a,r]=d.useState(!1),[o,l]=d.useState(null),[i,m]=d.useState(!1),[p,h]=d.useState(null),{hospitals:f,pagination:x,isLoading:n,filters:c,updateFilters:g,resetFilters:v}=ha(),{deleteHospital:C,isLoading:P}=ga(),U=w=>{s("doctors"),t(`/hospitals/${w}`)},q=w=>{l(w),r(!0)},D=w=>{h(w),m(!0)},y=async()=>{p&&(await C(p.id),m(!1),h(null))},R=()=>{P||(m(!1),h(null))},k=()=>{l(null),r(!0)},j=()=>{r(!1),l(null)},F=w=>{};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Hospitals"}),x&&e.jsx("div",{className:"hidden sm:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(Ze,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:x.total})]})})]}),e.jsx(M,{icon:Oe,iconPosition:"left",onClick:k,disabled:n,children:"Add Hospital"})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsx(ca,{filters:c,onFiltersChange:g,onResetFilters:v,isLoading:n})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Hospital Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Description"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Email"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"Hospital Phone"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Owner Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"Owner Phone"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Location"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Created On"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?Array.from({length:c.per_page||15},(w,_)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded mr-3 flex-shrink-0"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-36"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"})]})})]},`skeleton-${_}`)):f.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[w.image_url?e.jsx("img",{src:w.image_url,alt:w.name,className:"w-full h-full object-cover",onError:_=>{var u;const b=_.target;b.style.display="none",(u=b.nextElementSibling)==null||u.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center ${w.image_url?"hidden":""}`,children:e.jsx(Ze,{className:"text-primary-600",size:16})})]}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",title:w.name,children:w.name})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-500",children:w.description||"No description available"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",title:w.owner.email,children:w.owner.email})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",title:w.hospital_phone||"N/A",children:w.hospital_phone||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[w.owner_image_url?e.jsx("img",{src:w.owner_image_url,alt:w.owner.name,className:"w-full h-full object-cover",onError:_=>{var u;const b=_.target;b.style.display="none",(u=b.nextElementSibling)==null||u.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center ${w.owner_image_url?"hidden":""}`,children:e.jsx(Ve,{className:"text-blue-600",size:16})})]}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.owner.name})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",title:w.owner.phone||"N/A",children:w.owner.phone||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-500 leading-tight",title:w.location,children:w.location})}),e.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:fa(w.created_at)}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(w.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ba(w.owner.status)}`,children:w.owner.status.charAt(0).toUpperCase()+w.owner.status.slice(1)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(M,{variant:"ghost",size:"sm",icon:ae,onClick:()=>U(w.id),className:"text-info-600 hover:text-info-800 hover:bg-info-50 p-2",title:"View Details",disabled:n}),e.jsx(M,{variant:"ghost",size:"sm",icon:ms,onClick:()=>q(w),className:"text-success-600 hover:text-success-800 hover:bg-success-50 p-2",title:"Edit Hospital",disabled:n}),e.jsx(M,{variant:"ghost",size:"sm",icon:us,onClick:()=>D(w),className:"text-danger-600 hover:text-danger-800 hover:bg-danger-50 p-2",title:"Delete Hospital",disabled:n||P})]})})]},w.id))})]}),!n&&f.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ze,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Hospitals Found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base mb-4",children:Object.keys(c).length>2?"No hospitals match your current filters. Try adjusting your search criteria.":"Start by adding your first hospital to the system."}),e.jsx(M,{onClick:k,icon:Oe,iconPosition:"left",children:"Add Hospital"})]})]}),x&&x.last_page>1&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:e.jsx(hs,{pagination:x,onPageChange:w=>g({page:w}),isLoading:n})}),e.jsx(ua,{isOpen:a,onClose:j,hospital:o,onSuccess:F}),e.jsx(gs,{isOpen:i,onClose:R,onConfirm:y,title:"Delete Hospital",itemName:p==null?void 0:p.name,itemType:"hospital",isLoading:P,description:"This will permanently delete the hospital and its associated user account.",warningText:"This action cannot be undone."})]})},ja=(s,t)=>{switch(s){case"doctors":return e.jsx($t,{setActiveFilter:t});case"patients":return e.jsx(oa,{setActiveFilter:t});default:return e.jsx(ya,{setActiveFilter:t})}},Aa=({activeFilter:s,setActiveFilter:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:ja(s,t)})});export{Aa as R,Da as S,Pa as U,Oa as W,et as a};

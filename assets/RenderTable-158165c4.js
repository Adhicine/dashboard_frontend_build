var Re=(s,t,a)=>{if(!t.has(s))throw TypeError("Cannot "+a)};var o=(s,t,a)=>(Re(s,t,"read from private field"),a?a.call(s):t.get(s)),H=(s,t,a)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,a)},D=(s,t,a,r)=>(Re(s,t,"write to private field"),r?r.call(s,a):t.set(s,a),a);var M=(s,t,a)=>(Re(s,t,"access private method"),a);import{c as Q,h as Rs,p as ls,i as K,k as ze,l as he,n as Me,m as Te,o as os,t as Ps,q as Ds,v as Os,w as cs,x as ys,r as x,y as As,z as Ce,j as e,d as ws,a as Be,X as F,C as We,V,f as zs}from"./index-4918b460.js";import{B as R}from"./Button-685e2ead.js";import{S as Se,P as _e,A as Ms}from"./search-c72cfd85.js";import{E as xe}from"./eye-1392149e.js";import{a as Ee,u as Ge,c as vs,d as S,e as js,b as ds,o as ms,I as Z,T as Ts}from"./index.esm-19afc874.js";import{E as hs}from"./eye-off-7c672afc.js";import{U as Is}from"./user-1f3a7e50.js";const $s=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ne=Q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ns=Q("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),qs=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ls=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Us=Q("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),Fs=Q("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),xs=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),_s=Q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ke=Q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Pe=Q("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Ze=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),De=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var U,N,ue,L,se,ne,Y,J,pe,le,oe,te,ae,X,ce,re,me,ge,Ie,fe,$e,be,qe,ye,Le,we,Ue,ve,Fe,je,Ve,ke,ks,bs,Vs=(bs=class extends Rs{constructor(t,a){super();H(this,re);H(this,ge);H(this,fe);H(this,be);H(this,ye);H(this,we);H(this,ve);H(this,je);H(this,ke);H(this,U,void 0);H(this,N,void 0);H(this,ue,void 0);H(this,L,void 0);H(this,se,void 0);H(this,ne,void 0);H(this,Y,void 0);H(this,J,void 0);H(this,pe,void 0);H(this,le,void 0);H(this,oe,void 0);H(this,te,void 0);H(this,ae,void 0);H(this,X,void 0);H(this,ce,new Set);this.options=a,D(this,U,t),D(this,J,null),D(this,Y,ls()),this.options.experimental_prefetchInRender||o(this,Y).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(o(this,N).addObserver(this),us(o(this,N),this.options)?M(this,re,me).call(this):this.updateResult(),M(this,ye,Le).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qe(o(this,N),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qe(o(this,N),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,M(this,we,Ue).call(this),M(this,ve,Fe).call(this),o(this,N).removeObserver(this)}setOptions(t){const a=this.options,r=o(this,N);if(this.options=o(this,U).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof K(this.options.enabled,o(this,N))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");M(this,je,Ve).call(this),o(this,N).setOptions(this.options),a._defaulted&&!ze(this.options,a)&&o(this,U).getQueryCache().notify({type:"observerOptionsUpdated",query:o(this,N),observer:this});const c=this.hasListeners();c&&ps(o(this,N),r,this.options,a)&&M(this,re,me).call(this),this.updateResult(),c&&(o(this,N)!==r||K(this.options.enabled,o(this,N))!==K(a.enabled,o(this,N))||he(this.options.staleTime,o(this,N))!==he(a.staleTime,o(this,N)))&&M(this,ge,Ie).call(this);const i=M(this,fe,$e).call(this);c&&(o(this,N)!==r||K(this.options.enabled,o(this,N))!==K(a.enabled,o(this,N))||i!==o(this,X))&&M(this,be,qe).call(this,i)}getOptimisticResult(t){const a=o(this,U).getQueryCache().build(o(this,U),t),r=this.createResult(a,t);return Bs(this,r)&&(D(this,L,r),D(this,ne,this.options),D(this,se,o(this,N).state)),r}getCurrentResult(){return o(this,L)}trackResult(t,a){return new Proxy(t,{get:(r,c)=>(this.trackProp(c),a==null||a(c),Reflect.get(r,c))})}trackProp(t){o(this,ce).add(t)}getCurrentQuery(){return o(this,N)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=o(this,U).defaultQueryOptions(t),r=o(this,U).getQueryCache().build(o(this,U),a);return r.fetch().then(()=>this.createResult(r,a))}fetch(t){return M(this,re,me).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),o(this,L)))}createResult(t,a){var W;const r=o(this,N),c=this.options,i=o(this,L),l=o(this,se),p=o(this,ne),y=t!==r?t.state:o(this,ue),{state:v}=t;let d={...v},w=!1,u;if(a._optimisticResults){const h=this.hasListeners(),C=!h&&us(t,a),z=h&&ps(t,r,a,c);(C||z)&&(d={...d,...Os(v.data,t.options)}),a._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:f,status:k}=d;u=d.data;let O=!1;if(a.placeholderData!==void 0&&u===void 0&&k==="pending"){let h;i!=null&&i.isPlaceholderData&&a.placeholderData===(p==null?void 0:p.placeholderData)?(h=i.data,O=!0):h=typeof a.placeholderData=="function"?a.placeholderData((W=o(this,oe))==null?void 0:W.state.data,o(this,oe)):a.placeholderData,h!==void 0&&(k="success",u=cs(i==null?void 0:i.data,h,a),w=!0)}if(a.select&&u!==void 0&&!O)if(i&&u===(l==null?void 0:l.data)&&a.select===o(this,pe))u=o(this,le);else try{D(this,pe,a.select),u=a.select(u),u=cs(i==null?void 0:i.data,u,a),D(this,le,u),D(this,J,null)}catch(h){D(this,J,h)}o(this,J)&&(m=o(this,J),u=o(this,le),f=Date.now(),k="error");const $=d.fetchStatus==="fetching",I=k==="pending",A=k==="error",b=I&&$,T=u!==void 0,j={status:k,fetchStatus:d.fetchStatus,isPending:I,isSuccess:k==="success",isError:A,isInitialLoading:b,isLoading:b,data:u,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:f,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>y.dataUpdateCount||d.errorUpdateCount>y.errorUpdateCount,isFetching:$,isRefetching:$&&!I,isLoadingError:A&&!T,isPaused:d.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:A&&T,isStale:Ye(t,a),refetch:this.refetch,promise:o(this,Y),isEnabled:K(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const h=n=>{j.status==="error"?n.reject(j.error):j.data!==void 0&&n.resolve(j.data)},C=()=>{const n=D(this,Y,j.promise=ls());h(n)},z=o(this,Y);switch(z.status){case"pending":t.queryHash===r.queryHash&&h(z);break;case"fulfilled":(j.status==="error"||j.data!==z.value)&&C();break;case"rejected":(j.status!=="error"||j.error!==z.reason)&&C();break}}return j}updateResult(){const t=o(this,L),a=this.createResult(o(this,N),this.options);if(D(this,se,o(this,N).state),D(this,ne,this.options),o(this,se).data!==void 0&&D(this,oe,o(this,N)),ze(a,t))return;D(this,L,a);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:c}=this.options,i=typeof c=="function"?c():c;if(i==="all"||!i&&!o(this,ce).size)return!0;const l=new Set(i??o(this,ce));return this.options.throwOnError&&l.add("error"),Object.keys(o(this,L)).some(p=>{const g=p;return o(this,L)[g]!==t[g]&&l.has(g)})};M(this,ke,ks).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&M(this,ye,Le).call(this)}},U=new WeakMap,N=new WeakMap,ue=new WeakMap,L=new WeakMap,se=new WeakMap,ne=new WeakMap,Y=new WeakMap,J=new WeakMap,pe=new WeakMap,le=new WeakMap,oe=new WeakMap,te=new WeakMap,ae=new WeakMap,X=new WeakMap,ce=new WeakMap,re=new WeakSet,me=function(t){M(this,je,Ve).call(this);let a=o(this,N).fetch(this.options,t);return t!=null&&t.throwOnError||(a=a.catch(Me)),a},ge=new WeakSet,Ie=function(){M(this,we,Ue).call(this);const t=he(this.options.staleTime,o(this,N));if(Te||o(this,L).isStale||!os(t))return;const r=Ps(o(this,L).dataUpdatedAt,t)+1;D(this,te,setTimeout(()=>{o(this,L).isStale||this.updateResult()},r))},fe=new WeakSet,$e=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(o(this,N)):this.options.refetchInterval)??!1},be=new WeakSet,qe=function(t){M(this,ve,Fe).call(this),D(this,X,t),!(Te||K(this.options.enabled,o(this,N))===!1||!os(o(this,X))||o(this,X)===0)&&D(this,ae,setInterval(()=>{(this.options.refetchIntervalInBackground||Ds.isFocused())&&M(this,re,me).call(this)},o(this,X)))},ye=new WeakSet,Le=function(){M(this,ge,Ie).call(this),M(this,be,qe).call(this,M(this,fe,$e).call(this))},we=new WeakSet,Ue=function(){o(this,te)&&(clearTimeout(o(this,te)),D(this,te,void 0))},ve=new WeakSet,Fe=function(){o(this,ae)&&(clearInterval(o(this,ae)),D(this,ae,void 0))},je=new WeakSet,Ve=function(){const t=o(this,U).getQueryCache().build(o(this,U),this.options);if(t===o(this,N))return;const a=o(this,N);D(this,N,t),D(this,ue,t.state),this.hasListeners()&&(a==null||a.removeObserver(this),t.addObserver(this))},ke=new WeakSet,ks=function(t){ys.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(o(this,L))}),o(this,U).getQueryCache().notify({query:o(this,N),type:"observerResultsUpdated"})})},bs);function Qs(s,t){return K(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function us(s,t){return Qs(s,t)||s.state.data!==void 0&&Qe(s,t,t.refetchOnMount)}function Qe(s,t,a){if(K(t.enabled,s)!==!1&&he(t.staleTime,s)!=="static"){const r=typeof a=="function"?a(s):a;return r==="always"||r!==!1&&Ye(s,t)}return!1}function ps(s,t,a,r){return(s!==t||K(r.enabled,s)===!1)&&(!a.suspense||s.state.status!=="error")&&Ye(s,a)}function Ye(s,t){return K(t.enabled,s)!==!1&&s.isStaleByTime(he(t.staleTime,s))}function Bs(s,t){return!ze(s.getCurrentResult(),t)}var Cs=x.createContext(!1),Ws=()=>x.useContext(Cs);Cs.Provider;function Gs(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Ks=x.createContext(Gs()),Zs=()=>x.useContext(Ks),Ys=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},Js=s=>{x.useEffect(()=>{s.clearReset()},[s])},Xs=({result:s,errorResetBoundary:t,throwOnError:a,query:r,suspense:c})=>s.isError&&!t.isReset()&&!s.isFetching&&r&&(c&&s.data===void 0||As(a,[s.error,r])),et=s=>{if(s.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),a=s.staleTime;s.staleTime=typeof a=="function"?(...r)=>t(a(...r)):t(a),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},st=(s,t)=>s.isLoading&&s.isFetching&&!t,tt=(s,t)=>(s==null?void 0:s.suspense)&&t.isPending,gs=(s,t,a)=>t.fetchOptimistic(s).catch(()=>{a.clearReset()});function at(s,t,a){var d,w,u,m,f;const r=Ws(),c=Zs(),i=Ce(a),l=i.defaultQueryOptions(s);(w=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||w.call(d,l),l._optimisticResults=r?"isRestoring":"optimistic",et(l),Ys(l,c),Js(c);const p=!i.getQueryCache().get(l.queryHash),[g]=x.useState(()=>new t(i,l)),y=g.getOptimisticResult(l),v=!r&&s.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(k=>{const O=v?g.subscribe(ys.batchCalls(k)):Me;return g.updateResult(),O},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),x.useEffect(()=>{g.setOptions(l)},[l,g]),tt(l,y))throw gs(l,g,c);if(Xs({result:y,errorResetBoundary:c,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw y.error;if((m=(u=i.getDefaultOptions().queries)==null?void 0:u._experimental_afterQuery)==null||m.call(u,l,y),l.experimental_prefetchInRender&&!Te&&st(y,r)){const k=p?gs(l,g,c):(f=i.getQueryCache().get(l.queryHash))==null?void 0:f.promise;k==null||k.catch(Me).finally(()=>{g.updateResult()})}return l.notifyOnChangeProps?y:g.trackResult(y)}function rt(s,t){return at(s,Vs,t)}const qt=({title:s,value:t,icon:a,iconBgColor:r="bg-gray-100",iconTextColor:c="text-gray-600",isActive:i=!1,onClick:l,className:p=""})=>e.jsx("button",{onClick:l,className:`bg-white rounded-lg p-4 sm:p-5 lg:p-6 shadow-sm border transition-all duration-200 text-left hover:shadow-md ${i?"border-primary-500 ring-2 ring-primary-100 bg-primary-50":"border-gray-200 hover:border-primary-300"} ${p}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:s}),e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mt-1 sm:mt-2",children:typeof t=="number"?t.toLocaleString():t})]}),e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 ${r} rounded-full flex items-center justify-center flex-shrink-0`,children:e.jsx(a,{className:c,size:18})})]})}),Lt=()=>{const s=ws(r=>r.auth.user.name),t=new Date().getHours(),a=()=>t>=5&&t<12?"Good morning":t>=12&&t<17?"Good afternoon":t>=17&&t<21?"Good evening":"Good night";return e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("h1",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900 mb-2",children:[a(),", ",s,". 👋"]}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:"Here is what's happening with your Dashboard today:"})]})},Oe=[{id:"1",name:"Dr. John Smith",email:"john.smith@medical.com",contact:"(907) 555-0102",specialty:"Cardiology",hospital:"Hill Point Hospital",experience:12,status:"active",avatar:"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"},{id:"2",name:"Dr. Sarah Wilson",email:"sarah.wilson@hillpoint.com",contact:"(907) 555-0103",specialty:"Neurology",hospital:"Hill Point Hospital",experience:8,status:"busy",avatar:"https://images.unsplash.com/photo-1594824797833-ced4a1afc3bf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"},{id:"3",name:"Dr. Michael Brown",email:"michael.brown@cure.com",contact:"(907) 555-0104",specialty:"Orthopedics",hospital:"Cure Hospital",experience:15,status:"active"}],it=s=>{switch(s){case"active":return"text-green-700 bg-green-100";case"on-leave":return"text-orange-700 bg-orange-100";case"busy":return"text-red-700 bg-red-100";default:return"text-green-700 bg-green-100"}},nt=s=>({Cardiology:"bg-red-100 text-red-700",Neurology:"bg-purple-100 text-purple-700",Orthopedics:"bg-blue-100 text-blue-700",Pediatrics:"bg-pink-100 text-pink-700","Emergency Medicine":"bg-orange-100 text-orange-700",Surgery:"bg-gray-100 text-gray-700"})[s]||"bg-gray-100 text-gray-700",lt=({setActiveFilter:s})=>{const t=Be(),a=r=>{s("patients"),t(`/doctors/${r}`)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Doctors"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative order-2 sm:order-1",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search doctors...",className:"pl-10 pr-4 py-2 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsx(R,{icon:_e,iconPosition:"left",className:"order-1 sm:order-2",children:"Add Doctor"}),e.jsx("div",{className:"hidden sm:flex items-center order-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(Pe,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:Oe.length})]})})]})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Doctor Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Specialty"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Hospital"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Oe.map((r,c)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[r.avatar?e.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover",onError:i=>{var p;const l=i.target;l.style.display="none",(p=l.nextElementSibling)==null||p.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-red-100 rounded-full flex items-center justify-center ${r.avatar?"hidden":""}`,children:e.jsx(Pe,{className:"text-red-600",size:16})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:r.name}),r.experience&&e.jsx("div",{className:"flex items-center mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[r.experience," years exp."]})})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("div",{className:"mb-1",children:e.jsx("span",{className:"truncate max-w-[120px]",children:r.contact})}),e.jsx("div",{children:e.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:r.email})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${nt(r.specialty)}`,children:r.specialty})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500 truncate max-w-[120px]",children:r.hospital})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${it(r.status)}`,children:r.status?r.status.charAt(0).toUpperCase()+r.status.slice(1).replace("-"," "):"Active"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(R,{variant:"ghost",size:"sm",icon:xe,onClick:()=>a(r.id),className:"text-info-600 hover:text-info-800 hover:bg-info-50 p-2",title:"View Doctor Profile"}),e.jsx(R,{variant:"ghost",size:"sm",icon:Ke,className:"text-success-600 hover:text-success-800 hover:bg-success-50 p-2",title:"Edit Doctor"}),e.jsx(R,{variant:"ghost",size:"sm",icon:Ze,className:"text-danger-600 hover:text-danger-800 hover:bg-danger-50 p-2",title:"Remove Doctor"})]})})]},r.id||c))})]}),Oe.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pe,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Doctors Found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Add doctors to your hospital network to get started."})]})]})]})},Ae=[{id:"1",name:"Alice Johnson",email:"alice.johnson@email.com",contact:"(907) 555-0201",condition:"Hypertension",doctor:"Dr. John Smith",age:45,admissionDate:"2024-01-15",status:"active",avatar:"https://images.unsplash.com/photo-1494790108755-2616b25bd3b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"},{id:"2",name:"Bob Davis",email:"bob.davis@email.com",contact:"(907) 555-0202",condition:"Diabetes",doctor:"Dr. Sarah Wilson",age:52,admissionDate:"2024-01-20",status:"critical",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"},{id:"3",name:"Carol Miller",email:"carol.miller@email.com",contact:"(907) 555-0203",condition:"Arthritis",doctor:"Dr. Michael Brown",age:38,admissionDate:"2024-01-10",status:"discharged"}],ot=s=>{switch(s){case"active":return"text-blue-700 bg-blue-100";case"discharged":return"text-green-700 bg-green-100";case"critical":return"text-red-700 bg-red-100";default:return"text-blue-700 bg-blue-100"}},ct=s=>({Hypertension:"bg-red-100 text-red-700",Diabetes:"bg-orange-100 text-orange-700",Arthritis:"bg-yellow-100 text-yellow-700","Heart Disease":"bg-red-100 text-red-700",Cancer:"bg-purple-100 text-purple-700",Asthma:"bg-blue-100 text-blue-700"})[s]||"bg-gray-100 text-gray-700",dt=({setActiveFilter:s})=>{const t=Be(),a=r=>{t(`/patients/${r}`)};return console.log("setActiveFilter: ",s),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patients"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative order-2 sm:order-1",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search patients...",className:"pl-10 pr-4 py-2 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsx(R,{icon:_e,iconPosition:"left",className:"order-1 sm:order-2",children:"Add Patient"}),e.jsx("div",{className:"hidden sm:flex items-center order-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(De,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:Ae.length})]})})]})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Patient Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Condition"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Assigned Doctor"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ae.map((r,c)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[r.avatar?e.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover",onError:i=>{var p;const l=i.target;l.style.display="none",(p=l.nextElementSibling)==null||p.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center ${r.avatar?"hidden":""}`,children:e.jsx(De,{className:"text-yellow-600",size:16})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:r.name}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[r.age&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Age: ",r.age]}),r.admissionDate&&e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:r.admissionDate})})]})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("div",{className:"mb-1",children:e.jsx("span",{className:"truncate max-w-[120px]",children:r.contact})}),e.jsx("div",{children:e.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:r.email})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ct(r.condition)}`,children:r.condition})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-500 truncate max-w-[120px]",children:r.doctor})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ot(r.status)}`,children:r.status?r.status.charAt(0).toUpperCase()+r.status.slice(1):"Active"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(R,{variant:"ghost",size:"sm",icon:xe,onClick:()=>a(r.id),className:"text-info-600 hover:text-info-800 hover:bg-info-50 p-2",title:"View Patient Record"}),e.jsx(R,{variant:"ghost",size:"sm",icon:Ke,className:"text-success-600 hover:text-success-800 hover:bg-success-50 p-2",title:"Edit Patient"}),e.jsx(R,{variant:"ghost",size:"sm",icon:Ze,className:"text-danger-600 hover:text-danger-800 hover:bg-danger-50 p-2",title:"Remove Patient"})]})})]},r.id||c))})]}),Ae.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(De,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Patients Found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Patient records will appear here once they are registered."})]})]})]})},mt=({pagination:s,onPageChange:t,isLoading:a=!1,showInfo:r=!0,className:c=""})=>{const{current_page:i,last_page:l,total:p,from:g,to:y,has_more_pages:v}=s,w=(()=>{const u=[];if(l<=7)for(let f=1;f<=l;f++)u.push(f);else if(i<=4){for(let f=1;f<=5;f++)u.push(f);l>6&&(u.push("..."),u.push(l))}else if(i>=l-3){u.push(1),l>6&&u.push("...");for(let f=l-4;f<=l;f++)u.push(f)}else{u.push(1),u.push("...");for(let f=i-1;f<=i+1;f++)u.push(f);u.push("..."),u.push(l)}return u})();return l<=1?null:e.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 ${c}`,children:[r&&e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(g||0).toLocaleString()})," to"," ",e.jsx("span",{className:"font-medium",children:(y||0).toLocaleString()})," of"," ",e.jsx("span",{className:"font-medium",children:p.toLocaleString()})," results"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(R,{variant:"outline",size:"sm",onClick:()=>t(1),disabled:i===1||a,icon:Us,className:"px-2",title:"First page"}),e.jsx(R,{variant:"outline",size:"sm",onClick:()=>t(i-1),disabled:i===1||a,icon:qs,className:"px-2",title:"Previous page"}),e.jsx("div",{className:"flex items-center space-x-1",children:w.map((u,m)=>{if(u==="...")return e.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},`ellipsis-${m}`);const f=u===i;return e.jsx(R,{variant:f?"primary":"outline",size:"sm",onClick:()=>t(u),disabled:f||a,className:`min-w-[40px] ${f?"bg-primary-600 text-white border-primary-600":"hover:bg-gray-50"}`,children:u},u)})}),e.jsx(R,{variant:"outline",size:"sm",onClick:()=>t(i+1),disabled:!v||a,icon:Ls,className:"px-2",title:"Next page"}),e.jsx(R,{variant:"outline",size:"sm",onClick:()=>t(l),disabled:i===l||a,icon:Fs,className:"px-2",title:"Last page"})]}),e.jsxs("div",{className:"sm:hidden text-sm text-gray-500",children:["Page ",i," of ",l]})]})},Ss=({isOpen:s,onClose:t,title:a,children:r,maxWidth:c="lg",closeOnOverlayClick:i=!0,showCloseButton:l=!0,preventBodyScroll:p=!0})=>{if(x.useEffect(()=>{if(p)return s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}},[s,p]),x.useEffect(()=>{const v=d=>{d.key==="Escape"&&s&&t()};if(s)return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s,t]),!s)return null;const g=v=>{v.target===v.currentTarget&&i&&t()},y={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl"};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",onClick:g,children:e.jsxs("div",{className:`
          bg-white rounded-lg shadow-xl transform transition-all w-full ${y[c]} 
          animate-in fade-in duration-200 zoom-in-95
        `,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:v=>v.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[e.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900 flex-1 pr-4",children:a}),l&&e.jsx(R,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 -mr-2","aria-label":"Close modal",children:e.jsx(F,{size:20})})]}),e.jsx("div",{className:"p-4 sm:p-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:r})]})})},ie=({options:s,value:t,onChange:a,placeholder:r="Select an option",disabled:c=!1,className:i="",label:l,error:p,size:g="md"})=>{const[y,v]=x.useState(!1),[d,w]=x.useState(-1),u=x.useRef(null),m=x.useRef(null),f=s.find(b=>b.value===t),k={sm:"px-3 py-2.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-4 py-3 text-base"},O={sm:16,md:18,lg:20};x.useEffect(()=>{const b=T=>{u.current&&!u.current.contains(T.target)&&(v(!1),w(-1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),x.useEffect(()=>{const b=T=>{if(y)switch(T.key){case"ArrowDown":T.preventDefault(),w(q=>q<s.length-1?q+1:0);break;case"ArrowUp":T.preventDefault(),w(q=>q>0?q-1:s.length-1);break;case"Enter":T.preventDefault(),d>=0&&!s[d].disabled&&(a(s[d].value),v(!1),w(-1));break;case"Escape":v(!1),w(-1);break}};if(y)return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[y,d,s,a]),x.useEffect(()=>{if(d>=0&&m.current){const b=m.current.children[d];b&&b.scrollIntoView({block:"nearest"})}},[d]);const $=()=>{c||(v(!y),w(-1))},I=b=>{b.disabled||(a(b.value),v(!1),w(-1))},A=`
    relative w-full bg-white border rounded-lg shadow-sm transition-all duration-200 cursor-pointer
    focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500
    ${c?"opacity-50 cursor-not-allowed bg-gray-50":"hover:border-gray-400"}
    ${p?"border-red-300 focus-within:ring-red-500 focus-within:border-red-500":"border-gray-300"}
    ${y?"ring-2 ring-blue-500 border-blue-500":""}
  `.trim();return e.jsxs("div",{className:`${i}`,children:[l&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l}),e.jsxs("div",{ref:u,className:"relative",children:[e.jsx("div",{className:`${A} ${k[g]}`,onClick:$,role:"combobox","aria-expanded":y,"aria-haspopup":"listbox",tabIndex:c?-1:0,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[(f==null?void 0:f.icon)&&e.jsx("span",{className:"mr-2",children:f.icon}),e.jsx("span",{className:`truncate ${f?"text-gray-900":"text-gray-500"}`,children:f?f.label:r})]}),e.jsx(We,{size:O[g],className:`ml-2 flex-shrink-0 text-gray-400 transition-transform duration-200 ${y?"transform rotate-180":""}`})]})}),y&&e.jsx("div",{ref:m,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",role:"listbox",children:s.map((b,T)=>e.jsxs("div",{className:`
                  flex items-center px-4 py-2.5 cursor-pointer transition-colors duration-150
                  ${b.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}
                  ${d===T?"bg-blue-50 text-blue-700":""}
                  ${b.value===t?"bg-blue-600 text-white hover:bg-blue-700":""}
                `.trim(),onClick:()=>I(b),role:"option","aria-selected":b.value===t,children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[b.icon&&e.jsx("span",{className:"mr-3 text-lg",children:b.icon}),e.jsx("span",{className:"truncate",children:b.label})]}),b.value===t&&e.jsx(Ns,{size:16,className:"ml-2 flex-shrink-0"})]},b.value))})]}),p&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p})]})},fs=({options:s,value:t,onChange:a,placeholder:r="Select an option",searchPlaceholder:c="Search options...",disabled:i=!1,className:l="",label:p,error:g,size:y="md",allowClear:v=!0})=>{const[d,w]=x.useState(!1),[u,m]=x.useState(""),[f,k]=x.useState(-1),O=x.useRef(null),$=x.useRef(null),I=x.useRef(null),A=s.find(n=>n.value===t),b=s.filter(n=>n.label.toLowerCase().includes(u.toLowerCase())),T={sm:"px-3 py-2.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-4 py-3 text-base"},q={sm:16,md:18,lg:20};x.useEffect(()=>{const n=P=>{O.current&&!O.current.contains(P.target)&&(w(!1),k(-1),m(""))};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]),x.useEffect(()=>{d&&I.current&&setTimeout(()=>{var n;(n=I.current)==null||n.focus()},50)},[d]),x.useEffect(()=>{const n=P=>{if(d)switch(P.key){case"ArrowDown":P.preventDefault(),k(G=>G<b.length-1?G+1:0);break;case"ArrowUp":P.preventDefault(),k(G=>G>0?G-1:b.length-1);break;case"Enter":P.preventDefault(),f>=0&&!b[f].disabled&&(a(b[f].value),w(!1),k(-1),m(""));break;case"Escape":w(!1),k(-1),m("");break}};if(d)return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[d,f,b,a]),x.useEffect(()=>{if(f>=0&&$.current){const n=$.current.children[f+1];n&&n.scrollIntoView({block:"nearest"})}},[f]);const j=()=>{i||(w(!d),k(-1),d||m(""))},W=n=>{n.disabled||(a(n.value),w(!1),k(-1),m(""))},h=n=>{n.stopPropagation(),a("")},C=n=>{m(n.target.value),k(-1)},z=`
    relative w-full bg-white border rounded-lg shadow-sm transition-all duration-200 cursor-pointer
    focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500
    ${i?"opacity-50 cursor-not-allowed bg-gray-50":"hover:border-gray-400"}
    ${g?"border-red-300 focus-within:ring-red-500 focus-within:border-red-500":"border-gray-300"}
    ${d?"ring-2 ring-blue-500 border-blue-500":""}
  `.trim();return e.jsxs("div",{className:`${l}`,children:[p&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:p}),e.jsxs("div",{ref:O,className:"relative",children:[e.jsx("div",{className:`${z} ${T[y]}`,onClick:j,role:"combobox","aria-expanded":d,"aria-haspopup":"listbox",tabIndex:i?-1:0,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[(A==null?void 0:A.icon)&&e.jsx("span",{className:"mr-2",children:A.icon}),e.jsx("span",{className:`truncate ${A?"text-gray-900":"text-gray-500"}`,children:A?A.label:r})]}),e.jsxs("div",{className:"flex items-center ml-2 space-x-1",children:[v&&A&&!i&&e.jsx("button",{type:"button",onClick:h,className:"text-gray-400 hover:text-gray-600 p-0.5",children:e.jsx(F,{size:14})}),e.jsx(We,{size:q[y],className:`flex-shrink-0 text-gray-400 transition-transform duration-200 ${d?"transform rotate-180":""}`})]})]})}),d&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",role:"listbox",children:[e.jsx("div",{className:"p-2 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(Se,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{ref:I,type:"text",value:u,onChange:C,placeholder:c,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsx("div",{ref:$,className:"max-h-48 overflow-auto",children:b.length===0?e.jsx("div",{className:"px-4 py-2.5 text-sm text-gray-500",children:"No options found"}):b.map((n,P)=>e.jsxs("div",{className:`
                      flex items-center px-4 py-2.5 cursor-pointer transition-colors duration-150
                      ${n.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}
                      ${f===P?"bg-blue-50 text-blue-700":""}
                      ${n.value===t?"bg-blue-600 text-white hover:bg-blue-700":""}
                    `.trim(),onClick:()=>W(n),role:"option","aria-selected":n.value===t,children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[n.icon&&e.jsx("span",{className:"mr-3 text-lg",children:n.icon}),e.jsx("span",{className:"truncate",children:n.label})]}),n.value===t&&e.jsx(Ns,{size:16,className:"ml-2 flex-shrink-0"})]},n.value))})]})]}),g&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})},ht=({isOpen:s,onClose:t,onConfirm:a,title:r,message:c,itemName:i,itemType:l="item",isLoading:p=!1,confirmButtonText:g="Delete",cancelButtonText:y="Cancel",description:v,warningText:d})=>{const w=()=>{p||t()},u=r||`Delete ${l}`,m=c||`Are you sure you want to delete ${i?`"${i}"`:`this ${l}`}?`,f=d||"This action cannot be undone.";return e.jsx(Ss,{isOpen:s,onClose:w,title:u,maxWidth:"md",closeOnOverlayClick:!p,showCloseButton:!p,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx($s,{className:"w-6 h-6 text-red-600"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("p",{className:"font-medium mb-2",children:m}),v&&e.jsx("p",{className:"text-gray-600 mb-2",children:v}),e.jsx("p",{className:"text-red-600 text-sm font-medium",children:f})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx(R,{type:"button",variant:"ghost",onClick:w,disabled:p,children:y}),e.jsx(R,{type:"button",variant:"danger",onClick:a,disabled:p,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:e.jsxs("div",{className:"flex items-center",children:[p&&e.jsx(_s,{className:"animate-spin w-4 h-4 mr-2"}),p?"Deleting...":g]})})]})]})})},de=(s,t)=>{const[a,r]=x.useState(s);return x.useEffect(()=>{const c=setTimeout(()=>{r(s)},t);return()=>{clearTimeout(c)}},[s,t]),a},xt=({filters:s,onFiltersChange:t,onResetFilters:a,isLoading:r=!1})=>{const[c,i]=x.useState(!1),[l,p]=x.useState(s.search||""),[g,y]=x.useState(s.name||""),[v,d]=x.useState(s.location||""),[w,u]=x.useState(s.owner_email||""),[m,f]=x.useState(s.owner_phone||""),k=de(l,500),O=de(g,500),$=de(v,500),I=de(w,500),A=de(m,500);x.useEffect(()=>{t({search:k||void 0})},[k,t]),x.useEffect(()=>{t({name:O||void 0})},[O,t]),x.useEffect(()=>{t({location:$||void 0})},[$,t]),x.useEffect(()=>{t({owner_email:I||void 0})},[I,t]),x.useEffect(()=>{t({owner_phone:A||void 0})},[A,t]),x.useEffect(()=>{p(s.search||""),y(s.name||""),d(s.location||""),u(s.owner_email||""),f(s.owner_phone||"")},[s.search,s.name,s.location,s.owner_email,s.owner_phone]);const b=x.useCallback((n,P)=>{if(n==="has_children")t(P==="true"?{[n]:!0}:P==="false"?{[n]:!1}:{[n]:void 0});else switch(n){case"search":p(P);break;case"name":y(P);break;case"location":d(P);break;case"owner_email":u(P);break;case"owner_phone":f(P);break;default:t({[n]:P===""?void 0:P})}},[t]),T=[{value:"",label:"All Status",icon:"🔘"},{value:"active",label:"Active",icon:"🟢"},{value:"inactive",label:"Inactive",icon:"🔴"}],q=[{value:"name",label:"Name",icon:"📝"},{value:"location",label:"Location",icon:"📍"},{value:"created_at",label:"Created Date",icon:"📅"},{value:"owner_name",label:"Owner Name",icon:"👤"},{value:"owner_email",label:"Owner Email",icon:"📧"}],j=[{value:"asc",label:"A-Z",icon:"⬆️"},{value:"desc",label:"Z-A",icon:"⬇️"}],W=[{value:"10",label:"10 items",icon:"📄"},{value:"15",label:"15 items",icon:"📄"},{value:"25",label:"25 items",icon:"📄"},{value:"50",label:"50 items",icon:"📄"},{value:"100",label:"100 items",icon:"📄"}],h=[{value:"",label:"Any",icon:"🔘"},{value:"true",label:"Yes",icon:"✅"},{value:"false",label:"No",icon:"❌"}],C=[{value:"",label:"Any Type",icon:"🔘"},{value:"null",label:"Main Hospitals Only",icon:"🏛️"}],z=x.useMemo(()=>{const n=(ee,B)=>B==null||typeof B=="string"&&B.trim()===""?!0:ee==="parent_hospital_id"&&(B===""||B==="null")?B==="":!1,P=Object.entries(s).filter(([ee,B])=>["page","per_page","sort_by","sort_direction"].includes(ee)?!1:!n(ee,B)),G=!!(l!=null&&l.trim()||g!=null&&g.trim()||v!=null&&v.trim()||w!=null&&w.trim()||m!=null&&m.trim());return console.log("hasActiveFilters debug:",{filterValues:P,hasLocalInputs:G,filters:s,localInputs:{searchInput:l==null?void 0:l.trim(),nameInput:g==null?void 0:g.trim(),locationInput:v==null?void 0:v.trim(),ownerEmailInput:w==null?void 0:w.trim(),ownerPhoneInput:m==null?void 0:m.trim()}}),P.length>0||G},[s,l,g,v,w,m]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/80 rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Se,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",placeholder:"Search hospitals, locations, owners...",value:l,onChange:n=>b("search",n.target.value),className:"block w-full pl-12 pr-4 py-3 sm:text-sm border-0 rounded-xl bg-white shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:flex-shrink-0",children:[e.jsx(R,{variant:"outline",icon:c?We:xs,iconPosition:"left",onClick:()=>i(!c),className:`px-4 py-3 rounded-xl border-2 transition-all duration-200 ${c?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50"} ${c?"[&_svg]:rotate-180":""}`,disabled:r,children:e.jsx("span",{className:"font-medium",children:"Advanced"})}),z&&e.jsx(R,{variant:"ghost",icon:F,iconPosition:"left",onClick:()=>{p(""),y(""),d(""),u(""),f(""),a()},className:"px-4 py-3 rounded-xl border-2 border-red-200 bg-red-50 text-red-700 hover:border-red-300 hover:bg-red-100 transition-all duration-200",disabled:r,title:"Clear all filters",children:e.jsx("span",{className:"font-medium",children:"Reset"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[e.jsx(ie,{label:"Status",options:T,value:s.status||"",onChange:n=>b("status",n),placeholder:"All Status",disabled:r,size:"sm"}),e.jsx(ie,{label:"Sort By",options:q,value:s.sort_by||"name",onChange:n=>b("sort_by",n),placeholder:"Select sort field",disabled:r,size:"sm"}),e.jsx(ie,{label:"Order",options:j,value:s.sort_direction||"asc",onChange:n=>b("sort_direction",n),placeholder:"Select order",disabled:r,size:"sm"}),e.jsx(ie,{label:"Per Page",options:W,value:String(s.per_page||15),onChange:n=>b("per_page",n),placeholder:"Items per page",disabled:r,size:"sm"})]})]})}),c&&e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 border border-gray-200/60 shadow-sm animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced Filters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use these filters to narrow down your search with specific criteria."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"🏥"}),"Hospital Name"]}),e.jsx("input",{type:"text",placeholder:"e.g. City General Hospital",value:g,onChange:n=>b("name",n.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"📍"}),"Location"]}),e.jsx("input",{type:"text",placeholder:"e.g. New York, Los Angeles",value:v,onChange:n=>b("location",n.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-purple-500 mr-2",children:"📧"}),"Owner Email"]}),e.jsx("input",{type:"email",placeholder:"e.g. admin@hospital.com",value:w,onChange:n=>b("owner_email",n.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-orange-500 mr-2",children:"📞"}),"Owner Phone"]}),e.jsx("input",{type:"tel",placeholder:"e.g. +1 (555) 123-4567",value:m,onChange:n=>b("owner_phone",n.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200 placeholder:text-gray-400",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-cyan-500 mr-2",children:"📅"}),"Created From"]}),e.jsx("input",{type:"date",value:s.created_from||"",onChange:n=>b("created_from",n.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx("span",{className:"text-pink-500 mr-2",children:"📅"}),"Created To"]}),e.jsx("input",{type:"date",value:s.created_to||"",onChange:n=>b("created_to",n.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border-0 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-600 focus:ring-inset disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm transition-all duration-200",disabled:r})]}),e.jsx(ie,{label:"🏢 Has Branches",options:h,value:s.has_children===!0?"true":s.has_children===!1?"false":"",onChange:n=>b("has_children",n),placeholder:"Any",disabled:r,size:"sm"}),e.jsx(ie,{label:"🏛️ Hospital Type",options:C,value:String(s.parent_hospital_id||""),onChange:n=>b("parent_hospital_id",n),placeholder:"Any Type",disabled:r,size:"sm"})]})]}),z&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 space-y-3",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-700 flex items-center",children:[e.jsx(xs,{className:"h-4 w-4 mr-1"}),"Active Filters:"]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.search||l)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Search: ",s.search||l,e.jsx("button",{onClick:()=>{p(""),t({search:void 0})},className:"ml-1 hover:text-blue-600",disabled:r,children:e.jsx(F,{size:12})})]}),s.status&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",s.status,e.jsx("button",{onClick:()=>b("status",""),className:"ml-1 hover:text-green-600",disabled:r,children:e.jsx(F,{size:12})})]}),(s.location||v)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Location: ",s.location||v,e.jsx("button",{onClick:()=>{d(""),t({location:void 0})},className:"ml-1 hover:text-purple-600",disabled:r,children:e.jsx(F,{size:12})})]}),(s.name||g)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Name: ",s.name||g,e.jsx("button",{onClick:()=>{y(""),t({name:void 0})},className:"ml-1 hover:text-indigo-600",disabled:r,children:e.jsx(F,{size:12})})]}),(s.owner_email||w)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:["Owner Email: ",s.owner_email||w,e.jsx("button",{onClick:()=>{u(""),t({owner_email:void 0})},className:"ml-1 hover:text-pink-600",disabled:r,children:e.jsx(F,{size:12})})]}),(s.owner_phone||m)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:["Owner Phone: ",s.owner_phone||m,e.jsx("button",{onClick:()=>{f(""),t({owner_phone:void 0})},className:"ml-1 hover:text-teal-600",disabled:r,children:e.jsx(F,{size:12})})]}),s.created_from&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["From: ",new Date(s.created_from).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_from:void 0}),className:"ml-1 hover:text-orange-600",disabled:r,children:e.jsx(F,{size:12})})]}),s.created_to&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["To: ",new Date(s.created_to).toLocaleDateString(),e.jsx("button",{onClick:()=>t({created_to:void 0}),className:"ml-1 hover:text-red-600",disabled:r,children:e.jsx(F,{size:12})})]}),s.has_children!==void 0&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["Has Children: ",s.has_children?"Yes":"No",e.jsx("button",{onClick:()=>t({has_children:void 0}),className:"ml-1 hover:text-gray-600",disabled:r,children:e.jsx(F,{size:12})})]}),s.parent_hospital_id&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Parent:"," ",s.parent_hospital_id==="null"?"Main Only":`ID ${s.parent_hospital_id}`,e.jsx("button",{onClick:()=>t({parent_hospital_id:void 0}),className:"ml-1 hover:text-yellow-600",disabled:r,children:e.jsx(F,{size:12})})]})]})]})]})},ut=async s=>{const t={};return s&&(s.search&&(t.global_search=s.search),s.name&&(t.hospital_name=s.name),s.status&&(t.status=s.status),s.location&&(t.location=s.location),s.owner_email&&(t.owner_email=s.owner_email),s.owner_phone&&(t.owner_phone=s.owner_phone),s.created_from&&(t.created_from=s.created_from),s.created_to&&(t.created_to=s.created_to),s.has_children!==void 0&&(t.has_branches=s.has_children),s.parent_hospital_id!==void 0&&(t.hospital_type=s.parent_hospital_id),s.sort_by&&(t.sort_by=s.sort_by),s.sort_direction&&(t.sort_direction=s.sort_direction),s.per_page&&(t.per_page=s.per_page),s.page&&(t.page=s.page)),(await Ee.get("/hospitals/search/advanced",{params:t})).data},Es=(s,t)=>rt({queryKey:["hospitals","all",s],queryFn:()=>ut(s),enabled:(t==null?void 0:t.enabled)!==!1,staleTime:5*60*1e3,retry:(a,r)=>r&&"status"in r&&typeof r.status=="number"?r.status>=500&&a<3:a<3}),pt=async s=>(await Ee.post("/hospitals",s)).data,gt=()=>{const s=Ce();return Ge({mutationFn:pt,onSuccess:t=>{s.invalidateQueries({queryKey:["hospitals"]}),V.success(t.message||"Hospital created successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){V.error(a[0]);return}}V.error(t.message||"Failed to create hospital")}})},ft=async({id:s,data:t})=>(await Ee.patch(`/hospitals/${s}`,t)).data,bt=()=>{const s=Ce();return Ge({mutationFn:ft,onSuccess:(t,a)=>{s.invalidateQueries({queryKey:["hospitals"]}),s.setQueryData(["hospitals","show",a.id],t),V.success(t.message||"Hospital updated successfully!")},onError:t=>{if(t.errors){const a=Object.values(t.errors)[0];if(a&&a.length>0){V.error(a[0]);return}}V.error(t.message||"Failed to update hospital")}})},yt=async s=>(await Ee.delete(`/hospitals/${s}`)).data,wt=()=>{const s=Ce();return Ge({mutationFn:yt,onSuccess:t=>{s.invalidateQueries({queryKey:["hospitals"]}),V.success(t.message||"Hospital deleted successfully!")},onError:t=>{V.error(t.message||"Failed to delete hospital")}})},vt=vs({owner_image_url:S().url("Please enter a valid URL").nullable().notRequired(),name:S().required("Hospital name is required").max(255,"Hospital name must not exceed 255 characters"),email:S().email("Please enter a valid email address").required("Email is required"),owner_name:S().required("Owner name is required"),phone:S().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),hospital_phone:S().required("Hospital phone number is required").max(20,"Hospital phone number must not exceed 20 characters"),password:S().min(8,"Password must be at least 8 characters").required("Password is required"),password_confirmation:S().oneOf([js("password")],"Passwords do not match").required("Password confirmation is required"),location:S().required("Location is required").max(255,"Location must not exceed 255 characters"),description:S().max(1e3,"Description must not exceed 1000 characters").optional(),image_url:S().url("Please enter a valid URL").max(500,"Image URL must not exceed 500 characters").optional(),parent_hospital_id:S().optional(),status:S().oneOf(["active","inactive"],"Status must be either active or inactive").required("Status is required")}),jt=vs({owner_image_url:S().url("Please enter a valid URL").nullable().notRequired(),name:S().required("Hospital name is required").max(255,"Hospital name must not exceed 255 characters"),email:S().email("Please enter a valid email address").optional(),owner_name:S().required("Owner name is required"),phone:S().required("Phone number is required").max(20,"Phone number must not exceed 20 characters"),hospital_phone:S().required("Hospital phone number is required").max(20,"Hospital phone number must not exceed 20 characters"),password:S().nullable().transform(s=>s===""?null:s).test("min-length","Password must be at least 8 characters",s=>!s||s.length>=8).optional(),password_confirmation:S().nullable().transform(s=>s===""?null:s).when("password",{is:s=>s&&s.length>0,then:s=>s.oneOf([js("password")],"Passwords do not match").required("Password confirmation is required"),otherwise:s=>s.optional()}),location:S().required("Location is required").max(255,"Location must not exceed 255 characters"),description:S().max(1e3,"Description must not exceed 1000 characters").optional(),image_url:S().url("Please enter a valid URL").max(500,"Image URL must not exceed 500 characters").optional(),parent_hospital_id:S().optional(),status:S().oneOf(["active","inactive"],"Status must be either active or inactive").required("Status is required")}),Nt=({isOpen:s,onClose:t,hospital:a,onSuccess:r})=>{var z,n,P,G,ee,B,Je,Xe,es,ss,ts,as,rs,is,ns;const c=!!a,[i,l]=x.useState(!1),[p,g]=x.useState(!1),y=ws(zs),v=(y==null?void 0:y.role)==="hospital-admin",d=(y==null?void 0:y.role)==="admin",w=ds({resolver:ms(vt),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",email:"",owner_name:"",owner_image_url:"",phone:"",hospital_phone:"",password:"",password_confirmation:"",location:"",description:"",image_url:"",parent_hospital_id:"",status:"active"}}),u=ds({resolver:ms(jt),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:"",email:"",phone:"",hospital_phone:"",password:"",password_confirmation:"",location:"",description:"",image_url:"",parent_hospital_id:"",status:"active"}}),m=c?u:w,f=gt(),k=bt(),{data:O,isLoading:$}=Es(d&&s?{per_page:100,parent_hospital_id:"null"}:void 0,{enabled:d&&s}),I=v?y==null?void 0:y.hospital_id:null;x.useEffect(()=>{var _;if(s)if(c&&a)m.reset({name:a.name,email:a.owner.email||"",owner_name:a.owner.name||"",owner_image_url:a.owner_image_url||"",phone:a.owner.phone||"",hospital_phone:a.hospital_phone||"",password:"",password_confirmation:"",description:a.description||"",location:a.location,image_url:a.image_url||"",parent_hospital_id:((_=a.parent_hospital_id)==null?void 0:_.toString())||"",status:a.owner.status});else{const E={name:"",email:"",owner_name:"",owner_image_url:"",phone:"",hospital_phone:"",password:"",password_confirmation:"",description:"",location:"",image_url:"",parent_hospital_id:v&&I?I.toString():"",status:"active"};m.reset(E)}},[s,c,a,m,v,I]);const A=async _=>{try{if(c&&a){const E={name:_.name,description:_.description||void 0,location:_.location,image_url:_.image_url||void 0,phone:_.phone,hospital_phone:_.hospital_phone,parent_hospital_id:_.parent_hospital_id?parseInt(_.parent_hospital_id):null,is_active:_.status==="active"?1:0};_.password&&(E.password=_.password,E.password_confirmation=_.password_confirmation);const He=await k.mutateAsync({id:a.id,data:E});r==null||r(He.data)}else{const E=_,He={name:E.name,email:E.email,owner_name:E.owner_name,owner_image_url:E.owner_image_url,phone:E.phone,hospital_phone:E.hospital_phone,password:E.password,password_confirmation:E.password_confirmation,description:E.description||void 0,location:E.location,image_url:E.image_url||void 0,parent_hospital_id:E.parent_hospital_id?parseInt(E.parent_hospital_id):void 0,is_active:E.status==="active"?1:0},Hs=await f.mutateAsync(He);r==null||r(Hs.data)}t()}catch(E){console.error("Hospital operation failed:",E)}},b=()=>{f.isPending||k.isPending||t()},T=[{value:"",label:"No Parent Hospital (Main Hospital)"},...((n=(z=O==null?void 0:O.data)==null?void 0:z.filter(_=>!c||_.id!==(a==null?void 0:a.id)))==null?void 0:n.map(_=>({value:_.id.toString(),label:_.name})))||[]],q=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],j=f.isPending||k.isPending,W=_=>m.watch(_)||"",h=(_,E)=>{m.setValue(_,E)},C=_=>m.register(_);return e.jsx(Ss,{isOpen:s,onClose:b,title:c?"Edit Hospital":"Add New Hospital",maxWidth:"2xl",closeOnOverlayClick:!j,children:e.jsxs("form",{onSubmit:m.handleSubmit(A),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Z,{...C("name"),label:"Hospital Name *",type:"text",placeholder:"Enter hospital name",error:(P=m.formState.errors.name)==null?void 0:P.message,disabled:j}),e.jsx(Z,{...C("owner_name"),label:"Owner Name *",type:"text",placeholder:"Enter owner name",error:(G=m.formState.errors.owner_name)==null?void 0:G.message,disabled:j})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(Z,{...C("hospital_phone"),label:"Hospital Phone *",type:"tel",placeholder:"Enter hospital phone number",error:(ee=m.formState.errors.hospital_phone)==null?void 0:ee.message,disabled:j}),e.jsx(Z,{...C("phone"),label:"Owner Phone *",type:"tel",placeholder:"Enter owner phone number",error:(B=m.formState.errors.phone)==null?void 0:B.message,disabled:j})]}),e.jsx("div",{className:"mt-4",children:e.jsx(Z,{...C("email"),label:"Email Address *",type:"email",placeholder:"Enter email address",error:(Je=m.formState.errors.email)==null?void 0:Je.message,disabled:j||c})}),e.jsx("div",{className:"mt-4",children:e.jsx(Z,{...C("location"),label:"Location *",type:"text",placeholder:"Enter hospital location",error:(Xe=m.formState.errors.location)==null?void 0:Xe.message,disabled:j})}),e.jsx("div",{className:"mt-4",children:e.jsx(Ts,{...C("description"),label:"Description",placeholder:"Enter hospital description (optional)",error:(es=m.formState.errors.description)==null?void 0:es.message,disabled:j,rows:3})}),d&&e.jsx("div",{className:"mt-4",children:e.jsx(fs,{label:"Parent Hospital",options:T,value:W("parent_hospital_id"),onChange:_=>h("parent_hospital_id",_),placeholder:"Select parent hospital",searchPlaceholder:"Search hospitals...",disabled:j||$,error:(ss=m.formState.errors.parent_hospital_id)==null?void 0:ss.message})}),e.jsx("div",{className:"mt-4",children:e.jsx(Z,{...C("image_url"),label:"Hospital Image URL",type:"url",placeholder:"Enter hospital image URL (optional)",error:(ts=m.formState.errors.image_url)==null?void 0:ts.message,disabled:j})}),e.jsx("div",{className:"mt-4",children:e.jsx(Z,{...C("owner_image_url"),label:"Owner Image URL",type:"url",placeholder:"Enter owner image URL (optional)",error:(as=m.formState.errors.owner_image_url)==null?void 0:as.message,disabled:j})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx("div",{className:"relative",children:e.jsx(Z,{...C("password"),label:c?"New Password":"Password *",type:i?"text":"password",placeholder:c?"Leave blank to keep current password":"Enter password",error:(rs=m.formState.errors.password)==null?void 0:rs.message,disabled:j,rightIcon:i?hs:xe,onRightIconClick:()=>l(!i)})}),e.jsx("div",{className:"relative",children:e.jsx(Z,{...C("password_confirmation"),label:c?"Confirm New Password":"Confirm Password *",type:p?"text":"password",placeholder:"Confirm password",error:(is=m.formState.errors.password_confirmation)==null?void 0:is.message,disabled:j,rightIcon:p?hs:xe,onRightIconClick:()=>g(!p)})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.jsx(fs,{label:"Status *",options:q,value:W("status")||"active",onChange:_=>h("status",_),disabled:j,error:(ns=m.formState.errors.status)==null?void 0:ns.message,allowClear:!1})}),c&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ms,{className:"w-4 h-4 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Password Update"}),e.jsx("p",{children:"Leave password fields empty to keep the current password unchanged."})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx(R,{type:"button",variant:"ghost",onClick:b,disabled:j,children:"Cancel"}),e.jsx(R,{type:"submit",disabled:j,children:e.jsxs("div",{className:"flex items-center",children:[j&&e.jsx(_s,{className:"animate-spin w-4 h-4 mr-2"}),j?c?"Updating...":"Creating...":c?"Update Hospital":"Create Hospital"]})})]})]})})},_t=s=>({...s,owner:{...s.owner,status:s.is_active===1?"active":"inactive",phone:s.owner.phone||""}}),kt=s=>({current_page:s.current_page,per_page:s.per_page,total:s.total,last_page:s.last_page,from:s.from,to:s.to,has_more_pages:s.current_page<s.last_page}),Ct=()=>{const[s,t]=x.useState({page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"}),{data:a,isLoading:r,error:c}=Es(s,{enabled:!0}),i=x.useMemo(()=>a?{hospitals:a.data.map(_t),pagination:kt(a.meta),meta:a.meta,links:a.links}:null,[a]);x.useEffect(()=>{c&&(V.error("Failed to fetch hospitals"),console.error("Hospital API Error:",c))},[c]);const l=x.useCallback(g=>{t(y=>({...y,...g}))},[]),p=x.useCallback(()=>{t({page:1,per_page:15,sort_by:"created_at",sort_direction:"desc"})},[]);return{hospitals:(i==null?void 0:i.hospitals)||[],pagination:(i==null?void 0:i.pagination)||null,meta:(i==null?void 0:i.meta)||null,links:(i==null?void 0:i.links)||null,isLoading:r,error:c,filters:s,updateFilters:l,resetFilters:p}},St=()=>{const[s,t]=x.useState(!1),a=wt(),r=x.useCallback(async l=>{t(!0);try{return await new Promise(p=>setTimeout(p,1e3)),V.success("Hospital created successfully! (Simulated)"),{success:!0}}catch(p){throw V.error("Failed to create hospital"),p}finally{t(!1)}},[]),c=x.useCallback(async(l,p)=>{t(!0);try{return await new Promise(g=>setTimeout(g,1e3)),V.success("Hospital updated successfully! (Simulated)"),{success:!0}}catch(g){throw V.error("Failed to update hospital"),g}finally{t(!1)}},[]),i=x.useCallback(async l=>{try{return await a.mutateAsync(l),{success:!0}}catch(p){throw p}},[a]);return{createHospital:r,updateHospital:c,deleteHospital:i,isLoading:s||a.isPending}},Et=s=>{switch(s){case"active":return"text-green-700 bg-green-100";case"inactive":return"text-red-700 bg-red-100";default:return"text-gray-700 bg-gray-100"}},Ht=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Rt=({setActiveFilter:s})=>{const t=Be(),[a,r]=x.useState(!1),[c,i]=x.useState(null),[l,p]=x.useState(!1),[g,y]=x.useState(null),{hospitals:v,pagination:d,isLoading:w,filters:u,updateFilters:m,resetFilters:f}=Ct(),{deleteHospital:k,isLoading:O}=St(),$=h=>{s("doctors"),t(`/hospitals/${h}`)},I=h=>{i(h),r(!0)},A=h=>{y(h),p(!0)},b=async()=>{g&&(await k(g.id),p(!1),y(null))},T=()=>{O||(p(!1),y(null))},q=()=>{i(null),r(!0)},j=()=>{r(!1),i(null)},W=h=>{console.log("Hospital operation successful:",h)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Hospitals"}),d&&e.jsx("div",{className:"hidden sm:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(Ne,{className:"text-gray-500",size:18})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:d.total})]})})]}),e.jsx(R,{icon:_e,iconPosition:"left",onClick:q,disabled:w,children:"Add Hospital"})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsx(xt,{filters:u,onFiltersChange:m,onResetFilters:f,isLoading:w})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px]",children:"Hospital Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Description"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Email"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"Hospital Phone"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Owner Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"Owner Phone"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Location"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Created On"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-40 min-w-[160px]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w?Array.from({length:u.per_page||15},(h,C)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded mr-3 flex-shrink-0"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-36"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded p-2"})]})})]},`skeleton-${C}`)):v.map(h=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[h.image_url?e.jsx("img",{src:h.image_url,alt:h.name,className:"w-full h-full object-cover",onError:C=>{var n;const z=C.target;z.style.display="none",(n=z.nextElementSibling)==null||n.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center ${h.image_url?"hidden":""}`,children:e.jsx(Ne,{className:"text-primary-600",size:16})})]}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",title:h.name,children:h.name})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-500",children:h.description||"No description available"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",title:h.owner.email,children:h.owner.email})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",title:h.hospital_phone||"N/A",children:h.hospital_phone||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-3 flex-shrink-0",children:[h.owner_image_url?e.jsx("img",{src:h.owner_image_url,alt:h.owner.name,className:"w-full h-full object-cover",onError:C=>{var n;const z=C.target;z.style.display="none",(n=z.nextElementSibling)==null||n.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center ${h.owner_image_url?"hidden":""}`,children:e.jsx(Is,{className:"text-blue-600",size:16})})]}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.owner.name})})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",title:h.owner.phone||"N/A",children:h.owner.phone||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-500 leading-tight",title:h.location,children:h.location})}),e.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:Ht(h.created_at)}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(h.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Et(h.owner.status)}`,children:h.owner.status.charAt(0).toUpperCase()+h.owner.status.slice(1)})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(R,{variant:"ghost",size:"sm",icon:xe,onClick:()=>$(h.id),className:"text-info-600 hover:text-info-800 hover:bg-info-50 p-2",title:"View Details",disabled:w}),e.jsx(R,{variant:"ghost",size:"sm",icon:Ke,onClick:()=>I(h),className:"text-success-600 hover:text-success-800 hover:bg-success-50 p-2",title:"Edit Hospital",disabled:w}),e.jsx(R,{variant:"ghost",size:"sm",icon:Ze,onClick:()=>A(h),className:"text-danger-600 hover:text-danger-800 hover:bg-danger-50 p-2",title:"Delete Hospital",disabled:w||O})]})})]},h.id))})]}),!w&&v.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Hospitals Found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base mb-4",children:Object.keys(u).length>2?"No hospitals match your current filters. Try adjusting your search criteria.":"Start by adding your first hospital to the system."}),e.jsx(R,{onClick:q,icon:_e,iconPosition:"left",children:"Add Hospital"})]})]}),d&&d.last_page>1&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:e.jsx(mt,{pagination:d,onPageChange:h=>m({page:h}),isLoading:w})}),e.jsx(Nt,{isOpen:a,onClose:j,hospital:c,onSuccess:W}),e.jsx(ht,{isOpen:l,onClose:T,onConfirm:b,title:"Delete Hospital",itemName:g==null?void 0:g.name,itemType:"hospital",isLoading:O,description:"This will permanently delete the hospital and its associated user account.",warningText:"This action cannot be undone."})]})},Pt=(s,t)=>{switch(s){case"doctors":return e.jsx(lt,{setActiveFilter:t});case"patients":return e.jsx(dt,{setActiveFilter:t});default:return e.jsx(Rt,{setActiveFilter:t})}},Ut=({activeFilter:s,setActiveFilter:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:Pt(s,t)})});export{Ut as R,qt as S,De as U,Lt as W,Pe as a};
